var iq=Object.defineProperty;var sq=(t,e,n)=>e in t?iq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var FN=(t,e,n)=>sq(t,typeof e!="symbol"?e+"":e,n);function aq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gj={exports:{}},M_={},$j={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=Symbol.for("react.element"),oq=Symbol.for("react.portal"),lq=Symbol.for("react.fragment"),uq=Symbol.for("react.strict_mode"),cq=Symbol.for("react.profiler"),fq=Symbol.for("react.provider"),hq=Symbol.for("react.context"),dq=Symbol.for("react.forward_ref"),pq=Symbol.for("react.suspense"),mq=Symbol.for("react.memo"),gq=Symbol.for("react.lazy"),UN=Symbol.iterator;function yq(t){return t===null||typeof t!="object"?null:(t=UN&&t[UN]||t["@@iterator"],typeof t=="function"?t:null)}var Vj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wj=Object.assign,Xj={};function $d(t,e,n){this.props=t,this.context=e,this.refs=Xj,this.updater=n||Vj}$d.prototype.isReactComponent={};$d.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$d.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qj(){}qj.prototype=$d.prototype;function MP(t,e,n){this.props=t,this.context=e,this.refs=Xj,this.updater=n||Vj}var CP=MP.prototype=new qj;CP.constructor=MP;Wj(CP,$d.prototype);CP.isPureReactComponent=!0;var zN=Array.isArray,Kj=Object.prototype.hasOwnProperty,TP={current:null},Jj={key:!0,ref:!0,__self:!0,__source:!0};function Yj(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Kj.call(e,r)&&!Jj.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:by,type:t,key:s,ref:a,props:i,_owner:TP.current}}function vq(t,e){return{$$typeof:by,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function PP(t){return typeof t=="object"&&t!==null&&t.$$typeof===by}function xq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jN=/\/+/g;function PA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xq(""+t.key):e.toString(36)}function Bx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case by:case oq:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+PA(a,0):r,zN(i)?(n="",t!=null&&(n=t.replace(jN,"$&/")+"/"),Bx(i,e,n,"",function(u){return u})):i!=null&&(PP(i)&&(i=vq(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jN,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",zN(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+PA(s,o);a+=Bx(s,e,n,l,i)}else if(l=yq(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+PA(s,o++),a+=Bx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function e0(t,e,n){if(t==null)return t;var r=[],i=0;return Bx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hi={current:null},Dx={transition:null},_q={ReactCurrentDispatcher:Hi,ReactCurrentBatchConfig:Dx,ReactCurrentOwner:TP};function Zj(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:e0,forEach:function(t,e,n){e0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return e0(t,function(){e++}),e},toArray:function(t){return e0(t,function(e){return e})||[]},only:function(t){if(!PP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fn.Component=$d;fn.Fragment=lq;fn.Profiler=cq;fn.PureComponent=MP;fn.StrictMode=uq;fn.Suspense=pq;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_q;fn.act=Zj;fn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wj({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=TP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Kj.call(e,l)&&!Jj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:by,type:t.type,key:i,ref:s,props:r,_owner:a}};fn.createContext=function(t){return t={$$typeof:hq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fq,_context:t},t.Consumer=t};fn.createElement=Yj;fn.createFactory=function(t){var e=Yj.bind(null,t);return e.type=t,e};fn.createRef=function(){return{current:null}};fn.forwardRef=function(t){return{$$typeof:dq,render:t}};fn.isValidElement=PP;fn.lazy=function(t){return{$$typeof:gq,_payload:{_status:-1,_result:t},_init:bq}};fn.memo=function(t,e){return{$$typeof:mq,type:t,compare:e===void 0?null:e}};fn.startTransition=function(t){var e=Dx.transition;Dx.transition={};try{t()}finally{Dx.transition=e}};fn.unstable_act=Zj;fn.useCallback=function(t,e){return Hi.current.useCallback(t,e)};fn.useContext=function(t){return Hi.current.useContext(t)};fn.useDebugValue=function(){};fn.useDeferredValue=function(t){return Hi.current.useDeferredValue(t)};fn.useEffect=function(t,e){return Hi.current.useEffect(t,e)};fn.useId=function(){return Hi.current.useId()};fn.useImperativeHandle=function(t,e,n){return Hi.current.useImperativeHandle(t,e,n)};fn.useInsertionEffect=function(t,e){return Hi.current.useInsertionEffect(t,e)};fn.useLayoutEffect=function(t,e){return Hi.current.useLayoutEffect(t,e)};fn.useMemo=function(t,e){return Hi.current.useMemo(t,e)};fn.useReducer=function(t,e,n){return Hi.current.useReducer(t,e,n)};fn.useRef=function(t){return Hi.current.useRef(t)};fn.useState=function(t){return Hi.current.useState(t)};fn.useSyncExternalStore=function(t,e,n){return Hi.current.useSyncExternalStore(t,e,n)};fn.useTransition=function(){return Hi.current.useTransition()};fn.version="18.3.1";$j.exports=fn;var U=$j.exports;const he=On(U),wq=aq({__proto__:null,default:he},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sq=U,Aq=Symbol.for("react.element"),Eq=Symbol.for("react.fragment"),Mq=Object.prototype.hasOwnProperty,Cq=Sq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tq={key:!0,ref:!0,__self:!0,__source:!0};function Qj(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Mq.call(e,r)&&!Tq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Aq,type:t,key:s,ref:a,props:i,_owner:Cq.current}}M_.Fragment=Eq;M_.jsx=Qj;M_.jsxs=Qj;Gj.exports=M_;var C=Gj.exports,aC={},e5={exports:{}},Is={},t5={exports:{}},n5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,W){var N=L.length;L.push(W);e:for(;0<N;){var q=N-1>>>1,te=L[q];if(0<i(te,W))L[q]=W,L[N]=te,N=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],N=L.pop();if(N!==W){L[0]=N;e:for(var q=0,te=L.length,G=te>>>1;q<G;){var Ie=2*(q+1)-1,Oe=L[Ie],ae=Ie+1,_e=L[ae];if(0>i(Oe,N))ae<te&&0>i(_e,Oe)?(L[q]=_e,L[ae]=N,q=ae):(L[q]=Oe,L[Ie]=N,q=Ie);else if(ae<te&&0>i(_e,N))L[q]=_e,L[ae]=N,q=ae;else break e}}return W}function i(L,W){var N=L.sortIndex-W.sortIndex;return N!==0?N:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,c=null,h=3,d=!1,m=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function w(L){if(x=!1,b(L),!m)if(n(l)!==null)m=!0,X(E);else{var W=n(u);W!==null&&Z(w,W.startTime-L)}}function E(L,W){m=!1,x&&(x=!1,y(I),I=-1),d=!0;var N=h;try{for(b(W),c=n(l);c!==null&&(!(c.expirationTime>W)||L&&!k());){var q=c.callback;if(typeof q=="function"){c.callback=null,h=c.priorityLevel;var te=q(c.expirationTime<=W);W=t.unstable_now(),typeof te=="function"?c.callback=te:c===n(l)&&r(l),b(W)}else r(l);c=n(l)}if(c!==null)var G=!0;else{var Ie=n(u);Ie!==null&&Z(w,Ie.startTime-W),G=!1}return G}finally{c=null,h=N,d=!1}}var A=!1,P=null,I=-1,R=5,M=-1;function k(){return!(t.unstable_now()-M<R)}function B(){if(P!==null){var L=t.unstable_now();M=L;var W=!0;try{W=P(!0,L)}finally{W?H():(A=!1,P=null)}}else A=!1}var H;if(typeof _=="function")H=function(){_(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=B,H=function(){V.postMessage(null)}}else H=function(){v(B,0)};function X(L){P=L,A||(A=!0,H())}function Z(L,W){I=v(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,X(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var N=h;h=W;try{return L()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var N=h;h=L;try{return W()}finally{h=N}},t.unstable_scheduleCallback=function(L,W,N){var q=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?q+N:q):N=q,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=N+te,L={id:f++,callback:W,priorityLevel:L,startTime:N,expirationTime:te,sortIndex:-1},N>q?(L.sortIndex=N,e(u,L),n(l)===null&&L===n(u)&&(x?(y(I),I=-1):x=!0,Z(w,N-q))):(L.sortIndex=te,e(l,L),m||d||(m=!0,X(E))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var W=h;return function(){var N=h;h=W;try{return L.apply(this,arguments)}finally{h=N}}}})(n5);t5.exports=n5;var Pq=t5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rq=U,Ts=Pq;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r5=new Set,rg={};function pf(t,e){Yh(t,e),Yh(t+"Capture",e)}function Yh(t,e){for(rg[t]=e,t=0;t<e.length;t++)r5.add(e[t])}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oC=Object.prototype.hasOwnProperty,Iq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HN={},GN={};function Oq(t){return oC.call(GN,t)?!0:oC.call(HN,t)?!1:Iq.test(t)?GN[t]=!0:(HN[t]=!0,!1)}function kq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nq(t,e,n,r){if(e===null||typeof e>"u"||kq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gi(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oi[t]=new Gi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oi[e]=new Gi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oi[t]=new Gi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oi[t]=new Gi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oi[t]=new Gi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oi[t]=new Gi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oi[t]=new Gi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oi[t]=new Gi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oi[t]=new Gi(t,5,!1,t.toLowerCase(),null,!1,!1)});var RP=/[\-:]([a-z])/g;function IP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(RP,IP);oi[e]=new Gi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(RP,IP);oi[e]=new Gi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(RP,IP);oi[e]=new Gi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oi[t]=new Gi(t,1,!1,t.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oi[t]=new Gi(t,1,!1,t.toLowerCase(),null,!0,!0)});function OP(t,e,n,r){var i=oi.hasOwnProperty(e)?oi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nq(e,n,i,r)&&(n=null),r||i===null?Oq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xl=Rq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,t0=Symbol.for("react.element"),vh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),kP=Symbol.for("react.strict_mode"),lC=Symbol.for("react.profiler"),i5=Symbol.for("react.provider"),s5=Symbol.for("react.context"),NP=Symbol.for("react.forward_ref"),uC=Symbol.for("react.suspense"),cC=Symbol.for("react.suspense_list"),BP=Symbol.for("react.memo"),Wl=Symbol.for("react.lazy"),a5=Symbol.for("react.offscreen"),$N=Symbol.iterator;function Dp(t){return t===null||typeof t!="object"?null:(t=$N&&t[$N]||t["@@iterator"],typeof t=="function"?t:null)}var or=Object.assign,RA;function bm(t){if(RA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);RA=e&&e[1]||""}return`
`+RA+t}var IA=!1;function OA(t,e){if(!t||IA)return"";IA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{IA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bm(t):""}function Bq(t){switch(t.tag){case 5:return bm(t.type);case 16:return bm("Lazy");case 13:return bm("Suspense");case 19:return bm("SuspenseList");case 0:case 2:case 15:return t=OA(t.type,!1),t;case 11:return t=OA(t.type.render,!1),t;case 1:return t=OA(t.type,!0),t;default:return""}}function fC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xh:return"Fragment";case vh:return"Portal";case lC:return"Profiler";case kP:return"StrictMode";case uC:return"Suspense";case cC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s5:return(t.displayName||"Context")+".Consumer";case i5:return(t._context.displayName||"Context")+".Provider";case NP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BP:return e=t.displayName||null,e!==null?e:fC(t.type)||"Memo";case Wl:e=t._payload,t=t._init;try{return fC(t(e))}catch{}}return null}function Dq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fC(e);case 8:return e===kP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _u(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lq(t){var e=o5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function n0(t){t._valueTracker||(t._valueTracker=Lq(t))}function l5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=o5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function i1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hC(t,e){var n=e.checked;return or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_u(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u5(t,e){e=e.checked,e!=null&&OP(t,"checked",e,!1)}function dC(t,e){u5(t,e);var n=_u(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pC(t,e.type,n):e.hasOwnProperty("defaultValue")&&pC(t,e.type,_u(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pC(t,e,n){(e!=="number"||i1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _m=Array.isArray;function Dh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_u(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(rt(92));if(_m(n)){if(1<n.length)throw Error(rt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_u(n)}}function c5(t,e){var n=_u(e.value),r=_u(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function f5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?f5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var r0,h5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(r0=r0||document.createElement("div"),r0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ig(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fq=["Webkit","ms","Moz","O"];Object.keys(Pm).forEach(function(t){Fq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pm[e]=Pm[t]})});function d5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pm.hasOwnProperty(t)&&Pm[t]?(""+e).trim():e+"px"}function p5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Uq=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yC(t,e){if(e){if(Uq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function vC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xC=null;function DP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bC=null,Lh=null,Fh=null;function KN(t){if(t=Sy(t)){if(typeof bC!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=I_(e),bC(t.stateNode,t.type,e))}}function m5(t){Lh?Fh?Fh.push(t):Fh=[t]:Lh=t}function g5(){if(Lh){var t=Lh,e=Fh;if(Fh=Lh=null,KN(t),e)for(t=0;t<e.length;t++)KN(e[t])}}function y5(t,e){return t(e)}function v5(){}var kA=!1;function x5(t,e,n){if(kA)return t(e,n);kA=!0;try{return y5(t,e,n)}finally{kA=!1,(Lh!==null||Fh!==null)&&(v5(),g5())}}function sg(t,e){var n=t.stateNode;if(n===null)return null;var r=I_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(rt(231,e,typeof n));return n}var _C=!1;if(ll)try{var Lp={};Object.defineProperty(Lp,"passive",{get:function(){_C=!0}}),window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{_C=!1}function zq(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Rm=!1,s1=null,a1=!1,wC=null,jq={onError:function(t){Rm=!0,s1=t}};function Hq(t,e,n,r,i,s,a,o,l){Rm=!1,s1=null,zq.apply(jq,arguments)}function Gq(t,e,n,r,i,s,a,o,l){if(Hq.apply(this,arguments),Rm){if(Rm){var u=s1;Rm=!1,s1=null}else throw Error(rt(198));a1||(a1=!0,wC=u)}}function mf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function b5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JN(t){if(mf(t)!==t)throw Error(rt(188))}function $q(t){var e=t.alternate;if(!e){if(e=mf(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return JN(i),t;if(s===r)return JN(i),e;s=s.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?t:e}function _5(t){return t=$q(t),t!==null?w5(t):null}function w5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w5(t);if(e!==null)return e;t=t.sibling}return null}var S5=Ts.unstable_scheduleCallback,YN=Ts.unstable_cancelCallback,Vq=Ts.unstable_shouldYield,Wq=Ts.unstable_requestPaint,gr=Ts.unstable_now,Xq=Ts.unstable_getCurrentPriorityLevel,LP=Ts.unstable_ImmediatePriority,A5=Ts.unstable_UserBlockingPriority,o1=Ts.unstable_NormalPriority,qq=Ts.unstable_LowPriority,E5=Ts.unstable_IdlePriority,C_=null,co=null;function Kq(t){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(C_,t,void 0,(t.current.flags&128)===128)}catch{}}var La=Math.clz32?Math.clz32:Zq,Jq=Math.log,Yq=Math.LN2;function Zq(t){return t>>>=0,t===0?32:31-(Jq(t)/Yq|0)|0}var i0=64,s0=4194304;function wm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function l1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=wm(o):(s&=a,s!==0&&(r=wm(s)))}else a=n&~i,a!==0?r=wm(a):s!==0&&(r=wm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-La(e),i=1<<n,r|=t[n],e&=~i;return r}function Qq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-La(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Qq(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function SC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M5(){var t=i0;return i0<<=1,!(i0&4194240)&&(i0=64),t}function NA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _y(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-La(e),t[e]=n}function tK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-La(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function FP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-La(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nn=0;function C5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T5,UP,P5,R5,I5,AC=!1,a0=[],lu=null,uu=null,cu=null,ag=new Map,og=new Map,Jl=[],nK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZN(t,e){switch(t){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":uu=null;break;case"mouseover":case"mouseout":cu=null;break;case"pointerover":case"pointerout":ag.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":og.delete(e.pointerId)}}function Fp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sy(e),e!==null&&UP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rK(t,e,n,r,i){switch(e){case"focusin":return lu=Fp(lu,t,e,n,r,i),!0;case"dragenter":return uu=Fp(uu,t,e,n,r,i),!0;case"mouseover":return cu=Fp(cu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ag.set(s,Fp(ag.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,og.set(s,Fp(og.get(s)||null,t,e,n,r,i)),!0}return!1}function O5(t){var e=Ec(t.target);if(e!==null){var n=mf(e);if(n!==null){if(e=n.tag,e===13){if(e=b5(n),e!==null){t.blockedOn=e,I5(t.priority,function(){P5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=EC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xC=r,n.target.dispatchEvent(r),xC=null}else return e=Sy(n),e!==null&&UP(e),t.blockedOn=n,!1;e.shift()}return!0}function QN(t,e,n){Lx(t)&&n.delete(e)}function iK(){AC=!1,lu!==null&&Lx(lu)&&(lu=null),uu!==null&&Lx(uu)&&(uu=null),cu!==null&&Lx(cu)&&(cu=null),ag.forEach(QN),og.forEach(QN)}function Up(t,e){t.blockedOn===e&&(t.blockedOn=null,AC||(AC=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,iK)))}function lg(t){function e(i){return Up(i,t)}if(0<a0.length){Up(a0[0],t);for(var n=1;n<a0.length;n++){var r=a0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lu!==null&&Up(lu,t),uu!==null&&Up(uu,t),cu!==null&&Up(cu,t),ag.forEach(e),og.forEach(e),n=0;n<Jl.length;n++)r=Jl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jl.length&&(n=Jl[0],n.blockedOn===null);)O5(n),n.blockedOn===null&&Jl.shift()}var Uh=xl.ReactCurrentBatchConfig,u1=!0;function sK(t,e,n,r){var i=Nn,s=Uh.transition;Uh.transition=null;try{Nn=1,zP(t,e,n,r)}finally{Nn=i,Uh.transition=s}}function aK(t,e,n,r){var i=Nn,s=Uh.transition;Uh.transition=null;try{Nn=4,zP(t,e,n,r)}finally{Nn=i,Uh.transition=s}}function zP(t,e,n,r){if(u1){var i=EC(t,e,n,r);if(i===null)$A(t,e,r,c1,n),ZN(t,r);else if(rK(i,t,e,n,r))r.stopPropagation();else if(ZN(t,r),e&4&&-1<nK.indexOf(t)){for(;i!==null;){var s=Sy(i);if(s!==null&&T5(s),s=EC(t,e,n,r),s===null&&$A(t,e,r,c1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $A(t,e,r,null,n)}}var c1=null;function EC(t,e,n,r){if(c1=null,t=DP(r),t=Ec(t),t!==null)if(e=mf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=b5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return c1=t,null}function k5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xq()){case LP:return 1;case A5:return 4;case o1:case qq:return 16;case E5:return 536870912;default:return 16}default:return 16}}var nu=null,jP=null,Fx=null;function N5(){if(Fx)return Fx;var t,e=jP,n=e.length,r,i="value"in nu?nu.value:nu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Fx=i.slice(t,1<r?1-r:void 0)}function Ux(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o0(){return!0}function eB(){return!1}function Os(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?o0:eB,this.isPropagationStopped=eB,this}return or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=o0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=o0)},persist:function(){},isPersistent:o0}),e}var Vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HP=Os(Vd),wy=or({},Vd,{view:0,detail:0}),oK=Os(wy),BA,DA,zp,T_=or({},wy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zp&&(zp&&t.type==="mousemove"?(BA=t.screenX-zp.screenX,DA=t.screenY-zp.screenY):DA=BA=0,zp=t),BA)},movementY:function(t){return"movementY"in t?t.movementY:DA}}),tB=Os(T_),lK=or({},T_,{dataTransfer:0}),uK=Os(lK),cK=or({},wy,{relatedTarget:0}),LA=Os(cK),fK=or({},Vd,{animationName:0,elapsedTime:0,pseudoElement:0}),hK=Os(fK),dK=or({},Vd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pK=Os(dK),mK=or({},Vd,{data:0}),nB=Os(mK),gK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vK[t])?!!e[t]:!1}function GP(){return xK}var bK=or({},wy,{key:function(t){if(t.key){var e=gK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ux(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GP,charCode:function(t){return t.type==="keypress"?Ux(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ux(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_K=Os(bK),wK=or({},T_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rB=Os(wK),SK=or({},wy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GP}),AK=Os(SK),EK=or({},Vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),MK=Os(EK),CK=or({},T_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TK=Os(CK),PK=[9,13,27,32],$P=ll&&"CompositionEvent"in window,Im=null;ll&&"documentMode"in document&&(Im=document.documentMode);var RK=ll&&"TextEvent"in window&&!Im,B5=ll&&(!$P||Im&&8<Im&&11>=Im),iB=" ",sB=!1;function D5(t,e){switch(t){case"keyup":return PK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bh=!1;function IK(t,e){switch(t){case"compositionend":return L5(e);case"keypress":return e.which!==32?null:(sB=!0,iB);case"textInput":return t=e.data,t===iB&&sB?null:t;default:return null}}function OK(t,e){if(bh)return t==="compositionend"||!$P&&D5(t,e)?(t=N5(),Fx=jP=nu=null,bh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B5&&e.locale!=="ko"?null:e.data;default:return null}}var kK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kK[t.type]:e==="textarea"}function F5(t,e,n,r){m5(r),e=f1(e,"onChange"),0<e.length&&(n=new HP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Om=null,ug=null;function NK(t){K5(t,0)}function P_(t){var e=Sh(t);if(l5(e))return t}function BK(t,e){if(t==="change")return e}var U5=!1;if(ll){var FA;if(ll){var UA="oninput"in document;if(!UA){var oB=document.createElement("div");oB.setAttribute("oninput","return;"),UA=typeof oB.oninput=="function"}FA=UA}else FA=!1;U5=FA&&(!document.documentMode||9<document.documentMode)}function lB(){Om&&(Om.detachEvent("onpropertychange",z5),ug=Om=null)}function z5(t){if(t.propertyName==="value"&&P_(ug)){var e=[];F5(e,ug,t,DP(t)),x5(NK,e)}}function DK(t,e,n){t==="focusin"?(lB(),Om=e,ug=n,Om.attachEvent("onpropertychange",z5)):t==="focusout"&&lB()}function LK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return P_(ug)}function FK(t,e){if(t==="click")return P_(e)}function UK(t,e){if(t==="input"||t==="change")return P_(e)}function zK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ja=typeof Object.is=="function"?Object.is:zK;function cg(t,e){if(ja(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oC.call(e,i)||!ja(t[i],e[i]))return!1}return!0}function uB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cB(t,e){var n=uB(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uB(n)}}function j5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H5(){for(var t=window,e=i1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=i1(t.document)}return e}function VP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jK(t){var e=H5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j5(n.ownerDocument.documentElement,n)){if(r!==null&&VP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cB(n,s);var a=cB(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HK=ll&&"documentMode"in document&&11>=document.documentMode,_h=null,MC=null,km=null,CC=!1;function fB(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;CC||_h==null||_h!==i1(r)||(r=_h,"selectionStart"in r&&VP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),km&&cg(km,r)||(km=r,r=f1(MC,"onSelect"),0<r.length&&(e=new HP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_h)))}function l0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wh={animationend:l0("Animation","AnimationEnd"),animationiteration:l0("Animation","AnimationIteration"),animationstart:l0("Animation","AnimationStart"),transitionend:l0("Transition","TransitionEnd")},zA={},G5={};ll&&(G5=document.createElement("div").style,"AnimationEvent"in window||(delete wh.animationend.animation,delete wh.animationiteration.animation,delete wh.animationstart.animation),"TransitionEvent"in window||delete wh.transitionend.transition);function R_(t){if(zA[t])return zA[t];if(!wh[t])return t;var e=wh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G5)return zA[t]=e[n];return t}var $5=R_("animationend"),V5=R_("animationiteration"),W5=R_("animationstart"),X5=R_("transitionend"),q5=new Map,hB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cu(t,e){q5.set(t,e),pf(e,[t])}for(var jA=0;jA<hB.length;jA++){var HA=hB[jA],GK=HA.toLowerCase(),$K=HA[0].toUpperCase()+HA.slice(1);Cu(GK,"on"+$K)}Cu($5,"onAnimationEnd");Cu(V5,"onAnimationIteration");Cu(W5,"onAnimationStart");Cu("dblclick","onDoubleClick");Cu("focusin","onFocus");Cu("focusout","onBlur");Cu(X5,"onTransitionEnd");Yh("onMouseEnter",["mouseout","mouseover"]);Yh("onMouseLeave",["mouseout","mouseover"]);Yh("onPointerEnter",["pointerout","pointerover"]);Yh("onPointerLeave",["pointerout","pointerover"]);pf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pf("onBeforeInput",["compositionend","keypress","textInput","paste"]);pf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sm));function dB(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Gq(r,e,void 0,t),t.currentTarget=null}function K5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;dB(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;dB(i,o,u),s=l}}}if(a1)throw t=wC,a1=!1,wC=null,t}function Wn(t,e){var n=e[OC];n===void 0&&(n=e[OC]=new Set);var r=t+"__bubble";n.has(r)||(J5(e,t,2,!1),n.add(r))}function GA(t,e,n){var r=0;e&&(r|=4),J5(n,t,r,e)}var u0="_reactListening"+Math.random().toString(36).slice(2);function fg(t){if(!t[u0]){t[u0]=!0,r5.forEach(function(n){n!=="selectionchange"&&(VK.has(n)||GA(n,!1,t),GA(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[u0]||(e[u0]=!0,GA("selectionchange",!1,e))}}function J5(t,e,n,r){switch(k5(e)){case 1:var i=sK;break;case 4:i=aK;break;default:i=zP}n=i.bind(null,e,n,t),i=void 0,!_C||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $A(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ec(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}x5(function(){var u=s,f=DP(n),c=[];e:{var h=q5.get(t);if(h!==void 0){var d=HP,m=t;switch(t){case"keypress":if(Ux(n)===0)break e;case"keydown":case"keyup":d=_K;break;case"focusin":m="focus",d=LA;break;case"focusout":m="blur",d=LA;break;case"beforeblur":case"afterblur":d=LA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=tB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=uK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=AK;break;case $5:case V5:case W5:d=hK;break;case X5:d=MK;break;case"scroll":d=oK;break;case"wheel":d=TK;break;case"copy":case"cut":case"paste":d=pK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=rB}var x=(e&4)!==0,v=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var _=u,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=sg(_,y),w!=null&&x.push(hg(_,w,b)))),v)break;_=_.return}0<x.length&&(h=new d(h,m,null,n,f),c.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==xC&&(m=n.relatedTarget||n.fromElement)&&(Ec(m)||m[ul]))break e;if((d||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?Ec(m):null,m!==null&&(v=mf(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(x=tB,w="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=rB,w="onPointerLeave",y="onPointerEnter",_="pointer"),v=d==null?h:Sh(d),b=m==null?h:Sh(m),h=new x(w,_+"leave",d,n,f),h.target=v,h.relatedTarget=b,w=null,Ec(f)===u&&(x=new x(y,_+"enter",m,n,f),x.target=b,x.relatedTarget=v,w=x),v=w,d&&m)t:{for(x=d,y=m,_=0,b=x;b;b=jf(b))_++;for(b=0,w=y;w;w=jf(w))b++;for(;0<_-b;)x=jf(x),_--;for(;0<b-_;)y=jf(y),b--;for(;_--;){if(x===y||y!==null&&x===y.alternate)break t;x=jf(x),y=jf(y)}x=null}else x=null;d!==null&&pB(c,h,d,x,!1),m!==null&&v!==null&&pB(c,v,m,x,!0)}}e:{if(h=u?Sh(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var E=BK;else if(aB(h))if(U5)E=UK;else{E=LK;var A=DK}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=FK);if(E&&(E=E(t,u))){F5(c,E,n,f);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&pC(h,"number",h.value)}switch(A=u?Sh(u):window,t){case"focusin":(aB(A)||A.contentEditable==="true")&&(_h=A,MC=u,km=null);break;case"focusout":km=MC=_h=null;break;case"mousedown":CC=!0;break;case"contextmenu":case"mouseup":case"dragend":CC=!1,fB(c,n,f);break;case"selectionchange":if(HK)break;case"keydown":case"keyup":fB(c,n,f)}var P;if($P)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else bh?D5(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(B5&&n.locale!=="ko"&&(bh||I!=="onCompositionStart"?I==="onCompositionEnd"&&bh&&(P=N5()):(nu=f,jP="value"in nu?nu.value:nu.textContent,bh=!0)),A=f1(u,I),0<A.length&&(I=new nB(I,t,null,n,f),c.push({event:I,listeners:A}),P?I.data=P:(P=L5(n),P!==null&&(I.data=P)))),(P=RK?IK(t,n):OK(t,n))&&(u=f1(u,"onBeforeInput"),0<u.length&&(f=new nB("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=P))}K5(c,e)})}function hg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function f1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sg(t,n),s!=null&&r.unshift(hg(t,s,i)),s=sg(t,e),s!=null&&r.push(hg(t,s,i))),t=t.return}return r}function jf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pB(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=sg(n,s),l!=null&&a.unshift(hg(n,l,o))):i||(l=sg(n,s),l!=null&&a.push(hg(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var WK=/\r\n?/g,XK=/\u0000|\uFFFD/g;function mB(t){return(typeof t=="string"?t:""+t).replace(WK,`
`).replace(XK,"")}function c0(t,e,n){if(e=mB(e),mB(t)!==e&&n)throw Error(rt(425))}function h1(){}var TC=null,PC=null;function RC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IC=typeof setTimeout=="function"?setTimeout:void 0,qK=typeof clearTimeout=="function"?clearTimeout:void 0,gB=typeof Promise=="function"?Promise:void 0,KK=typeof queueMicrotask=="function"?queueMicrotask:typeof gB<"u"?function(t){return gB.resolve(null).then(t).catch(JK)}:IC;function JK(t){setTimeout(function(){throw t})}function VA(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lg(e)}function fu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wd=Math.random().toString(36).slice(2),ao="__reactFiber$"+Wd,dg="__reactProps$"+Wd,ul="__reactContainer$"+Wd,OC="__reactEvents$"+Wd,YK="__reactListeners$"+Wd,ZK="__reactHandles$"+Wd;function Ec(t){var e=t[ao];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ul]||n[ao]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yB(t);t!==null;){if(n=t[ao])return n;t=yB(t)}return e}t=n,n=t.parentNode}return null}function Sy(t){return t=t[ao]||t[ul],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function I_(t){return t[dg]||null}var kC=[],Ah=-1;function Tu(t){return{current:t}}function Jn(t){0>Ah||(t.current=kC[Ah],kC[Ah]=null,Ah--)}function $n(t,e){Ah++,kC[Ah]=t.current,t.current=e}var wu={},Ei=Tu(wu),ns=Tu(!1),Kc=wu;function Zh(t,e){var n=t.type.contextTypes;if(!n)return wu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rs(t){return t=t.childContextTypes,t!=null}function d1(){Jn(ns),Jn(Ei)}function vB(t,e,n){if(Ei.current!==wu)throw Error(rt(168));$n(Ei,e),$n(ns,n)}function Y5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(rt(108,Dq(t)||"Unknown",i));return or({},n,r)}function p1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wu,Kc=Ei.current,$n(Ei,t),$n(ns,ns.current),!0}function xB(t,e,n){var r=t.stateNode;if(!r)throw Error(rt(169));n?(t=Y5(t,e,Kc),r.__reactInternalMemoizedMergedChildContext=t,Jn(ns),Jn(Ei),$n(Ei,t)):Jn(ns),$n(ns,n)}var Wo=null,O_=!1,WA=!1;function Z5(t){Wo===null?Wo=[t]:Wo.push(t)}function QK(t){O_=!0,Z5(t)}function Pu(){if(!WA&&Wo!==null){WA=!0;var t=0,e=Nn;try{var n=Wo;for(Nn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wo=null,O_=!1}catch(i){throw Wo!==null&&(Wo=Wo.slice(t+1)),S5(LP,Pu),i}finally{Nn=e,WA=!1}}return null}var Eh=[],Mh=0,m1=null,g1=0,Xs=[],qs=0,Jc=null,Jo=1,Yo="";function pc(t,e){Eh[Mh++]=g1,Eh[Mh++]=m1,m1=t,g1=e}function Q5(t,e,n){Xs[qs++]=Jo,Xs[qs++]=Yo,Xs[qs++]=Jc,Jc=t;var r=Jo;t=Yo;var i=32-La(r)-1;r&=~(1<<i),n+=1;var s=32-La(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jo=1<<32-La(e)+i|n<<i|r,Yo=s+t}else Jo=1<<s|n<<i|r,Yo=t}function WP(t){t.return!==null&&(pc(t,1),Q5(t,1,0))}function XP(t){for(;t===m1;)m1=Eh[--Mh],Eh[Mh]=null,g1=Eh[--Mh],Eh[Mh]=null;for(;t===Jc;)Jc=Xs[--qs],Xs[qs]=null,Yo=Xs[--qs],Xs[qs]=null,Jo=Xs[--qs],Xs[qs]=null}var Es=null,Ss=null,er=!1,Pa=null;function eH(t,e){var n=Zs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bB(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Es=t,Ss=fu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Es=t,Ss=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jc!==null?{id:Jo,overflow:Yo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Es=t,Ss=null,!0):!1;default:return!1}}function NC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BC(t){if(er){var e=Ss;if(e){var n=e;if(!bB(t,e)){if(NC(t))throw Error(rt(418));e=fu(n.nextSibling);var r=Es;e&&bB(t,e)?eH(r,n):(t.flags=t.flags&-4097|2,er=!1,Es=t)}}else{if(NC(t))throw Error(rt(418));t.flags=t.flags&-4097|2,er=!1,Es=t}}}function _B(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Es=t}function f0(t){if(t!==Es)return!1;if(!er)return _B(t),er=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RC(t.type,t.memoizedProps)),e&&(e=Ss)){if(NC(t))throw tH(),Error(rt(418));for(;e;)eH(t,e),e=fu(e.nextSibling)}if(_B(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ss=fu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ss=null}}else Ss=Es?fu(t.stateNode.nextSibling):null;return!0}function tH(){for(var t=Ss;t;)t=fu(t.nextSibling)}function Qh(){Ss=Es=null,er=!1}function qP(t){Pa===null?Pa=[t]:Pa.push(t)}var eJ=xl.ReactCurrentBatchConfig;function jp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,t))}return t}function h0(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wB(t){var e=t._init;return e(t._payload)}function nH(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=mu(y,_),y.index=0,y.sibling=null,y}function s(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,_,b,w){return _===null||_.tag!==6?(_=QA(b,y.mode,w),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,w){var E=b.type;return E===xh?f(y,_,b.props.children,w,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wl&&wB(E)===_.type)?(w=i(_,b.props),w.ref=jp(y,_,b),w.return=y,w):(w=Wx(b.type,b.key,b.props,null,y.mode,w),w.ref=jp(y,_,b),w.return=y,w)}function u(y,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=eE(b,y.mode,w),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function f(y,_,b,w,E){return _===null||_.tag!==7?(_=jc(b,y.mode,w,E),_.return=y,_):(_=i(_,b),_.return=y,_)}function c(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=QA(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case t0:return b=Wx(_.type,_.key,_.props,null,y.mode,b),b.ref=jp(y,null,_),b.return=y,b;case vh:return _=eE(_,y.mode,b),_.return=y,_;case Wl:var w=_._init;return c(y,w(_._payload),b)}if(_m(_)||Dp(_))return _=jc(_,y.mode,b,null),_.return=y,_;h0(y,_)}return null}function h(y,_,b,w){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:o(y,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case t0:return b.key===E?l(y,_,b,w):null;case vh:return b.key===E?u(y,_,b,w):null;case Wl:return E=b._init,h(y,_,E(b._payload),w)}if(_m(b)||Dp(b))return E!==null?null:f(y,_,b,w,null);h0(y,b)}return null}function d(y,_,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,o(_,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case t0:return y=y.get(w.key===null?b:w.key)||null,l(_,y,w,E);case vh:return y=y.get(w.key===null?b:w.key)||null,u(_,y,w,E);case Wl:var A=w._init;return d(y,_,b,A(w._payload),E)}if(_m(w)||Dp(w))return y=y.get(b)||null,f(_,y,w,E,null);h0(_,w)}return null}function m(y,_,b,w){for(var E=null,A=null,P=_,I=_=0,R=null;P!==null&&I<b.length;I++){P.index>I?(R=P,P=null):R=P.sibling;var M=h(y,P,b[I],w);if(M===null){P===null&&(P=R);break}t&&P&&M.alternate===null&&e(y,P),_=s(M,_,I),A===null?E=M:A.sibling=M,A=M,P=R}if(I===b.length)return n(y,P),er&&pc(y,I),E;if(P===null){for(;I<b.length;I++)P=c(y,b[I],w),P!==null&&(_=s(P,_,I),A===null?E=P:A.sibling=P,A=P);return er&&pc(y,I),E}for(P=r(y,P);I<b.length;I++)R=d(P,y,I,b[I],w),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?I:R.key),_=s(R,_,I),A===null?E=R:A.sibling=R,A=R);return t&&P.forEach(function(k){return e(y,k)}),er&&pc(y,I),E}function x(y,_,b,w){var E=Dp(b);if(typeof E!="function")throw Error(rt(150));if(b=E.call(b),b==null)throw Error(rt(151));for(var A=E=null,P=_,I=_=0,R=null,M=b.next();P!==null&&!M.done;I++,M=b.next()){P.index>I?(R=P,P=null):R=P.sibling;var k=h(y,P,M.value,w);if(k===null){P===null&&(P=R);break}t&&P&&k.alternate===null&&e(y,P),_=s(k,_,I),A===null?E=k:A.sibling=k,A=k,P=R}if(M.done)return n(y,P),er&&pc(y,I),E;if(P===null){for(;!M.done;I++,M=b.next())M=c(y,M.value,w),M!==null&&(_=s(M,_,I),A===null?E=M:A.sibling=M,A=M);return er&&pc(y,I),E}for(P=r(y,P);!M.done;I++,M=b.next())M=d(P,y,I,M.value,w),M!==null&&(t&&M.alternate!==null&&P.delete(M.key===null?I:M.key),_=s(M,_,I),A===null?E=M:A.sibling=M,A=M);return t&&P.forEach(function(B){return e(y,B)}),er&&pc(y,I),E}function v(y,_,b,w){if(typeof b=="object"&&b!==null&&b.type===xh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case t0:e:{for(var E=b.key,A=_;A!==null;){if(A.key===E){if(E=b.type,E===xh){if(A.tag===7){n(y,A.sibling),_=i(A,b.props.children),_.return=y,y=_;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wl&&wB(E)===A.type){n(y,A.sibling),_=i(A,b.props),_.ref=jp(y,A,b),_.return=y,y=_;break e}n(y,A);break}else e(y,A);A=A.sibling}b.type===xh?(_=jc(b.props.children,y.mode,w,b.key),_.return=y,y=_):(w=Wx(b.type,b.key,b.props,null,y.mode,w),w.ref=jp(y,_,b),w.return=y,y=w)}return a(y);case vh:e:{for(A=b.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=eE(b,y.mode,w),_.return=y,y=_}return a(y);case Wl:return A=b._init,v(y,_,A(b._payload),w)}if(_m(b))return m(y,_,b,w);if(Dp(b))return x(y,_,b,w);h0(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,b),_.return=y,y=_):(n(y,_),_=QA(b,y.mode,w),_.return=y,y=_),a(y)):n(y,_)}return v}var ed=nH(!0),rH=nH(!1),y1=Tu(null),v1=null,Ch=null,KP=null;function JP(){KP=Ch=v1=null}function YP(t){var e=y1.current;Jn(y1),t._currentValue=e}function DC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zh(t,e){v1=t,KP=Ch=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qi=!0),t.firstContext=null)}function ia(t){var e=t._currentValue;if(KP!==t)if(t={context:t,memoizedValue:e,next:null},Ch===null){if(v1===null)throw Error(rt(308));Ch=t,v1.dependencies={lanes:0,firstContext:t}}else Ch=Ch.next=t;return e}var Mc=null;function ZP(t){Mc===null?Mc=[t]:Mc.push(t)}function iH(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZP(e)):(n.next=i.next,i.next=n),e.interleaved=n,cl(t,r)}function cl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xl=!1;function QP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cl(t,n)}return i=r.interleaved,i===null?(e.next=e,ZP(r)):(e.next=i.next,i.next=e),r.interleaved=e,cl(t,n)}function zx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FP(t,n)}}function SB(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function x1(t,e,n,r){var i=t.updateQueue;Xl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;a=0,f=u=l=null,o=s;do{var h=o.lane,d=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,x=o;switch(h=e,d=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){c=m.call(d,c,h);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(d,c,h):m,h==null)break e;c=or({},c,h);break e;case 2:Xl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=d,l=c):f=f.next=d,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zc|=a,t.lanes=a,t.memoizedState=c}}function AB(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var Ay={},fo=Tu(Ay),pg=Tu(Ay),mg=Tu(Ay);function Cc(t){if(t===Ay)throw Error(rt(174));return t}function eR(t,e){switch($n(mg,e),$n(pg,t),$n(fo,Ay),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gC(e,t)}Jn(fo),$n(fo,e)}function td(){Jn(fo),Jn(pg),Jn(mg)}function aH(t){Cc(mg.current);var e=Cc(fo.current),n=gC(e,t.type);e!==n&&($n(pg,t),$n(fo,n))}function tR(t){pg.current===t&&(Jn(fo),Jn(pg))}var rr=Tu(0);function b1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var XA=[];function nR(){for(var t=0;t<XA.length;t++)XA[t]._workInProgressVersionPrimary=null;XA.length=0}var jx=xl.ReactCurrentDispatcher,qA=xl.ReactCurrentBatchConfig,Yc=0,ar=null,Nr=null,Xr=null,_1=!1,Nm=!1,gg=0,tJ=0;function pi(){throw Error(rt(321))}function rR(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ja(t[n],e[n]))return!1;return!0}function iR(t,e,n,r,i,s){if(Yc=s,ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jx.current=t===null||t.memoizedState===null?sJ:aJ,t=n(r,i),Nm){s=0;do{if(Nm=!1,gg=0,25<=s)throw Error(rt(301));s+=1,Xr=Nr=null,e.updateQueue=null,jx.current=oJ,t=n(r,i)}while(Nm)}if(jx.current=w1,e=Nr!==null&&Nr.next!==null,Yc=0,Xr=Nr=ar=null,_1=!1,e)throw Error(rt(300));return t}function sR(){var t=gg!==0;return gg=0,t}function io(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?ar.memoizedState=Xr=t:Xr=Xr.next=t,Xr}function sa(){if(Nr===null){var t=ar.alternate;t=t!==null?t.memoizedState:null}else t=Nr.next;var e=Xr===null?ar.memoizedState:Xr.next;if(e!==null)Xr=e,Nr=t;else{if(t===null)throw Error(rt(310));Nr=t,t={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Xr===null?ar.memoizedState=Xr=t:Xr=Xr.next=t}return Xr}function yg(t,e){return typeof e=="function"?e(t):e}function KA(t){var e=sa(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=Nr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var f=u.lane;if((Yc&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=c,a=r):l=l.next=c,ar.lanes|=f,Zc|=f}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,ja(r,e.memoizedState)||(Qi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ar.lanes|=s,Zc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function JA(t){var e=sa(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ja(s,e.memoizedState)||(Qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function oH(){}function lH(t,e){var n=ar,r=sa(),i=e(),s=!ja(r.memoizedState,i);if(s&&(r.memoizedState=i,Qi=!0),r=r.queue,aR(fH.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Xr!==null&&Xr.memoizedState.tag&1){if(n.flags|=2048,vg(9,cH.bind(null,n,r,i,e),void 0,null),Kr===null)throw Error(rt(349));Yc&30||uH(n,e,i)}return i}function uH(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cH(t,e,n,r){e.value=n,e.getSnapshot=r,hH(e)&&dH(t)}function fH(t,e,n){return n(function(){hH(e)&&dH(t)})}function hH(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ja(t,n)}catch{return!0}}function dH(t){var e=cl(t,1);e!==null&&Fa(e,t,1,-1)}function EB(t){var e=io();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:t},e.queue=t,t=t.dispatch=iJ.bind(null,ar,t),[e.memoizedState,t]}function vg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pH(){return sa().memoizedState}function Hx(t,e,n,r){var i=io();ar.flags|=t,i.memoizedState=vg(1|e,n,void 0,r===void 0?null:r)}function k_(t,e,n,r){var i=sa();r=r===void 0?null:r;var s=void 0;if(Nr!==null){var a=Nr.memoizedState;if(s=a.destroy,r!==null&&rR(r,a.deps)){i.memoizedState=vg(e,n,s,r);return}}ar.flags|=t,i.memoizedState=vg(1|e,n,s,r)}function MB(t,e){return Hx(8390656,8,t,e)}function aR(t,e){return k_(2048,8,t,e)}function mH(t,e){return k_(4,2,t,e)}function gH(t,e){return k_(4,4,t,e)}function yH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vH(t,e,n){return n=n!=null?n.concat([t]):null,k_(4,4,yH.bind(null,e,t),n)}function oR(){}function xH(t,e){var n=sa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rR(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bH(t,e){var n=sa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rR(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _H(t,e,n){return Yc&21?(ja(n,e)||(n=M5(),ar.lanes|=n,Zc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qi=!0),t.memoizedState=n)}function nJ(t,e){var n=Nn;Nn=n!==0&&4>n?n:4,t(!0);var r=qA.transition;qA.transition={};try{t(!1),e()}finally{Nn=n,qA.transition=r}}function wH(){return sa().memoizedState}function rJ(t,e,n){var r=pu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SH(t))AH(e,n);else if(n=iH(t,e,n,r),n!==null){var i=Ui();Fa(n,t,r,i),EH(n,e,r)}}function iJ(t,e,n){var r=pu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SH(t))AH(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ja(o,a)){var l=e.interleaved;l===null?(i.next=i,ZP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=iH(t,e,i,r),n!==null&&(i=Ui(),Fa(n,t,r,i),EH(n,e,r))}}function SH(t){var e=t.alternate;return t===ar||e!==null&&e===ar}function AH(t,e){Nm=_1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EH(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FP(t,n)}}var w1={readContext:ia,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},sJ={readContext:ia,useCallback:function(t,e){return io().memoizedState=[t,e===void 0?null:e],t},useContext:ia,useEffect:MB,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hx(4194308,4,yH.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hx(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hx(4,2,t,e)},useMemo:function(t,e){var n=io();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=io();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rJ.bind(null,ar,t),[r.memoizedState,t]},useRef:function(t){var e=io();return t={current:t},e.memoizedState=t},useState:EB,useDebugValue:oR,useDeferredValue:function(t){return io().memoizedState=t},useTransition:function(){var t=EB(!1),e=t[0];return t=nJ.bind(null,t[1]),io().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ar,i=io();if(er){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=e(),Kr===null)throw Error(rt(349));Yc&30||uH(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,MB(fH.bind(null,r,s,t),[t]),r.flags|=2048,vg(9,cH.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=io(),e=Kr.identifierPrefix;if(er){var n=Yo,r=Jo;n=(r&~(1<<32-La(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tJ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aJ={readContext:ia,useCallback:xH,useContext:ia,useEffect:aR,useImperativeHandle:vH,useInsertionEffect:mH,useLayoutEffect:gH,useMemo:bH,useReducer:KA,useRef:pH,useState:function(){return KA(yg)},useDebugValue:oR,useDeferredValue:function(t){var e=sa();return _H(e,Nr.memoizedState,t)},useTransition:function(){var t=KA(yg)[0],e=sa().memoizedState;return[t,e]},useMutableSource:oH,useSyncExternalStore:lH,useId:wH,unstable_isNewReconciler:!1},oJ={readContext:ia,useCallback:xH,useContext:ia,useEffect:aR,useImperativeHandle:vH,useInsertionEffect:mH,useLayoutEffect:gH,useMemo:bH,useReducer:JA,useRef:pH,useState:function(){return JA(yg)},useDebugValue:oR,useDeferredValue:function(t){var e=sa();return Nr===null?e.memoizedState=t:_H(e,Nr.memoizedState,t)},useTransition:function(){var t=JA(yg)[0],e=sa().memoizedState;return[t,e]},useMutableSource:oH,useSyncExternalStore:lH,useId:wH,unstable_isNewReconciler:!1};function Sa(t,e){if(t&&t.defaultProps){e=or({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function LC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:or({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var N_={isMounted:function(t){return(t=t._reactInternals)?mf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ui(),i=pu(t),s=nl(r,i);s.payload=e,n!=null&&(s.callback=n),e=hu(t,s,i),e!==null&&(Fa(e,t,i,r),zx(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ui(),i=pu(t),s=nl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hu(t,s,i),e!==null&&(Fa(e,t,i,r),zx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ui(),r=pu(t),i=nl(n,r);i.tag=2,e!=null&&(i.callback=e),e=hu(t,i,r),e!==null&&(Fa(e,t,r,n),zx(e,t,r))}};function CB(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!cg(n,r)||!cg(i,s):!0}function MH(t,e,n){var r=!1,i=wu,s=e.contextType;return typeof s=="object"&&s!==null?s=ia(s):(i=rs(e)?Kc:Ei.current,r=e.contextTypes,s=(r=r!=null)?Zh(t,i):wu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=N_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function TB(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&N_.enqueueReplaceState(e,e.state,null)}function FC(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},QP(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ia(s):(s=rs(e)?Kc:Ei.current,i.context=Zh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(LC(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&N_.enqueueReplaceState(i,i.state,null),x1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nd(t,e){try{var n="",r=e;do n+=Bq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function YA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lJ=typeof WeakMap=="function"?WeakMap:Map;function CH(t,e,n){n=nl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){A1||(A1=!0,KC=r),UC(t,e)},n}function TH(t,e,n){n=nl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){UC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){UC(t,e),typeof r!="function"&&(du===null?du=new Set([this]):du.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function PB(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wJ.bind(null,t,e,n),e.then(t,t))}function RB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IB(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nl(-1,1),e.tag=2,hu(n,e,1))),n.lanes|=1),t)}var uJ=xl.ReactCurrentOwner,Qi=!1;function ki(t,e,n,r){e.child=t===null?rH(e,null,n,r):ed(e,t.child,n,r)}function OB(t,e,n,r,i){n=n.render;var s=e.ref;return zh(e,i),r=iR(t,e,n,r,s,i),n=sR(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fl(t,e,i)):(er&&n&&WP(e),e.flags|=1,ki(t,e,r,i),e.child)}function kB(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mR(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,PH(t,e,s,r,i)):(t=Wx(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:cg,n(a,r)&&t.ref===e.ref)return fl(t,e,i)}return e.flags|=1,t=mu(s,r),t.ref=e.ref,t.return=e,e.child=t}function PH(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cg(s,r)&&t.ref===e.ref)if(Qi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qi=!0);else return e.lanes=t.lanes,fl(t,e,i)}return zC(t,e,n,r,i)}function RH(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Ph,bs),bs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$n(Ph,bs),bs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$n(Ph,bs),bs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$n(Ph,bs),bs|=r;return ki(t,e,i,n),e.child}function IH(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zC(t,e,n,r,i){var s=rs(n)?Kc:Ei.current;return s=Zh(e,s),zh(e,i),n=iR(t,e,n,r,s,i),r=sR(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fl(t,e,i)):(er&&r&&WP(e),e.flags|=1,ki(t,e,n,i),e.child)}function NB(t,e,n,r,i){if(rs(n)){var s=!0;p1(e)}else s=!1;if(zh(e,i),e.stateNode===null)Gx(t,e),MH(e,n,r),FC(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ia(u):(u=rs(n)?Kc:Ei.current,u=Zh(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&TB(e,a,r,u),Xl=!1;var h=e.memoizedState;a.state=h,x1(e,r,a,i),l=e.memoizedState,o!==r||h!==l||ns.current||Xl?(typeof f=="function"&&(LC(e,n,f,r),l=e.memoizedState),(o=Xl||CB(e,n,o,r,h,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sH(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Sa(e.type,o),a.props=u,c=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ia(l):(l=rs(n)?Kc:Ei.current,l=Zh(e,l));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==c||h!==l)&&TB(e,a,r,l),Xl=!1,h=e.memoizedState,a.state=h,x1(e,r,a,i);var m=e.memoizedState;o!==c||h!==m||ns.current||Xl?(typeof d=="function"&&(LC(e,n,d,r),m=e.memoizedState),(u=Xl||CB(e,n,u,r,h,m,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return jC(t,e,n,r,s,i)}function jC(t,e,n,r,i,s){IH(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&xB(e,n,!1),fl(t,e,s);r=e.stateNode,uJ.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ed(e,t.child,null,s),e.child=ed(e,null,o,s)):ki(t,e,o,s),e.memoizedState=r.state,i&&xB(e,n,!0),e.child}function OH(t){var e=t.stateNode;e.pendingContext?vB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vB(t,e.context,!1),eR(t,e.containerInfo)}function BB(t,e,n,r,i){return Qh(),qP(i),e.flags|=256,ki(t,e,n,r),e.child}var HC={dehydrated:null,treeContext:null,retryLane:0};function GC(t){return{baseLanes:t,cachePool:null,transitions:null}}function kH(t,e,n){var r=e.pendingProps,i=rr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$n(rr,i&1),t===null)return BC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=L_(a,r,0,null),t=jc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=GC(n),e.memoizedState=HC,t):lR(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return cJ(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=mu(o,s):(s=jc(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?GC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=HC,r}return s=t.child,t=s.sibling,r=mu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lR(t,e){return e=L_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function d0(t,e,n,r){return r!==null&&qP(r),ed(e,t.child,null,n),t=lR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cJ(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=YA(Error(rt(422))),d0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=L_({mode:"visible",children:r.children},i,0,null),s=jc(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ed(e,t.child,null,a),e.child.memoizedState=GC(a),e.memoizedState=HC,s);if(!(e.mode&1))return d0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(rt(419)),r=YA(s,r,void 0),d0(t,e,a,r)}if(o=(a&t.childLanes)!==0,Qi||o){if(r=Kr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cl(t,i),Fa(r,t,i,-1))}return pR(),r=YA(Error(rt(421))),d0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SJ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ss=fu(i.nextSibling),Es=e,er=!0,Pa=null,t!==null&&(Xs[qs++]=Jo,Xs[qs++]=Yo,Xs[qs++]=Jc,Jo=t.id,Yo=t.overflow,Jc=e),e=lR(e,r.children),e.flags|=4096,e)}function DB(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),DC(t.return,e,n)}function ZA(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NH(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ki(t,e,r.children,n),r=rr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DB(t,n,e);else if(t.tag===19)DB(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($n(rr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&b1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ZA(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&b1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ZA(e,!0,n,null,s);break;case"together":ZA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,n=mu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fJ(t,e,n){switch(e.tag){case 3:OH(e),Qh();break;case 5:aH(e);break;case 1:rs(e.type)&&p1(e);break;case 4:eR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$n(y1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($n(rr,rr.current&1),e.flags|=128,null):n&e.child.childLanes?kH(t,e,n):($n(rr,rr.current&1),t=fl(t,e,n),t!==null?t.sibling:null);$n(rr,rr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NH(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$n(rr,rr.current),r)break;return null;case 22:case 23:return e.lanes=0,RH(t,e,n)}return fl(t,e,n)}var BH,$C,DH,LH;BH=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$C=function(){};DH=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cc(fo.current);var s=null;switch(n){case"input":i=hC(t,i),r=hC(t,r),s=[];break;case"select":i=or({},i,{value:void 0}),r=or({},r,{value:void 0}),s=[];break;case"textarea":i=mC(t,i),r=mC(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=h1)}yC(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};LH=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hp(t,e){if(!er)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hJ(t,e,n){var r=e.pendingProps;switch(XP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(e),null;case 1:return rs(e.type)&&d1(),mi(e),null;case 3:return r=e.stateNode,td(),Jn(ns),Jn(Ei),nR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pa!==null&&(ZC(Pa),Pa=null))),$C(t,e),mi(e),null;case 5:tR(e);var i=Cc(mg.current);if(n=e.type,t!==null&&e.stateNode!=null)DH(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(rt(166));return mi(e),null}if(t=Cc(fo.current),f0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ao]=e,r[dg]=s,t=(e.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<Sm.length;i++)Wn(Sm[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":VN(r,s),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wn("invalid",r);break;case"textarea":XN(r,s),Wn("invalid",r)}yC(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&c0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&c0(r.textContent,o,t),i=["children",""+o]):rg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Wn("scroll",r)}switch(n){case"input":n0(r),WN(r,s,!0);break;case"textarea":n0(r),qN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=h1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=f5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ao]=e,t[dg]=r,BH(t,e,!1,!1),e.stateNode=t;e:{switch(a=vC(n,r),n){case"dialog":Wn("cancel",t),Wn("close",t),i=r;break;case"iframe":case"object":case"embed":Wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sm.length;i++)Wn(Sm[i],t);i=r;break;case"source":Wn("error",t),i=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),i=r;break;case"details":Wn("toggle",t),i=r;break;case"input":VN(t,r),i=hC(t,r),Wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=or({},r,{value:void 0}),Wn("invalid",t);break;case"textarea":XN(t,r),i=mC(t,r),Wn("invalid",t);break;default:i=r}yC(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?p5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h5(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ig(t,l):typeof l=="number"&&ig(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Wn("scroll",t):l!=null&&OP(t,s,l,a))}switch(n){case"input":n0(t),WN(t,r,!1);break;case"textarea":n0(t),qN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_u(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Dh(t,!!r.multiple,s,!1):r.defaultValue!=null&&Dh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=h1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mi(e),null;case 6:if(t&&e.stateNode!=null)LH(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(rt(166));if(n=Cc(mg.current),Cc(fo.current),f0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ao]=e,(s=r.nodeValue!==n)&&(t=Es,t!==null))switch(t.tag){case 3:c0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&c0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ao]=e,e.stateNode=r}return mi(e),null;case 13:if(Jn(rr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(er&&Ss!==null&&e.mode&1&&!(e.flags&128))tH(),Qh(),e.flags|=98560,s=!1;else if(s=f0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[ao]=e}else Qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mi(e),s=!1}else Pa!==null&&(ZC(Pa),Pa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rr.current&1?Dr===0&&(Dr=3):pR())),e.updateQueue!==null&&(e.flags|=4),mi(e),null);case 4:return td(),$C(t,e),t===null&&fg(e.stateNode.containerInfo),mi(e),null;case 10:return YP(e.type._context),mi(e),null;case 17:return rs(e.type)&&d1(),mi(e),null;case 19:if(Jn(rr),s=e.memoizedState,s===null)return mi(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Hp(s,!1);else{if(Dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=b1(t),a!==null){for(e.flags|=128,Hp(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $n(rr,rr.current&1|2),e.child}t=t.sibling}s.tail!==null&&gr()>rd&&(e.flags|=128,r=!0,Hp(s,!1),e.lanes=4194304)}else{if(!r)if(t=b1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!er)return mi(e),null}else 2*gr()-s.renderingStartTime>rd&&n!==1073741824&&(e.flags|=128,r=!0,Hp(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,n=rr.current,$n(rr,r?n&1|2:n&1),e):(mi(e),null);case 22:case 23:return dR(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bs&1073741824&&(mi(e),e.subtreeFlags&6&&(e.flags|=8192)):mi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function dJ(t,e){switch(XP(e),e.tag){case 1:return rs(e.type)&&d1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return td(),Jn(ns),Jn(Ei),nR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tR(e),null;case 13:if(Jn(rr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));Qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jn(rr),null;case 4:return td(),null;case 10:return YP(e.type._context),null;case 22:case 23:return dR(),null;case 24:return null;default:return null}}var p0=!1,bi=!1,pJ=typeof WeakSet=="function"?WeakSet:Set,At=null;function Th(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fr(t,e,r)}else n.current=null}function VC(t,e,n){try{n()}catch(r){fr(t,e,r)}}var LB=!1;function mJ(t,e){if(TC=u1,t=H5(),VP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,f=0,c=t,h=null;t:for(;;){for(var d;c!==n||i!==0&&c.nodeType!==3||(o=a+i),c!==s||r!==0&&c.nodeType!==3||(l=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(d=c.firstChild)!==null;)h=c,c=d;for(;;){if(c===t)break t;if(h===n&&++u===i&&(o=a),h===s&&++f===r&&(l=a),(d=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(PC={focusedElem:t,selectionRange:n},u1=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){e=At;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,v=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Sa(e.type,x),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(w){fr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}return m=LB,LB=!1,m}function Bm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&VC(e,n,s)}i=i.next}while(i!==r)}}function B_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function WC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FH(t){var e=t.alternate;e!==null&&(t.alternate=null,FH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ao],delete e[dg],delete e[OC],delete e[YK],delete e[ZK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UH(t){return t.tag===5||t.tag===3||t.tag===4}function FB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function XC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=h1));else if(r!==4&&(t=t.child,t!==null))for(XC(t,e,n),t=t.sibling;t!==null;)XC(t,e,n),t=t.sibling}function qC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qC(t,e,n),t=t.sibling;t!==null;)qC(t,e,n),t=t.sibling}var ri=null,Ea=!1;function Bl(t,e,n){for(n=n.child;n!==null;)zH(t,e,n),n=n.sibling}function zH(t,e,n){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(C_,n)}catch{}switch(n.tag){case 5:bi||Th(n,e);case 6:var r=ri,i=Ea;ri=null,Bl(t,e,n),ri=r,Ea=i,ri!==null&&(Ea?(t=ri,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ri.removeChild(n.stateNode));break;case 18:ri!==null&&(Ea?(t=ri,n=n.stateNode,t.nodeType===8?VA(t.parentNode,n):t.nodeType===1&&VA(t,n),lg(t)):VA(ri,n.stateNode));break;case 4:r=ri,i=Ea,ri=n.stateNode.containerInfo,Ea=!0,Bl(t,e,n),ri=r,Ea=i;break;case 0:case 11:case 14:case 15:if(!bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&VC(n,e,a),i=i.next}while(i!==r)}Bl(t,e,n);break;case 1:if(!bi&&(Th(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){fr(n,e,o)}Bl(t,e,n);break;case 21:Bl(t,e,n);break;case 22:n.mode&1?(bi=(r=bi)||n.memoizedState!==null,Bl(t,e,n),bi=r):Bl(t,e,n);break;default:Bl(t,e,n)}}function UB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pJ),e.forEach(function(r){var i=AJ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ma(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ri=o.stateNode,Ea=!1;break e;case 3:ri=o.stateNode.containerInfo,Ea=!0;break e;case 4:ri=o.stateNode.containerInfo,Ea=!0;break e}o=o.return}if(ri===null)throw Error(rt(160));zH(s,a,i),ri=null,Ea=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jH(e,t),e=e.sibling}function jH(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ma(e,t),eo(t),r&4){try{Bm(3,t,t.return),B_(3,t)}catch(x){fr(t,t.return,x)}try{Bm(5,t,t.return)}catch(x){fr(t,t.return,x)}}break;case 1:ma(e,t),eo(t),r&512&&n!==null&&Th(n,n.return);break;case 5:if(ma(e,t),eo(t),r&512&&n!==null&&Th(n,n.return),t.flags&32){var i=t.stateNode;try{ig(i,"")}catch(x){fr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&u5(i,s),vC(o,a);var u=vC(o,s);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?p5(i,c):f==="dangerouslySetInnerHTML"?h5(i,c):f==="children"?ig(i,c):OP(i,f,c,u)}switch(o){case"input":dC(i,s);break;case"textarea":c5(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Dh(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Dh(i,!!s.multiple,s.defaultValue,!0):Dh(i,!!s.multiple,s.multiple?[]:"",!1))}i[dg]=s}catch(x){fr(t,t.return,x)}}break;case 6:if(ma(e,t),eo(t),r&4){if(t.stateNode===null)throw Error(rt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){fr(t,t.return,x)}}break;case 3:if(ma(e,t),eo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lg(e.containerInfo)}catch(x){fr(t,t.return,x)}break;case 4:ma(e,t),eo(t);break;case 13:ma(e,t),eo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fR=gr())),r&4&&UB(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(bi=(u=bi)||f,ma(e,t),bi=u):ma(e,t),eo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(At=t,f=t.child;f!==null;){for(c=At=f;At!==null;){switch(h=At,d=h.child,h.tag){case 0:case 11:case 14:case 15:Bm(4,h,h.return);break;case 1:Th(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){fr(r,n,x)}}break;case 5:Th(h,h.return);break;case 22:if(h.memoizedState!==null){jB(c);continue}}d!==null?(d.return=h,At=d):jB(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=d5("display",a))}catch(x){fr(t,t.return,x)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(x){fr(t,t.return,x)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ma(e,t),eo(t),r&4&&UB(t);break;case 21:break;default:ma(e,t),eo(t)}}function eo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UH(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ig(i,""),r.flags&=-33);var s=FB(t);qC(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=FB(t);XC(t,o,a);break;default:throw Error(rt(161))}}catch(l){fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gJ(t,e,n){At=t,HH(t)}function HH(t,e,n){for(var r=(t.mode&1)!==0;At!==null;){var i=At,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||p0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||bi;o=p0;var u=bi;if(p0=a,(bi=l)&&!u)for(At=i;At!==null;)a=At,l=a.child,a.tag===22&&a.memoizedState!==null?HB(i):l!==null?(l.return=a,At=l):HB(i);for(;s!==null;)At=s,HH(s),s=s.sibling;At=i,p0=o,bi=u}zB(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,At=s):zB(t)}}function zB(t){for(;At!==null;){var e=At;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bi||B_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AB(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AB(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&lg(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}bi||e.flags&512&&WC(e)}catch(h){fr(e,e.return,h)}}if(e===t){At=null;break}if(n=e.sibling,n!==null){n.return=e.return,At=n;break}At=e.return}}function jB(t){for(;At!==null;){var e=At;if(e===t){At=null;break}var n=e.sibling;if(n!==null){n.return=e.return,At=n;break}At=e.return}}function HB(t){for(;At!==null;){var e=At;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{B_(4,e)}catch(l){fr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fr(e,i,l)}}var s=e.return;try{WC(e)}catch(l){fr(e,s,l)}break;case 5:var a=e.return;try{WC(e)}catch(l){fr(e,a,l)}}}catch(l){fr(e,e.return,l)}if(e===t){At=null;break}var o=e.sibling;if(o!==null){o.return=e.return,At=o;break}At=e.return}}var yJ=Math.ceil,S1=xl.ReactCurrentDispatcher,uR=xl.ReactCurrentOwner,ta=xl.ReactCurrentBatchConfig,bn=0,Kr=null,Tr=null,si=0,bs=0,Ph=Tu(0),Dr=0,xg=null,Zc=0,D_=0,cR=0,Dm=null,Yi=null,fR=0,rd=1/0,$o=null,A1=!1,KC=null,du=null,m0=!1,ru=null,E1=0,Lm=0,JC=null,$x=-1,Vx=0;function Ui(){return bn&6?gr():$x!==-1?$x:$x=gr()}function pu(t){return t.mode&1?bn&2&&si!==0?si&-si:eJ.transition!==null?(Vx===0&&(Vx=M5()),Vx):(t=Nn,t!==0||(t=window.event,t=t===void 0?16:k5(t.type)),t):1}function Fa(t,e,n,r){if(50<Lm)throw Lm=0,JC=null,Error(rt(185));_y(t,n,r),(!(bn&2)||t!==Kr)&&(t===Kr&&(!(bn&2)&&(D_|=n),Dr===4&&Yl(t,si)),is(t,r),n===1&&bn===0&&!(e.mode&1)&&(rd=gr()+500,O_&&Pu()))}function is(t,e){var n=t.callbackNode;eK(t,e);var r=l1(t,t===Kr?si:0);if(r===0)n!==null&&YN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&YN(n),e===1)t.tag===0?QK(GB.bind(null,t)):Z5(GB.bind(null,t)),KK(function(){!(bn&6)&&Pu()}),n=null;else{switch(C5(r)){case 1:n=LP;break;case 4:n=A5;break;case 16:n=o1;break;case 536870912:n=E5;break;default:n=o1}n=JH(n,GH.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GH(t,e){if($x=-1,Vx=0,bn&6)throw Error(rt(327));var n=t.callbackNode;if(jh()&&t.callbackNode!==n)return null;var r=l1(t,t===Kr?si:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=M1(t,r);else{e=r;var i=bn;bn|=2;var s=VH();(Kr!==t||si!==e)&&($o=null,rd=gr()+500,zc(t,e));do try{bJ();break}catch(o){$H(t,o)}while(!0);JP(),S1.current=s,bn=i,Tr!==null?e=0:(Kr=null,si=0,e=Dr)}if(e!==0){if(e===2&&(i=SC(t),i!==0&&(r=i,e=YC(t,i))),e===1)throw n=xg,zc(t,0),Yl(t,r),is(t,gr()),n;if(e===6)Yl(t,r);else{if(i=t.current.alternate,!(r&30)&&!vJ(i)&&(e=M1(t,r),e===2&&(s=SC(t),s!==0&&(r=s,e=YC(t,s))),e===1))throw n=xg,zc(t,0),Yl(t,r),is(t,gr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(rt(345));case 2:mc(t,Yi,$o);break;case 3:if(Yl(t,r),(r&130023424)===r&&(e=fR+500-gr(),10<e)){if(l1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ui(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=IC(mc.bind(null,t,Yi,$o),e);break}mc(t,Yi,$o);break;case 4:if(Yl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-La(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yJ(r/1960))-r,10<r){t.timeoutHandle=IC(mc.bind(null,t,Yi,$o),r);break}mc(t,Yi,$o);break;case 5:mc(t,Yi,$o);break;default:throw Error(rt(329))}}}return is(t,gr()),t.callbackNode===n?GH.bind(null,t):null}function YC(t,e){var n=Dm;return t.current.memoizedState.isDehydrated&&(zc(t,e).flags|=256),t=M1(t,e),t!==2&&(e=Yi,Yi=n,e!==null&&ZC(e)),t}function ZC(t){Yi===null?Yi=t:Yi.push.apply(Yi,t)}function vJ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ja(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yl(t,e){for(e&=~cR,e&=~D_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-La(e),r=1<<n;t[n]=-1,e&=~r}}function GB(t){if(bn&6)throw Error(rt(327));jh();var e=l1(t,0);if(!(e&1))return is(t,gr()),null;var n=M1(t,e);if(t.tag!==0&&n===2){var r=SC(t);r!==0&&(e=r,n=YC(t,r))}if(n===1)throw n=xg,zc(t,0),Yl(t,e),is(t,gr()),n;if(n===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mc(t,Yi,$o),is(t,gr()),null}function hR(t,e){var n=bn;bn|=1;try{return t(e)}finally{bn=n,bn===0&&(rd=gr()+500,O_&&Pu())}}function Qc(t){ru!==null&&ru.tag===0&&!(bn&6)&&jh();var e=bn;bn|=1;var n=ta.transition,r=Nn;try{if(ta.transition=null,Nn=1,t)return t()}finally{Nn=r,ta.transition=n,bn=e,!(bn&6)&&Pu()}}function dR(){bs=Ph.current,Jn(Ph)}function zc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qK(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(XP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&d1();break;case 3:td(),Jn(ns),Jn(Ei),nR();break;case 5:tR(r);break;case 4:td();break;case 13:Jn(rr);break;case 19:Jn(rr);break;case 10:YP(r.type._context);break;case 22:case 23:dR()}n=n.return}if(Kr=t,Tr=t=mu(t.current,null),si=bs=e,Dr=0,xg=null,cR=D_=Zc=0,Yi=Dm=null,Mc!==null){for(e=0;e<Mc.length;e++)if(n=Mc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Mc=null}return t}function $H(t,e){do{var n=Tr;try{if(JP(),jx.current=w1,_1){for(var r=ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_1=!1}if(Yc=0,Xr=Nr=ar=null,Nm=!1,gg=0,uR.current=null,n===null||n.return===null){Dr=1,xg=e,Tr=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=si,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=RB(a);if(d!==null){d.flags&=-257,IB(d,a,o,s,e),d.mode&1&&PB(s,u,e),e=d,l=u;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){PB(s,u,e),pR();break e}l=Error(rt(426))}}else if(er&&o.mode&1){var v=RB(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),IB(v,a,o,s,e),qP(nd(l,o));break e}}s=l=nd(l,o),Dr!==4&&(Dr=2),Dm===null?Dm=[s]:Dm.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=CH(s,l,e);SB(s,y);break e;case 1:o=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(du===null||!du.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=TH(s,o,e);SB(s,w);break e}}s=s.return}while(s!==null)}XH(n)}catch(E){e=E,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(!0)}function VH(){var t=S1.current;return S1.current=w1,t===null?w1:t}function pR(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Kr===null||!(Zc&268435455)&&!(D_&268435455)||Yl(Kr,si)}function M1(t,e){var n=bn;bn|=2;var r=VH();(Kr!==t||si!==e)&&($o=null,zc(t,e));do try{xJ();break}catch(i){$H(t,i)}while(!0);if(JP(),bn=n,S1.current=r,Tr!==null)throw Error(rt(261));return Kr=null,si=0,Dr}function xJ(){for(;Tr!==null;)WH(Tr)}function bJ(){for(;Tr!==null&&!Vq();)WH(Tr)}function WH(t){var e=KH(t.alternate,t,bs);t.memoizedProps=t.pendingProps,e===null?XH(t):Tr=e,uR.current=null}function XH(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dJ(n,e),n!==null){n.flags&=32767,Tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dr=6,Tr=null;return}}else if(n=hJ(n,e,bs),n!==null){Tr=n;return}if(e=e.sibling,e!==null){Tr=e;return}Tr=e=t}while(e!==null);Dr===0&&(Dr=5)}function mc(t,e,n){var r=Nn,i=ta.transition;try{ta.transition=null,Nn=1,_J(t,e,n,r)}finally{ta.transition=i,Nn=r}return null}function _J(t,e,n,r){do jh();while(ru!==null);if(bn&6)throw Error(rt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tK(t,s),t===Kr&&(Tr=Kr=null,si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||m0||(m0=!0,JH(o1,function(){return jh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ta.transition,ta.transition=null;var a=Nn;Nn=1;var o=bn;bn|=4,uR.current=null,mJ(t,n),jH(n,t),jK(PC),u1=!!TC,PC=TC=null,t.current=n,gJ(n),Wq(),bn=o,Nn=a,ta.transition=s}else t.current=n;if(m0&&(m0=!1,ru=t,E1=i),s=t.pendingLanes,s===0&&(du=null),Kq(n.stateNode),is(t,gr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(A1)throw A1=!1,t=KC,KC=null,t;return E1&1&&t.tag!==0&&jh(),s=t.pendingLanes,s&1?t===JC?Lm++:(Lm=0,JC=t):Lm=0,Pu(),null}function jh(){if(ru!==null){var t=C5(E1),e=ta.transition,n=Nn;try{if(ta.transition=null,Nn=16>t?16:t,ru===null)var r=!1;else{if(t=ru,ru=null,E1=0,bn&6)throw Error(rt(331));var i=bn;for(bn|=4,At=t.current;At!==null;){var s=At,a=s.child;if(At.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(At=u;At!==null;){var f=At;switch(f.tag){case 0:case 11:case 15:Bm(8,f,s)}var c=f.child;if(c!==null)c.return=f,At=c;else for(;At!==null;){f=At;var h=f.sibling,d=f.return;if(FH(f),f===u){At=null;break}if(h!==null){h.return=d,At=h;break}At=d}}}var m=s.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}At=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,At=a;else e:for(;At!==null;){if(s=At,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bm(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,At=y;break e}At=s.return}}var _=t.current;for(At=_;At!==null;){a=At;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,At=b;else e:for(a=_;At!==null;){if(o=At,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:B_(9,o)}}catch(E){fr(o,o.return,E)}if(o===a){At=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,At=w;break e}At=o.return}}if(bn=i,Pu(),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(C_,t)}catch{}r=!0}return r}finally{Nn=n,ta.transition=e}}return!1}function $B(t,e,n){e=nd(n,e),e=CH(t,e,1),t=hu(t,e,1),e=Ui(),t!==null&&(_y(t,1,e),is(t,e))}function fr(t,e,n){if(t.tag===3)$B(t,t,n);else for(;e!==null;){if(e.tag===3){$B(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(du===null||!du.has(r))){t=nd(n,t),t=TH(e,t,1),e=hu(e,t,1),t=Ui(),e!==null&&(_y(e,1,t),is(e,t));break}}e=e.return}}function wJ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ui(),t.pingedLanes|=t.suspendedLanes&n,Kr===t&&(si&n)===n&&(Dr===4||Dr===3&&(si&130023424)===si&&500>gr()-fR?zc(t,0):cR|=n),is(t,e)}function qH(t,e){e===0&&(t.mode&1?(e=s0,s0<<=1,!(s0&130023424)&&(s0=4194304)):e=1);var n=Ui();t=cl(t,e),t!==null&&(_y(t,e,n),is(t,n))}function SJ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qH(t,n)}function AJ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(e),qH(t,n)}var KH;KH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ns.current)Qi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qi=!1,fJ(t,e,n);Qi=!!(t.flags&131072)}else Qi=!1,er&&e.flags&1048576&&Q5(e,g1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gx(t,e),t=e.pendingProps;var i=Zh(e,Ei.current);zh(e,n),i=iR(null,e,r,t,i,n);var s=sR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(r)?(s=!0,p1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QP(e),i.updater=N_,e.stateNode=i,i._reactInternals=e,FC(e,r,t,n),e=jC(null,e,r,!0,s,n)):(e.tag=0,er&&s&&WP(e),ki(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MJ(r),t=Sa(r,t),i){case 0:e=zC(null,e,r,t,n);break e;case 1:e=NB(null,e,r,t,n);break e;case 11:e=OB(null,e,r,t,n);break e;case 14:e=kB(null,e,r,Sa(r.type,t),n);break e}throw Error(rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sa(r,i),zC(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sa(r,i),NB(t,e,r,i,n);case 3:e:{if(OH(e),t===null)throw Error(rt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sH(t,e),x1(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nd(Error(rt(423)),e),e=BB(t,e,r,n,i);break e}else if(r!==i){i=nd(Error(rt(424)),e),e=BB(t,e,r,n,i);break e}else for(Ss=fu(e.stateNode.containerInfo.firstChild),Es=e,er=!0,Pa=null,n=rH(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qh(),r===i){e=fl(t,e,n);break e}ki(t,e,r,n)}e=e.child}return e;case 5:return aH(e),t===null&&BC(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,RC(r,i)?a=null:s!==null&&RC(r,s)&&(e.flags|=32),IH(t,e),ki(t,e,a,n),e.child;case 6:return t===null&&BC(e),null;case 13:return kH(t,e,n);case 4:return eR(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ed(e,null,r,n):ki(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sa(r,i),OB(t,e,r,i,n);case 7:return ki(t,e,e.pendingProps,n),e.child;case 8:return ki(t,e,e.pendingProps.children,n),e.child;case 12:return ki(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,$n(y1,r._currentValue),r._currentValue=a,s!==null)if(ja(s.value,a)){if(s.children===i.children&&!ns.current){e=fl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=nl(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),DC(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(rt(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),DC(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ki(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zh(e,n),i=ia(i),r=r(i),e.flags|=1,ki(t,e,r,n),e.child;case 14:return r=e.type,i=Sa(r,e.pendingProps),i=Sa(r.type,i),kB(t,e,r,i,n);case 15:return PH(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sa(r,i),Gx(t,e),e.tag=1,rs(r)?(t=!0,p1(e)):t=!1,zh(e,n),MH(e,r,i),FC(e,r,i,n),jC(null,e,r,!0,t,n);case 19:return NH(t,e,n);case 22:return RH(t,e,n)}throw Error(rt(156,e.tag))};function JH(t,e){return S5(t,e)}function EJ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(t,e,n,r){return new EJ(t,e,n,r)}function mR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MJ(t){if(typeof t=="function")return mR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===NP)return 11;if(t===BP)return 14}return 2}function mu(t,e){var n=t.alternate;return n===null?(n=Zs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wx(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")mR(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case xh:return jc(n.children,i,s,e);case kP:a=8,i|=8;break;case lC:return t=Zs(12,n,e,i|2),t.elementType=lC,t.lanes=s,t;case uC:return t=Zs(13,n,e,i),t.elementType=uC,t.lanes=s,t;case cC:return t=Zs(19,n,e,i),t.elementType=cC,t.lanes=s,t;case a5:return L_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i5:a=10;break e;case s5:a=9;break e;case NP:a=11;break e;case BP:a=14;break e;case Wl:a=16,r=null;break e}throw Error(rt(130,t==null?t:typeof t,""))}return e=Zs(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function jc(t,e,n,r){return t=Zs(7,t,r,e),t.lanes=n,t}function L_(t,e,n,r){return t=Zs(22,t,r,e),t.elementType=a5,t.lanes=n,t.stateNode={isHidden:!1},t}function QA(t,e,n){return t=Zs(6,t,null,e),t.lanes=n,t}function eE(t,e,n){return e=Zs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CJ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=NA(0),this.expirationTimes=NA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=NA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gR(t,e,n,r,i,s,a,o,l){return t=new CJ(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QP(s),t}function TJ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YH(t){if(!t)return wu;t=t._reactInternals;e:{if(mf(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var n=t.type;if(rs(n))return Y5(t,n,e)}return e}function ZH(t,e,n,r,i,s,a,o,l){return t=gR(n,r,!0,t,i,s,a,o,l),t.context=YH(null),n=t.current,r=Ui(),i=pu(n),s=nl(r,i),s.callback=e??null,hu(n,s,i),t.current.lanes=i,_y(t,i,r),is(t,r),t}function F_(t,e,n,r){var i=e.current,s=Ui(),a=pu(i);return n=YH(n),e.context===null?e.context=n:e.pendingContext=n,e=nl(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hu(i,e,a),t!==null&&(Fa(t,i,a,s),zx(t,i,a)),a}function C1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yR(t,e){VB(t,e),(t=t.alternate)&&VB(t,e)}function PJ(){return null}var QH=typeof reportError=="function"?reportError:function(t){console.error(t)};function vR(t){this._internalRoot=t}U_.prototype.render=vR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));F_(t,e,null,null)};U_.prototype.unmount=vR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qc(function(){F_(null,t,null,null)}),e[ul]=null}};function U_(t){this._internalRoot=t}U_.prototype.unstable_scheduleHydration=function(t){if(t){var e=R5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jl.length&&e!==0&&e<Jl[n].priority;n++);Jl.splice(n,0,t),n===0&&O5(t)}};function xR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function z_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WB(){}function RJ(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=C1(a);s.call(u)}}var a=ZH(e,r,t,0,null,!1,!1,"",WB);return t._reactRootContainer=a,t[ul]=a.current,fg(t.nodeType===8?t.parentNode:t),Qc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=C1(l);o.call(u)}}var l=gR(t,0,!1,null,null,!1,!1,"",WB);return t._reactRootContainer=l,t[ul]=l.current,fg(t.nodeType===8?t.parentNode:t),Qc(function(){F_(e,l,n,r)}),l}function j_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=C1(a);o.call(l)}}F_(e,a,t,i)}else a=RJ(n,e,t,i,r);return C1(a)}T5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wm(e.pendingLanes);n!==0&&(FP(e,n|1),is(e,gr()),!(bn&6)&&(rd=gr()+500,Pu()))}break;case 13:Qc(function(){var r=cl(t,1);if(r!==null){var i=Ui();Fa(r,t,1,i)}}),yR(t,1)}};UP=function(t){if(t.tag===13){var e=cl(t,134217728);if(e!==null){var n=Ui();Fa(e,t,134217728,n)}yR(t,134217728)}};P5=function(t){if(t.tag===13){var e=pu(t),n=cl(t,e);if(n!==null){var r=Ui();Fa(n,t,e,r)}yR(t,e)}};R5=function(){return Nn};I5=function(t,e){var n=Nn;try{return Nn=t,e()}finally{Nn=n}};bC=function(t,e,n){switch(e){case"input":if(dC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=I_(r);if(!i)throw Error(rt(90));l5(r),dC(r,i)}}}break;case"textarea":c5(t,n);break;case"select":e=n.value,e!=null&&Dh(t,!!n.multiple,e,!1)}};y5=hR;v5=Qc;var IJ={usingClientEntryPoint:!1,Events:[Sy,Sh,I_,m5,g5,hR]},Gp={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OJ={bundleType:Gp.bundleType,version:Gp.version,rendererPackageName:Gp.rendererPackageName,rendererConfig:Gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_5(t),t===null?null:t.stateNode},findFiberByHostInstance:Gp.findFiberByHostInstance||PJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g0.isDisabled&&g0.supportsFiber)try{C_=g0.inject(OJ),co=g0}catch{}}Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IJ;Is.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xR(e))throw Error(rt(200));return TJ(t,e,null,n)};Is.createRoot=function(t,e){if(!xR(t))throw Error(rt(299));var n=!1,r="",i=QH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gR(t,1,!1,null,null,n,!1,r,i),t[ul]=e.current,fg(t.nodeType===8?t.parentNode:t),new vR(e)};Is.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=_5(e),t=t===null?null:t.stateNode,t};Is.flushSync=function(t){return Qc(t)};Is.hydrate=function(t,e,n){if(!z_(e))throw Error(rt(200));return j_(null,t,e,!0,n)};Is.hydrateRoot=function(t,e,n){if(!xR(t))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=QH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=ZH(e,null,t,1,n??null,i,!1,s,a),t[ul]=e.current,fg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new U_(e)};Is.render=function(t,e,n){if(!z_(e))throw Error(rt(200));return j_(null,t,e,!1,n)};Is.unmountComponentAtNode=function(t){if(!z_(t))throw Error(rt(40));return t._reactRootContainer?(Qc(function(){j_(null,null,t,!1,function(){t._reactRootContainer=null,t[ul]=null})}),!0):!1};Is.unstable_batchedUpdates=hR;Is.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!z_(n))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return j_(t,e,n,!1,r)};Is.version="18.3.1-next-f1338f8080-20240426";function eG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eG)}catch(t){console.error(t)}}eG(),e5.exports=Is;var kJ=e5.exports,XB=kJ;aC.createRoot=XB.createRoot,aC.hydrateRoot=XB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}var iu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(iu||(iu={}));const qB="popstate";function NJ(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return QC("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:T1(i)}return DJ(e,n,null,t)}function br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tG(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BJ(){return Math.random().toString(36).substr(2,8)}function KB(t,e){return{usr:t.state,key:t.key,idx:e}}function QC(t,e,n,r){return n===void 0&&(n=null),bg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xd(e):e,{state:n,key:e&&e.key||r||BJ()})}function T1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DJ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=iu.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(bg({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function c(){o=iu.Pop;let v=f(),y=v==null?null:v-u;u=v,l&&l({action:o,location:x.location,delta:y})}function h(v,y){o=iu.Push;let _=QC(x.location,v,y);u=f()+1;let b=KB(_,u),w=x.createHref(_);try{a.pushState(b,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}s&&l&&l({action:o,location:x.location,delta:1})}function d(v,y){o=iu.Replace;let _=QC(x.location,v,y);u=f();let b=KB(_,u),w=x.createHref(_);a.replaceState(b,"",w),s&&l&&l({action:o,location:x.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:T1(v);return _=_.replace(/ $/,"%20"),br(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let x={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qB,c),l=v,()=>{i.removeEventListener(qB,c),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(v){return a.go(v)}};return x}var JB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JB||(JB={}));function LJ(t,e,n){return n===void 0&&(n="/"),FJ(t,e,n)}function FJ(t,e,n,r){let i=typeof e=="string"?Xd(e):e,s=bR(i.pathname||"/",n);if(s==null)return null;let a=nG(t);UJ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=YJ(s);o=qJ(a[l],u)}return o}function nG(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(br(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gu([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nG(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:WJ(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of rG(s.path))i(s,a,l)}),e}function rG(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=rG(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function UJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zJ=/^:[\w-]+$/,jJ=3,HJ=2,GJ=1,$J=10,VJ=-2,YB=t=>t==="*";function WJ(t,e){let n=t.split("/"),r=n.length;return n.some(YB)&&(r+=VJ),e&&(r+=HJ),n.filter(i=>!YB(i)).reduce((i,s)=>i+(zJ.test(s)?jJ:s===""?GJ:$J),r)}function XJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qJ(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",c=KJ({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:gu([s,c.pathname]),pathnameBase:tY(gu([s,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(s=gu([s,c.pathnameBase]))}return a}function KJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,c)=>{let{paramName:h,isOptional:d}=f;if(h==="*"){let x=o[c]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const m=o[c];return d&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function JJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tG(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tG(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xd(t):t;return{pathname:n?n.startsWith("/")?n:QJ(n,e):e,search:nY(r),hash:rY(i)}}function QJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _R(t,e){let n=eY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xd(t):(i=bg({},t),br(!i.pathname||!i.pathname.includes("?"),tE("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),tE("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),tE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let c=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),c-=1;i.pathname=h.join("/")}o=c>=0?e[c]:"/"}let l=ZJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const gu=t=>t.join("/").replace(/\/\/+/g,"/"),tY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iG=["post","put","patch","delete"];new Set(iG);const sY=["get",...iG];new Set(sY);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}const SR=U.createContext(null),aY=U.createContext(null),Ru=U.createContext(null),H_=U.createContext(null),Iu=U.createContext({outlet:null,matches:[],isDataRoute:!1}),sG=U.createContext(null);function oY(t,e){let{relative:n}=e===void 0?{}:e;qd()||br(!1);let{basename:r,navigator:i}=U.useContext(Ru),{hash:s,pathname:a,search:o}=oG(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:gu([r,a])),i.createHref({pathname:l,search:o,hash:s})}function qd(){return U.useContext(H_)!=null}function Kd(){return qd()||br(!1),U.useContext(H_).location}function aG(t){U.useContext(Ru).static||U.useLayoutEffect(t)}function gf(){let{isDataRoute:t}=U.useContext(Iu);return t?bY():lY()}function lY(){qd()||br(!1);let t=U.useContext(SR),{basename:e,future:n,navigator:r}=U.useContext(Ru),{matches:i}=U.useContext(Iu),{pathname:s}=Kd(),a=JSON.stringify(_R(i,n.v7_relativeSplatPath)),o=U.useRef(!1);return aG(()=>{o.current=!0}),U.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let c=wR(u,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:gu([e,c.pathname])),(f.replace?r.replace:r.push)(c,f.state,f)},[e,r,a,s,t])}function oG(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Ru),{matches:i}=U.useContext(Iu),{pathname:s}=Kd(),a=JSON.stringify(_R(i,r.v7_relativeSplatPath));return U.useMemo(()=>wR(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function uY(t,e){return cY(t,e)}function cY(t,e,n,r){qd()||br(!1);let{navigator:i}=U.useContext(Ru),{matches:s}=U.useContext(Iu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Kd(),f;if(e){var c;let v=typeof e=="string"?Xd(e):e;l==="/"||(c=v.pathname)!=null&&c.startsWith(l)||br(!1),f=v}else f=u;let h=f.pathname||"/",d=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=LJ(t,{pathname:d}),x=mY(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:gu([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:gu([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&x?U.createElement(H_.Provider,{value:{location:_g({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:iu.Pop}},x):x}function fY(){let t=xY(),e=iY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const hY=U.createElement(fY,null);class dY extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Iu.Provider,{value:this.props.routeContext},U.createElement(sG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pY(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(SR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Iu.Provider,{value:e},r)}function mY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);f>=0||br(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let c=a[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=f),c.route.id){let{loaderData:h,errors:d}=n,m=c.route.loader&&h[c.route.id]===void 0&&(!d||d[c.route.id]===void 0);if(c.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,c,h)=>{let d,m=!1,x=null,v=null;n&&(d=o&&c.route.id?o[c.route.id]:void 0,x=c.route.errorElement||hY,l&&(u<0&&h===0?(_Y("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=c.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,h+1)),_=()=>{let b;return d?b=x:m?b=v:c.route.Component?b=U.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=f,U.createElement(pY,{match:c,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?U.createElement(dY,{location:n.location,revalidation:n.revalidation,component:x,error:d,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var lG=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lG||{}),uG=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uG||{});function gY(t){let e=U.useContext(SR);return e||br(!1),e}function yY(t){let e=U.useContext(aY);return e||br(!1),e}function vY(t){let e=U.useContext(Iu);return e||br(!1),e}function cG(t){let e=vY(),n=e.matches[e.matches.length-1];return n.route.id||br(!1),n.route.id}function xY(){var t;let e=U.useContext(sG),n=yY(),r=cG();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bY(){let{router:t}=gY(lG.UseNavigateStable),e=cG(uG.UseNavigateStable),n=U.useRef(!1);return aG(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_g({fromRouteId:e},s)))},[t,e])}const ZB={};function _Y(t,e,n){ZB[t]||(ZB[t]=!0)}function wY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function eT(t){let{to:e,replace:n,state:r,relative:i}=t;qd()||br(!1);let{future:s,static:a}=U.useContext(Ru),{matches:o}=U.useContext(Iu),{pathname:l}=Kd(),u=gf(),f=wR(e,_R(o,s.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(f);return U.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function qi(t){br(!1)}function SY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=iu.Pop,navigator:s,static:a=!1,future:o}=t;qd()&&br(!1);let l=e.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:s,static:a,future:_g({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Xd(r));let{pathname:f="/",search:c="",hash:h="",state:d=null,key:m="default"}=r,x=U.useMemo(()=>{let v=bR(f,l);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:m},navigationType:i}},[l,f,c,h,d,m,i]);return x==null?null:U.createElement(Ru.Provider,{value:u},U.createElement(H_.Provider,{children:n,value:x}))}function AY(t){let{children:e,location:n}=t;return uY(tT(e),n)}new Promise(()=>{});function tT(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,tT(r.props.children,s));return}r.type!==qi&&br(!1),!r.props.index||!r.props.children||br(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=tT(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nT.apply(this,arguments)}function EY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CY(t,e){return t.button===0&&(!e||e==="_self")&&!MY(t)}const TY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PY="6";try{window.__reactRouterVersion=PY}catch{}const RY="startTransition",QB=wq[RY];function IY(t){let{basename:e,children:n,future:r,window:i}=t,s=U.useRef();s.current==null&&(s.current=NJ({window:i,v5Compat:!0}));let a=s.current,[o,l]=U.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=U.useCallback(c=>{u&&QB?QB(()=>l(c)):l(c)},[l,u]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.useEffect(()=>wY(r),[r]),U.createElement(SY,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const OY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:c}=e,h=EY(e,TY),{basename:d}=U.useContext(Ru),m,x=!1;if(typeof u=="string"&&kY.test(u)&&(m=u,OY))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=bR(w.pathname,d);w.origin===b.origin&&E!=null?u=E+w.search+w.hash:x=!0}catch{}let v=oY(u,{relative:i}),y=NY(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:c});function _(b){r&&r(b),b.defaultPrevented||y(b)}return U.createElement("a",nT({},h,{href:m||v,onClick:x||s?r:_,ref:n,target:l}))});var eD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eD||(eD={}));var tD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tD||(tD={}));function NY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=gf(),u=Kd(),f=oG(t,{relative:a});return U.useCallback(c=>{if(CY(c,n)){c.preventDefault();let h=r!==void 0?r:T1(u)===T1(f);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,f,r,i,n,t,s,a,o])}let BY={data:""},DY=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||BY,LY=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FY=/\/\*[^]*?\*\/|  +/g,nD=/\n+/g,Zl=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Zl(a,s):s+"{"+Zl(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=Zl(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Zl.p?Zl.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ko={},fG=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+fG(t[n]);return e}return t},UY=(t,e,n,r,i)=>{let s=fG(t),a=ko[s]||(ko[s]=(l=>{let u=0,f=11;for(;u<l.length;)f=101*f+l.charCodeAt(u++)>>>0;return"go"+f})(s));if(!ko[a]){let l=s!==t?t:(u=>{let f,c,h=[{}];for(;f=LY.exec(u.replace(FY,""));)f[4]?h.shift():f[3]?(c=f[3].replace(nD," ").trim(),h.unshift(h[0][c]=h[0][c]||{})):h[0][f[1]]=f[2].replace(nD," ").trim();return h[0]})(t);ko[a]=Zl(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&ko.g?ko.g:null;return n&&(ko.g=ko[a]),((l,u,f,c)=>{c?u.data=u.data.replace(c,l):u.data.indexOf(l)===-1&&(u.data=f?l+u.data:u.data+l)})(ko[a],e,r,o),a},zY=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Zl(o,""):o===!1?"":o}return r+i+(a??"")},"");function G_(t){let e=this||{},n=t.call?t(e.p):t;return UY(n.unshift?n.raw?zY(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,DY(e.target),e.g,e.o,e.k)}let hG,rT,iT;G_.bind({g:1});let hl=G_.bind({k:1});function jY(t,e,n,r){Zl.p=e,hG=t,rT=n,iT=r}function Ou(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:rT&&rT()},o),n.o=/ *go\d+/.test(l),o.className=G_.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),iT&&u[0]&&iT(o),hG(u,o)}return i}}var HY=t=>typeof t=="function",P1=(t,e)=>HY(t)?t(e):t,GY=(()=>{let t=0;return()=>(++t).toString()})(),dG=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$Y=20,AR="default",pG=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return pG(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Xx=[],mG={toasts:[],pausedAt:void 0,settings:{toastLimit:$Y}},oo={},gG=(t,e=AR)=>{oo[e]=pG(oo[e]||mG,t),Xx.forEach(([n,r])=>{n===e&&r(oo[e])})},yG=t=>Object.keys(oo).forEach(e=>gG(t,e)),VY=t=>Object.keys(oo).find(e=>oo[e].toasts.some(n=>n.id===t)),$_=(t=AR)=>e=>{gG(e,t)},WY={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XY=(t={},e=AR)=>{let[n,r]=U.useState(oo[e]||mG),i=U.useRef(oo[e]);U.useEffect(()=>(i.current!==oo[e]&&r(oo[e]),Xx.push([e,r]),()=>{let a=Xx.findIndex(([o])=>o===e);a>-1&&Xx.splice(a,1)}),[e]);let s=n.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||WY[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:s}},qY=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||GY()}),Ey=t=>(e,n)=>{let r=qY(e,t,n);return $_(r.toasterId||VY(r.id))({type:2,toast:r}),r.id},Br=(t,e)=>Ey("blank")(t,e);Br.error=Ey("error");Br.success=Ey("success");Br.loading=Ey("loading");Br.custom=Ey("custom");Br.dismiss=(t,e)=>{let n={type:3,toastId:t};e?$_(e)(n):yG(n)};Br.dismissAll=t=>Br.dismiss(void 0,t);Br.remove=(t,e)=>{let n={type:4,toastId:t};e?$_(e)(n):yG(n)};Br.removeAll=t=>Br.remove(void 0,t);Br.promise=(t,e,n)=>{let r=Br.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?P1(e.success,i):void 0;return s?Br.success(s,{id:r,...n,...n==null?void 0:n.success}):Br.dismiss(r),i}).catch(i=>{let s=e.error?P1(e.error,i):void 0;s?Br.error(s,{id:r,...n,...n==null?void 0:n.error}):Br.dismiss(r)}),t};var KY=1e3,JY=(t,e="default")=>{let{toasts:n,pausedAt:r}=XY(t,e),i=U.useRef(new Map).current,s=U.useCallback((c,h=KY)=>{if(i.has(c))return;let d=setTimeout(()=>{i.delete(c),a({type:4,toastId:c})},h);i.set(c,d)},[]);U.useEffect(()=>{if(r)return;let c=Date.now(),h=n.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(c-d.createdAt);if(m<0){d.visible&&Br.dismiss(d.id);return}return setTimeout(()=>Br.dismiss(d.id,e),m)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[n,r,e]);let a=U.useCallback($_(e),[e]),o=U.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=U.useCallback((c,h)=>{a({type:1,toast:{id:c,height:h}})},[a]),u=U.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),f=U.useCallback((c,h)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:x}=h||{},v=n.filter(b=>(b.position||x)===(c.position||x)&&b.height),y=v.findIndex(b=>b.id===c.id),_=v.filter((b,w)=>w<y&&b.visible).length;return v.filter(b=>b.visible).slice(...d?[_+1]:[0,_]).reduce((b,w)=>b+(w.height||0)+m,0)},[n]);return U.useEffect(()=>{n.forEach(c=>{if(c.dismissed)s(c.id,c.removeDelay);else{let h=i.get(c.id);h&&(clearTimeout(h),i.delete(c.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:f}}},YY=hl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ZY=hl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QY=hl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eZ=Ou("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YY} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ZY} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QY} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tZ=hl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nZ=Ou("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${tZ} 1s linear infinite;
`,rZ=hl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iZ=hl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sZ=Ou("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iZ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aZ=Ou("div")`
  position: absolute;
`,oZ=Ou("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lZ=hl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uZ=Ou("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lZ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cZ=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(uZ,null,e):e:n==="blank"?null:U.createElement(oZ,null,U.createElement(nZ,{...r}),n!=="loading"&&U.createElement(aZ,null,n==="error"?U.createElement(eZ,{...r}):U.createElement(sZ,{...r})))},fZ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hZ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dZ="0%{opacity:0;} 100%{opacity:1;}",pZ="0%{opacity:1;} 100%{opacity:0;}",mZ=Ou("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,gZ=Ou("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yZ=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=dG()?[dZ,pZ]:[fZ(n),hZ(n)];return{animation:e?`${hl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hl(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vZ=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?yZ(t.position||e||"top-center",t.visible):{opacity:0},s=U.createElement(cZ,{toast:t}),a=U.createElement(gZ,{...t.ariaProps},P1(t.message,t));return U.createElement(mZ,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):U.createElement(U.Fragment,null,s,a))});jY(U.createElement);var xZ=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=U.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:s,className:e,style:n},i)},bZ=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dG()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},_Z=G_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,y0=16,wZ=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=JY(n,s);return U.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:y0,left:y0,right:y0,bottom:y0,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(f=>{let c=f.position||e,h=u.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),d=bZ(c,h);return U.createElement(xZ,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?_Z:"",style:d},f.type==="custom"?P1(f.message,f):i?i(f):U.createElement(vZ,{toast:f,position:c}))}))},zt=Br;function vG(t,e){return function(){return t.apply(e,arguments)}}const{toString:SZ}=Object.prototype,{getPrototypeOf:ER}=Object,{iterator:V_,toStringTag:xG}=Symbol,W_=(t=>e=>{const n=SZ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ha=t=>(t=t.toLowerCase(),e=>W_(e)===t),X_=t=>e=>typeof e===t,{isArray:Jd}=Array,id=X_("undefined");function My(t){return t!==null&&!id(t)&&t.constructor!==null&&!id(t.constructor)&&ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bG=Ha("ArrayBuffer");function AZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bG(t.buffer),e}const EZ=X_("string"),ss=X_("function"),_G=X_("number"),Cy=t=>t!==null&&typeof t=="object",MZ=t=>t===!0||t===!1,qx=t=>{if(W_(t)!=="object")return!1;const e=ER(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xG in t)&&!(V_ in t)},CZ=t=>{if(!Cy(t)||My(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},TZ=Ha("Date"),PZ=Ha("File"),RZ=Ha("Blob"),IZ=Ha("FileList"),OZ=t=>Cy(t)&&ss(t.pipe),kZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ss(t.append)&&((e=W_(t))==="formdata"||e==="object"&&ss(t.toString)&&t.toString()==="[object FormData]"))},NZ=Ha("URLSearchParams"),[BZ,DZ,LZ,FZ]=["ReadableStream","Request","Response","Headers"].map(Ha),UZ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ty(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Jd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(My(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function wG(t,e){if(My(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,SG=t=>!id(t)&&t!==Tc;function sT(){const{caseless:t,skipUndefined:e}=SG(this)&&this||{},n={},r=(i,s)=>{const a=t&&wG(n,s)||s;qx(n[a])&&qx(i)?n[a]=sT(n[a],i):qx(i)?n[a]=sT({},i):Jd(i)?n[a]=i.slice():(!e||!id(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ty(arguments[i],r);return n}const zZ=(t,e,n,{allOwnKeys:r}={})=>(Ty(e,(i,s)=>{n&&ss(i)?t[s]=vG(i,n):t[s]=i},{allOwnKeys:r}),t),jZ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),HZ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},GZ=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&ER(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$Z=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},VZ=t=>{if(!t)return null;if(Jd(t))return t;let e=t.length;if(!_G(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},WZ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ER(Uint8Array)),XZ=(t,e)=>{const r=(t&&t[V_]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},qZ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},KZ=Ha("HTMLFormElement"),JZ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),rD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),YZ=Ha("RegExp"),AG=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ty(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},ZZ=t=>{AG(t,(e,n)=>{if(ss(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ss(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QZ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Jd(t)?r(t):r(String(t).split(e)),n},eQ=()=>{},tQ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function nQ(t){return!!(t&&ss(t.append)&&t[xG]==="FormData"&&t[V_])}const rQ=t=>{const e=new Array(10),n=(r,i)=>{if(Cy(r)){if(e.indexOf(r)>=0)return;if(My(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Jd(r)?[]:{};return Ty(r,(a,o)=>{const l=n(a,i+1);!id(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},iQ=Ha("AsyncFunction"),sQ=t=>t&&(Cy(t)||ss(t))&&ss(t.then)&&ss(t.catch),EG=((t,e)=>t?setImmediate:e?((n,r)=>(Tc.addEventListener("message",({source:i,data:s})=>{i===Tc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Tc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(Tc.postMessage)),aQ=typeof queueMicrotask<"u"?queueMicrotask.bind(Tc):typeof process<"u"&&process.nextTick||EG,oQ=t=>t!=null&&ss(t[V_]),Te={isArray:Jd,isArrayBuffer:bG,isBuffer:My,isFormData:kZ,isArrayBufferView:AZ,isString:EZ,isNumber:_G,isBoolean:MZ,isObject:Cy,isPlainObject:qx,isEmptyObject:CZ,isReadableStream:BZ,isRequest:DZ,isResponse:LZ,isHeaders:FZ,isUndefined:id,isDate:TZ,isFile:PZ,isBlob:RZ,isRegExp:YZ,isFunction:ss,isStream:OZ,isURLSearchParams:NZ,isTypedArray:WZ,isFileList:IZ,forEach:Ty,merge:sT,extend:zZ,trim:UZ,stripBOM:jZ,inherits:HZ,toFlatObject:GZ,kindOf:W_,kindOfTest:Ha,endsWith:$Z,toArray:VZ,forEachEntry:XZ,matchAll:qZ,isHTMLForm:KZ,hasOwnProperty:rD,hasOwnProp:rD,reduceDescriptors:AG,freezeMethods:ZZ,toObjectSet:QZ,toCamelCase:JZ,noop:eQ,toFiniteNumber:tQ,findKey:wG,global:Tc,isContextDefined:SG,isSpecCompliantForm:nQ,toJSONObject:rQ,isAsyncFn:iQ,isThenable:sQ,setImmediate:EG,asap:aQ,isIterable:oQ};function Kt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Te.inherits(Kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const MG=Kt.prototype,CG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{CG[t]={value:t}});Object.defineProperties(Kt,CG);Object.defineProperty(MG,"isAxiosError",{value:!0});Kt.from=(t,e,n,r,i,s)=>{const a=Object.create(MG);Te.toFlatObject(t,a,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Kt.call(a,o,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const lQ=null;function aT(t){return Te.isPlainObject(t)||Te.isArray(t)}function TG(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function iD(t,e,n){return t?t.concat(e).map(function(i,s){return i=TG(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function uQ(t){return Te.isArray(t)&&!t.some(aT)}const cQ=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function q_(t,e,n){if(!Te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!Te.isUndefined(v[x])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(Te.isDate(m))return m.toISOString();if(Te.isBoolean(m))return m.toString();if(!l&&Te.isBlob(m))throw new Kt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(m)||Te.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,x,v){let y=m;if(m&&!v&&typeof m=="object"){if(Te.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(Te.isArray(m)&&uQ(m)||(Te.isFileList(m)||Te.endsWith(x,"[]"))&&(y=Te.toArray(m)))return x=TG(x),y.forEach(function(b,w){!(Te.isUndefined(b)||b===null)&&e.append(a===!0?iD([x],w,s):a===null?x:x+"[]",u(b))}),!1}return aT(m)?!0:(e.append(iD(v,x,s),u(m)),!1)}const c=[],h=Object.assign(cQ,{defaultVisitor:f,convertValue:u,isVisitable:aT});function d(m,x){if(!Te.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));c.push(m),Te.forEach(m,function(y,_){(!(Te.isUndefined(y)||y===null)&&i.call(e,y,Te.isString(_)?_.trim():_,x,h))===!0&&d(y,x?x.concat(_):[_])}),c.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return d(t),e}function sD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function MR(t,e){this._pairs=[],t&&q_(t,this,e)}const PG=MR.prototype;PG.append=function(e,n){this._pairs.push([e,n])};PG.toString=function(e){const n=e?function(r){return e.call(this,r,sD)}:sD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function fQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RG(t,e,n){if(!e)return t;const r=n&&n.encode||fQ;Te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Te.isURLSearchParams(e)?e.toString():new MR(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class aD{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const IG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hQ=typeof URLSearchParams<"u"?URLSearchParams:MR,dQ=typeof FormData<"u"?FormData:null,pQ=typeof Blob<"u"?Blob:null,mQ={isBrowser:!0,classes:{URLSearchParams:hQ,FormData:dQ,Blob:pQ},protocols:["http","https","file","blob","url","data"]},CR=typeof window<"u"&&typeof document<"u",oT=typeof navigator=="object"&&navigator||void 0,gQ=CR&&(!oT||["ReactNative","NativeScript","NS"].indexOf(oT.product)<0),yQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vQ=CR&&window.location.href||"http://localhost",xQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CR,hasStandardBrowserEnv:gQ,hasStandardBrowserWebWorkerEnv:yQ,navigator:oT,origin:vQ},Symbol.toStringTag,{value:"Module"})),Si={...xQ,...mQ};function bQ(t,e){return q_(t,new Si.classes.URLSearchParams,{visitor:function(n,r,i,s){return Si.isNode&&Te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function _Q(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function OG(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&Te.isArray(i)?i.length:a,l?(Te.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!Te.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Te.isArray(i[a])&&(i[a]=wQ(i[a])),!o)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const n={};return Te.forEachEntry(t,(r,i)=>{e(_Q(r),i,n,0)}),n}return null}function SQ(t,e,n){if(Te.isString(t))try{return(e||JSON.parse)(t),Te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Py={transitional:IG,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Te.isObject(e);if(s&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return i?JSON.stringify(OG(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e)||Te.isReadableStream(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bQ(e,this.formSerializer).toString();if((o=Te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return q_(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),SQ(e)):e}],transformResponse:[function(e){const n=this.transitional||Py.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Te.isResponse(e)||Te.isReadableStream(e))return e;if(e&&Te.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Kt.from(o,Kt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Si.classes.FormData,Blob:Si.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{Py.headers[t]={}});const AQ=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&AQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},oD=Symbol("internals");function $p(t){return t&&String(t).trim().toLowerCase()}function Kx(t){return t===!1||t==null?t:Te.isArray(t)?t.map(Kx):String(t)}function MQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const CQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nE(t,e,n,r,i){if(Te.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Te.isString(e)){if(Te.isString(r))return e.indexOf(r)!==-1;if(Te.isRegExp(r))return r.test(e)}}function TQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function PQ(t,e){const n=Te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let as=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,u){const f=$p(l);if(!f)throw new Error("header name must be a non-empty string");const c=Te.findKey(i,f);(!c||i[c]===void 0||u===!0||u===void 0&&i[c]!==!1)&&(i[c||l]=Kx(o))}const a=(o,l)=>Te.forEach(o,(u,f)=>s(u,f,l));if(Te.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Te.isString(e)&&(e=e.trim())&&!CQ(e))a(EQ(e),n);else if(Te.isObject(e)&&Te.isIterable(e)){let o={},l,u;for(const f of e){if(!Te.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[u=f[0]]=(l=o[u])?Te.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}a(o,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=$p(e),e){const r=Te.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return MQ(i);if(Te.isFunction(n))return n.call(this,i,r);if(Te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$p(e),e){const r=Te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||nE(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=$p(a),a){const o=Te.findKey(r,a);o&&(!n||nE(r,r[o],o,n))&&(delete r[o],i=!0)}}return Te.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||nE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Te.forEach(this,(i,s)=>{const a=Te.findKey(r,s);if(a){n[a]=Kx(i),delete n[s];return}const o=e?TQ(s):String(s).trim();o!==s&&delete n[s],n[o]=Kx(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[oD]=this[oD]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=$p(a);r[o]||(PQ(i,a),r[o]=!0)}return Te.isArray(e)?e.forEach(s):s(e),this}};as.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(as.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Te.freezeMethods(as);function rE(t,e){const n=this||Py,r=e||n,i=as.from(r.headers);let s=r.data;return Te.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function kG(t){return!!(t&&t.__CANCEL__)}function Yd(t,e,n){Kt.call(this,t??"canceled",Kt.ERR_CANCELED,e,n),this.name="CanceledError"}Te.inherits(Yd,Kt,{__CANCEL__:!0});function NG(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Kt("Request failed with status code "+n.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RQ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function IQ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];a||(a=u),n[i]=l,r[i]=u;let c=s,h=0;for(;c!==i;)h+=n[c++],c=c%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const d=f&&u-f;return d?Math.round(h*1e3/d):void 0}}function OQ(t,e){let n=0,r=1e3/e,i,s;const a=(u,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const f=Date.now(),c=f-n;c>=r?a(u,f):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-c)))},()=>i&&a(i)]}const R1=(t,e,n=3)=>{let r=0;const i=IQ(50,250);return OQ(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),f=a<=o;r=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&f?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(c)},n)},lD=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},uD=t=>(...e)=>Te.asap(()=>t(...e)),kQ=Si.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Si.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Si.origin),Si.navigator&&/(msie|trident)/i.test(Si.navigator.userAgent)):()=>!0,NQ=Si.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];Te.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Te.isString(r)&&a.push("path="+r),Te.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BQ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DQ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function BG(t,e,n){let r=!BQ(e);return t&&(r||n==!1)?DQ(t,e):e}const cD=t=>t instanceof as?{...t}:t;function ef(t,e){e=e||{};const n={};function r(u,f,c,h){return Te.isPlainObject(u)&&Te.isPlainObject(f)?Te.merge.call({caseless:h},u,f):Te.isPlainObject(f)?Te.merge({},f):Te.isArray(f)?f.slice():f}function i(u,f,c,h){if(Te.isUndefined(f)){if(!Te.isUndefined(u))return r(void 0,u,c,h)}else return r(u,f,c,h)}function s(u,f){if(!Te.isUndefined(f))return r(void 0,f)}function a(u,f){if(Te.isUndefined(f)){if(!Te.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function o(u,f,c){if(c in e)return r(u,f);if(c in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,f,c)=>i(cD(u),cD(f),c,!0)};return Te.forEach(Object.keys({...t,...e}),function(f){const c=l[f]||i,h=c(t[f],e[f],f);Te.isUndefined(h)&&c!==o||(n[f]=h)}),n}const DG=t=>{const e=ef({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=as.from(a),e.url=RG(BG(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Te.isFormData(n)){if(Si.hasStandardBrowserEnv||Si.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Te.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([f,c])=>{u.includes(f.toLowerCase())&&a.set(f,c)})}}if(Si.hasStandardBrowserEnv&&(r&&Te.isFunction(r)&&(r=r(e)),r||r!==!1&&kQ(e.url))){const l=i&&s&&NQ.read(s);l&&a.set(i,l)}return e},LQ=typeof XMLHttpRequest<"u",FQ=LQ&&function(t){return new Promise(function(n,r){const i=DG(t);let s=i.data;const a=as.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,f,c,h,d,m;function x(){d&&d(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const b=as.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:t,request:v};NG(function(P){n(P),x()},function(P){r(P),x()},E),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(r(new Kt("Request aborted",Kt.ECONNABORTED,t,v)),v=null)},v.onerror=function(w){const E=w&&w.message?w.message:"Network Error",A=new Kt(E,Kt.ERR_NETWORK,t,v);A.event=w||null,r(A),v=null},v.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||IG;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new Kt(w,E.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,t,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&Te.forEach(a.toJSON(),function(w,E){v.setRequestHeader(E,w)}),Te.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),u&&([h,m]=R1(u,!0),v.addEventListener("progress",h)),l&&v.upload&&([c,d]=R1(l),v.upload.addEventListener("progress",c),v.upload.addEventListener("loadend",d)),(i.cancelToken||i.signal)&&(f=b=>{v&&(r(!b||b.type?new Yd(null,t,v):b),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const _=RQ(i.url);if(_&&Si.protocols.indexOf(_)===-1){r(new Kt("Unsupported protocol "+_+":",Kt.ERR_BAD_REQUEST,t));return}v.send(s||null)})},UQ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,o();const f=u instanceof Error?u:this.reason;r.abort(f instanceof Kt?f:new Yd(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,s(new Kt(`timeout ${e} of ms exceeded`,Kt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Te.asap(o),l}},zQ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},jQ=async function*(t,e){for await(const n of HQ(t))yield*zQ(n,e)},HQ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},fD=(t,e,n,r)=>{const i=jQ(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){o(),l.close();return}let c=f.byteLength;if(n){let h=s+=c;n(h)}l.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},hD=64*1024,{isFunction:v0}=Te,GQ=(({Request:t,Response:e})=>({Request:t,Response:e}))(Te.global),{ReadableStream:dD,TextEncoder:pD}=Te.global,mD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$Q=t=>{t=Te.merge.call({skipUndefined:!0},GQ,t);const{fetch:e,Request:n,Response:r}=t,i=e?v0(e):typeof fetch=="function",s=v0(n),a=v0(r);if(!i)return!1;const o=i&&v0(dD),l=i&&(typeof pD=="function"?(m=>x=>m.encode(x))(new pD):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=s&&o&&mD(()=>{let m=!1;const x=new n(Si.origin,{body:new dD,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!x}),f=a&&o&&mD(()=>Te.isReadableStream(new r("").body)),c={stream:f&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!c[m]&&(c[m]=(x,v)=>{let y=x&&x[m];if(y)return y.call(x);throw new Kt(`Response type '${m}' is not supported`,Kt.ERR_NOT_SUPPORT,v)})});const h=async m=>{if(m==null)return 0;if(Te.isBlob(m))return m.size;if(Te.isSpecCompliantForm(m))return(await new n(Si.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(m)||Te.isArrayBuffer(m))return m.byteLength;if(Te.isURLSearchParams(m)&&(m=m+""),Te.isString(m))return(await l(m)).byteLength},d=async(m,x)=>{const v=Te.toFiniteNumber(m.getContentLength());return v??h(x)};return async m=>{let{url:x,method:v,data:y,signal:_,cancelToken:b,timeout:w,onDownloadProgress:E,onUploadProgress:A,responseType:P,headers:I,withCredentials:R="same-origin",fetchOptions:M}=DG(m),k=e||fetch;P=P?(P+"").toLowerCase():"text";let B=UQ([_,b&&b.toAbortSignal()],w),H=null;const j=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let V;try{if(A&&u&&v!=="get"&&v!=="head"&&(V=await d(I,y))!==0){let q=new n(x,{method:"POST",body:y,duplex:"half"}),te;if(Te.isFormData(y)&&(te=q.headers.get("content-type"))&&I.setContentType(te),q.body){const[G,Ie]=lD(V,R1(uD(A)));y=fD(q.body,hD,G,Ie)}}Te.isString(R)||(R=R?"include":"omit");const X=s&&"credentials"in n.prototype,Z={...M,signal:B,method:v.toUpperCase(),headers:I.normalize().toJSON(),body:y,duplex:"half",credentials:X?R:void 0};H=s&&new n(x,Z);let L=await(s?k(H,M):k(x,Z));const W=f&&(P==="stream"||P==="response");if(f&&(E||W&&j)){const q={};["status","statusText","headers"].forEach(Oe=>{q[Oe]=L[Oe]});const te=Te.toFiniteNumber(L.headers.get("content-length")),[G,Ie]=E&&lD(te,R1(uD(E),!0))||[];L=new r(fD(L.body,hD,G,()=>{Ie&&Ie(),j&&j()}),q)}P=P||"text";let N=await c[Te.findKey(c,P)||"text"](L,m);return!W&&j&&j(),await new Promise((q,te)=>{NG(q,te,{data:N,headers:as.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:H})})}catch(X){throw j&&j(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Kt("Network Error",Kt.ERR_NETWORK,m,H),{cause:X.cause||X}):Kt.from(X,X&&X.code,m,H)}}},VQ=new Map,LG=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,o=a,l,u,f=VQ;for(;o--;)l=s[o],u=f.get(l),u===void 0&&f.set(l,u=o?new Map:$Q(e)),f=u;return u};LG();const lT={http:lQ,xhr:FQ,fetch:{get:LG}};Te.forEach(lT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gD=t=>`- ${t}`,WQ=t=>Te.isFunction(t)||t===null||t===!1,FG={getAdapter:(t,e)=>{t=Te.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let o;if(i=r,!WQ(r)&&(i=lT[(o=String(r)).toLowerCase()],i===void 0))throw new Kt(`Unknown adapter '${o}'`);if(i&&(Te.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(gD).join(`
`):" "+gD(a[0]):"as no adapter specified";throw new Kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:lT};function iE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yd(null,t)}function yD(t){return iE(t),t.headers=as.from(t.headers),t.data=rE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),FG.getAdapter(t.adapter||Py.adapter,t)(t).then(function(r){return iE(t),r.data=rE.call(t,t.transformResponse,r),r.headers=as.from(r.headers),r},function(r){return kG(r)||(iE(t),r&&r.response&&(r.response.data=rE.call(t,t.transformResponse,r.response),r.response.headers=as.from(r.response.headers))),Promise.reject(r)})}const UG="1.12.2",K_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{K_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const vD={};K_.transitional=function(e,n,r){function i(s,a){return"[Axios v"+UG+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Kt(i(a," has been removed"+(n?" in "+n:"")),Kt.ERR_DEPRECATED);return n&&!vD[a]&&(vD[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};K_.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function XQ(t,e,n){if(typeof t!="object")throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Kt("option "+s+" must be "+l,Kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Kt("Unknown option "+s,Kt.ERR_BAD_OPTION)}}const Jx={assertOptions:XQ,validators:K_},to=Jx.validators;let Hc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new aD,response:new aD}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ef(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Jx.assertOptions(r,{silentJSONParsing:to.transitional(to.boolean),forcedJSONParsing:to.transitional(to.boolean),clarifyTimeoutError:to.transitional(to.boolean)},!1),i!=null&&(Te.isFunction(i)?n.paramsSerializer={serialize:i}:Jx.assertOptions(i,{encode:to.function,serialize:to.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Jx.assertOptions(n,{baseUrl:to.spelling("baseURL"),withXsrfToken:to.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Te.merge(s.common,s[n.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=as.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,c=0,h;if(!l){const m=[yD.bind(this),void 0];for(m.unshift(...o),m.push(...u),h=m.length,f=Promise.resolve(n);c<h;)f=f.then(m[c++],m[c++]);return f}h=o.length;let d=n;for(;c<h;){const m=o[c++],x=o[c++];try{d=m(d)}catch(v){x.call(this,v);break}}try{f=yD.call(this,d)}catch(m){return Promise.reject(m)}for(c=0,h=u.length;c<h;)f=f.then(u[c++],u[c++]);return f}getUri(e){e=ef(this.defaults,e);const n=BG(e.baseURL,e.url,e.allowAbsoluteUrls);return RG(n,e.params,e.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(e){Hc.prototype[e]=function(n,r){return this.request(ef(r||{},{method:e,url:n,data:(r||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(ef(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Hc.prototype[e]=n(),Hc.prototype[e+"Form"]=n(!0)});let qQ=class zG{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new Yd(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new zG(function(i){e=i}),cancel:e}}};function KQ(t){return function(n){return t.apply(null,n)}}function JQ(t){return Te.isObject(t)&&t.isAxiosError===!0}const uT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uT).forEach(([t,e])=>{uT[e]=t});function jG(t){const e=new Hc(t),n=vG(Hc.prototype.request,e);return Te.extend(n,Hc.prototype,e,{allOwnKeys:!0}),Te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return jG(ef(t,i))},n}const _r=jG(Py);_r.Axios=Hc;_r.CanceledError=Yd;_r.CancelToken=qQ;_r.isCancel=kG;_r.VERSION=UG;_r.toFormData=q_;_r.AxiosError=Kt;_r.Cancel=_r.CanceledError;_r.all=function(e){return Promise.all(e)};_r.spread=KQ;_r.isAxiosError=JQ;_r.mergeConfig=ef;_r.AxiosHeaders=as;_r.formToJSON=t=>OG(Te.isHTMLForm(t)?new FormData(t):t);_r.getAdapter=FG.getAdapter;_r.HttpStatusCode=uT;_r.default=_r;const{Axios:bHe,AxiosError:_He,CanceledError:wHe,isCancel:SHe,CancelToken:AHe,VERSION:EHe,all:MHe,Cancel:CHe,isAxiosError:THe,spread:PHe,toFormData:RHe,AxiosHeaders:IHe,HttpStatusCode:OHe,formToJSON:kHe,getAdapter:NHe,mergeConfig:BHe}=_r,Ht=_r.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Ht.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Ht.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const HG=U.createContext(void 0),Ry=()=>{const t=U.useContext(HG);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},YQ=({children:t})=>{const[e,n]=U.useState(null),[r,i]=U.useState(localStorage.getItem("token")),[s,a]=U.useState(!0);U.useEffect(()=>{r?(Ht.defaults.headers.common.Authorization=`Bearer ${r}`,Ht.get("/users/profile").then(c=>{n(c.data)}).catch(()=>{localStorage.removeItem("token"),i(null),delete Ht.defaults.headers.common.Authorization}).finally(()=>{a(!1)})):a(!1)},[r]);const f={user:e,token:r,login:async(c,h)=>{var d,m;try{const x=await Ht.post("/auth/login",{username:c,password:h}),{access_token:v}=x.data;localStorage.setItem("token",v),i(v),Ht.defaults.headers.common.Authorization=`Bearer ${v}`;const y=await Ht.get("/users/profile");n(y.data)}catch(x){throw new Error(((m=(d=x.response)==null?void 0:d.data)==null?void 0:m.detail)||"Login failed")}},register:async(c,h,d,m)=>{var x,v;try{await Ht.post("/auth/register",{username:c,email:h,password:d,full_name:m})}catch(y){throw new Error(((v=(x=y.response)==null?void 0:x.data)==null?void 0:v.detail)||"Registration failed")}},logout:()=>{localStorage.removeItem("token"),i(null),n(null),delete Ht.defaults.headers.common.Authorization},loading:s};return C.jsx(HG.Provider,{value:f,children:t})};function I1(t){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I1(t)}var ZQ=/^\s+/,QQ=/\s+$/;function Ot(t,e){if(t=t||"",e=e||{},t instanceof Ot)return t;if(!(this instanceof Ot))return new Ot(t,e);var n=eee(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=GG(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=bD(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=bD(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=xD(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=xD(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return _D(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return iee(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Qn(this._r,255)*100)+"%",g:Math.round(Qn(this._g,255)*100)+"%",b:Math.round(Qn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Qn(this._r,255)*100)+"%, "+Math.round(Qn(this._g,255)*100)+"%, "+Math.round(Qn(this._b,255)*100)+"%)":"rgba("+Math.round(Qn(this._r,255)*100)+"%, "+Math.round(Qn(this._g,255)*100)+"%, "+Math.round(Qn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:gee[_D(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+wD(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ot(e);r="#"+wD(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ot(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(lee,arguments)},brighten:function(){return this._applyModification(uee,arguments)},darken:function(){return this._applyModification(cee,arguments)},desaturate:function(){return this._applyModification(see,arguments)},saturate:function(){return this._applyModification(aee,arguments)},greyscale:function(){return this._applyModification(oee,arguments)},spin:function(){return this._applyModification(fee,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(pee,arguments)},complement:function(){return this._applyCombination(hee,arguments)},monochromatic:function(){return this._applyCombination(mee,arguments)},splitcomplement:function(){return this._applyCombination(dee,arguments)},triad:function(){return this._applyCombination(SD,[3])},tetrad:function(){return this._applyCombination(SD,[4])}};Ot.fromRatio=function(t,e){if(I1(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Am(t[r]));t=n}return Ot(t,e)};function eee(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=bee(t)),I1(t)=="object"&&(No(t.r)&&No(t.g)&&No(t.b)?(e=tee(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):No(t.h)&&No(t.s)&&No(t.v)?(r=Am(t.s),i=Am(t.v),e=ree(t.h,r,i),a=!0,o="hsv"):No(t.h)&&No(t.s)&&No(t.l)&&(r=Am(t.s),s=Am(t.l),e=nee(t.h,r,s),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=GG(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function tee(t,e,n){return{r:Qn(t,255)*255,g:Qn(e,255)*255,b:Qn(n,255)*255}}function xD(t,e,n){t=Qn(t,255),e=Qn(e,255),n=Qn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=(r+i)/2;if(r==i)s=a=0;else{var l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function nee(t,e,n){var r,i,s;t=Qn(t,360),e=Qn(e,100),n=Qn(n,100);function a(u,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(f-u)*6*c:c<1/2?f:c<2/3?u+(f-u)*(2/3-c)*6:u}if(e===0)r=i=s=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=a(l,o,t+1/3),i=a(l,o,t),s=a(l,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function bD(t,e,n){t=Qn(t,255),e=Qn(e,255),n=Qn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=r,l=r-i;if(a=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function ree(t,e,n){t=Qn(t,360)*6,e=Qn(e,100),n=Qn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,u=[n,a,s,s,o,n][l],f=[o,n,n,a,s,s][l],c=[s,s,o,n,n,a][l];return{r:u*255,g:f*255,b:c*255}}function _D(t,e,n,r){var i=[ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function iee(t,e,n,r,i){var s=[ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16)),ka($G(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function wD(t,e,n,r){var i=[ka($G(r)),ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16))];return i.join("")}Ot.equals=function(t,e){return!t||!e?!1:Ot(t).toRgbString()==Ot(e).toRgbString()};Ot.random=function(){return Ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function see(t,e){e=e===0?0:e||10;var n=Ot(t).toHsl();return n.s-=e/100,n.s=J_(n.s),Ot(n)}function aee(t,e){e=e===0?0:e||10;var n=Ot(t).toHsl();return n.s+=e/100,n.s=J_(n.s),Ot(n)}function oee(t){return Ot(t).desaturate(100)}function lee(t,e){e=e===0?0:e||10;var n=Ot(t).toHsl();return n.l+=e/100,n.l=J_(n.l),Ot(n)}function uee(t,e){e=e===0?0:e||10;var n=Ot(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ot(n)}function cee(t,e){e=e===0?0:e||10;var n=Ot(t).toHsl();return n.l-=e/100,n.l=J_(n.l),Ot(n)}function fee(t,e){var n=Ot(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ot(n)}function hee(t){var e=Ot(t).toHsl();return e.h=(e.h+180)%360,Ot(e)}function SD(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ot(t).toHsl(),r=[Ot(t)],i=360/e,s=1;s<e;s++)r.push(Ot({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function dee(t){var e=Ot(t).toHsl(),n=e.h;return[Ot(t),Ot({h:(n+72)%360,s:e.s,l:e.l}),Ot({h:(n+216)%360,s:e.s,l:e.l})]}function pee(t,e,n){e=e||6,n=n||30;var r=Ot(t).toHsl(),i=360/n,s=[Ot(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ot(r));return s}function mee(t,e){e=e||6;for(var n=Ot(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(Ot({h:r,s:i,v:s})),s=(s+o)%1;return a}Ot.mix=function(t,e,n){n=n===0?0:n||50;var r=Ot(t).toRgb(),i=Ot(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ot(a)};Ot.readability=function(t,e){var n=Ot(t),r=Ot(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ot.isReadable=function(t,e,n){var r=Ot.readability(t,e),i,s;switch(s=!1,i=_ee(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ot.mostReadable=function(t,e,n){var r=null,i=0,s,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<e.length;u++)s=Ot.readability(t,e[u]),s>i&&(i=s,r=Ot(e[u]));return Ot.isReadable(t,r,{level:o,size:l})||!a?r:(n.includeFallbackColors=!1,Ot.mostReadable(t,["#fff","#000"],n))};var cT=Ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gee=Ot.hexNames=yee(cT);function yee(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function GG(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Qn(t,e){vee(t)&&(t="100%");var n=xee(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function J_(t){return Math.min(1,Math.max(0,t))}function gs(t){return parseInt(t,16)}function vee(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function xee(t){return typeof t=="string"&&t.indexOf("%")!=-1}function ka(t){return t.length==1?"0"+t:""+t}function Am(t){return t<=1&&(t=t*100+"%"),t}function $G(t){return Math.round(parseFloat(t)*255).toString(16)}function AD(t){return gs(t)/255}var wa=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function No(t){return!!wa.CSS_UNIT.exec(t)}function bee(t){t=t.replace(ZQ,"").replace(QQ,"").toLowerCase();var e=!1;if(cT[t])t=cT[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=wa.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=wa.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=wa.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=wa.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=wa.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=wa.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=wa.hex8.exec(t))?{r:gs(n[1]),g:gs(n[2]),b:gs(n[3]),a:AD(n[4]),format:e?"name":"hex8"}:(n=wa.hex6.exec(t))?{r:gs(n[1]),g:gs(n[2]),b:gs(n[3]),format:e?"name":"hex"}:(n=wa.hex4.exec(t))?{r:gs(n[1]+""+n[1]),g:gs(n[2]+""+n[2]),b:gs(n[3]+""+n[3]),a:AD(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=wa.hex3.exec(t))?{r:gs(n[1]+""+n[1]),g:gs(n[2]+""+n[2]),b:gs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function _ee(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const VG=U.createContext(void 0),wee=({children:t})=>{const[e,n]=U.useState(null),r=async()=>{var i,s;try{const a=await Ht.get("/admin/branding");if(n(a.data),(i=a.data)!=null&&i.primary_color){const o=Ot(a.data.primary_color);document.documentElement.style.setProperty("--brand-title-color",o.toHexString())}if((s=a.data)!=null&&s.favicon_url){const o=document.querySelector("link[rel*='icon']");o&&(o.href=a.data.favicon_url)}}catch(a){console.error("Failed to load branding config",a)}};return U.useEffect(()=>{r()},[]),C.jsx(VG.Provider,{value:{brandingConfig:e,loadBrandingConfig:r},children:t})},WG=()=>{const t=U.useContext(VG);if(t===void 0)throw new Error("useBranding must be used within a BrandingProvider");return t},Bo=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r}=Ry();return r?C.jsx("div",{className:"min-h-screen flex items-center justify-center",children:C.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):n?e&&!n.is_admin?C.jsx(eT,{to:"/dashboard",replace:!0}):C.jsx(C.Fragment,{children:t}):C.jsx(eT,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aee=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ED=t=>{const e=Aee(t);return e.charAt(0).toUpperCase()+e.slice(1)},XG=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Eee=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>U.createElement("svg",{ref:l,...Mee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:XG("lucide",i),...!s&&!Eee(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,f])=>U.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=(t,e)=>{const n=U.forwardRef(({className:r,...i},s)=>U.createElement(Cee,{ref:s,iconNode:e,className:XG(`lucide-${See(ED(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ED(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fT=Bn("chart-column",Tee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],qG=Bn("cloud-upload",Pee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Iee=Bn("crown",Ree);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],kee=Bn("ellipsis-vertical",Oee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hT=Bn("eye-off",Nee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dT=Bn("eye",Bee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Lee=Bn("file-spreadsheet",Dee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pT=Bn("file-text",Fee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zee=Bn("lock",Uee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hee=Bn("log-out",jee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$ee=Bn("menu",Gee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],O1=Bn("message-square",Vee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xee=Bn("moon",Wee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Kee=Bn("palette",qee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],MD=Bn("paperclip",Jee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],TR=Bn("refresh-ccw",Yee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Qee=Bn("rotate-ccw",Zee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tte=Bn("search",ete);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CD=Bn("send",nte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sE=Bn("settings",rte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ste=Bn("shield",ite);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ote=Bn("sun",ate);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],KG=Bn("thumbs-down",lte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],cte=Bn("thumbs-up",ute);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fm=Bn("trash-2",fte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PR=Bn("triangle-alert",hte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JG=Bn("user",dte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yx=Bn("users",pte);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sd=Bn("x",mte);function Um(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function mT(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function gte(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function TD(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function PD(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function yte(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function vte(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function aE(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function xte(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function bte(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function RD(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function _te(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function wte(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function gT(t,e){let n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function YG(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ID(t,e,n){let r=e[0],i=e[1],s=e[2],a=n[0],o=n[1],l=n[2];return t[0]=i*l-s*o,t[1]=s*a-r*l,t[2]=r*o-i*a,t}function Ste(t,e,n,r){let i=e[0],s=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=a+r*(n[2]-a),t}function Ate(t,e,n,r,i){const s=Math.exp(-r*i);let a=e[0],o=e[1],l=e[2];return t[0]=n[0]+(a-n[0])*s,t[1]=n[1]+(o-n[1])*s,t[2]=n[2]+(l-n[2])*s,t}function Ete(t,e,n){let r=e[0],i=e[1],s=e[2],a=n[3]*r+n[7]*i+n[11]*s+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/a,t}function Mte(t,e,n){let r=e[0],i=e[1],s=e[2],a=n[3]*r+n[7]*i+n[11]*s+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*s)/a,t[1]=(n[1]*r+n[5]*i+n[9]*s)/a,t[2]=(n[2]*r+n[6]*i+n[10]*s)/a,t}function Cte(t,e,n){let r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t}function Tte(t,e,n){let r=e[0],i=e[1],s=e[2],a=n[0],o=n[1],l=n[2],u=n[3],f=o*s-l*i,c=l*r-a*s,h=a*i-o*r,d=o*h-l*c,m=l*f-a*h,x=a*c-o*f,v=u*2;return f*=v,c*=v,h*=v,d*=2,m*=2,x*=2,t[0]=r+f+d,t[1]=i+c+m,t[2]=s+h+x,t}const Pte=function(){const t=[0,0,0],e=[0,0,0];return function(n,r){mT(t,n),mT(e,r),gT(t,t),gT(e,e);let i=YG(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function Rte(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Na extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(gte(this,e,n,r),this)}copy(e){return mT(this,e),this}add(e,n){return n?TD(this,e,n):TD(this,this,e),this}sub(e,n){return n?PD(this,e,n):PD(this,this,e),this}multiply(e){return e.length?yte(this,this,e):aE(this,this,e),this}divide(e){return e.length?vte(this,this,e):aE(this,this,1/e),this}inverse(e=this){return wte(this,e),this}len(){return Um(this)}distance(e){return e?xte(this,e):Um(this)}squaredLen(){return RD(this)}squaredDistance(e){return e?bte(this,e):RD(this)}negate(e=this){return _te(this,e),this}cross(e,n){return n?ID(this,e,n):ID(this,this,e),this}scale(e){return aE(this,this,e),this}normalize(){return gT(this,this),this}dot(e){return YG(this,e)}equals(e){return Rte(this,e)}applyMatrix3(e){return Cte(this,this,e),this}applyMatrix4(e){return Ete(this,this,e),this}scaleRotateMatrix4(e){return Mte(this,this,e),this}applyQuaternion(e){return Tte(this,this,e),this}angle(e){return Pte(this,e)}lerp(e,n){return Ste(this,this,e,n),this}smoothLerp(e,n,r){return Ate(this,this,e,n,r),this}clone(){return new Na(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],i=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*i,this[1]=e[1]*n+e[5]*r+e[9]*i,this[2]=e[2]*n+e[6]*r+e[10]*i,this.normalize()}}const OD=new Na;let Ite=1,Ote=1,kD=!1;class kte{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=Ite++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=Ote++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const s=this.attributes[r];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const o=s.size/a,l=a===1?0:a*a*4,u=a===1?0:a*4;for(let f=0;f<a;f++)this.gl.vertexAttribPointer(n+f,o,s.type,s.normalized,s.stride+l,s.offset+f*u),this.gl.enableVertexAttribArray(n+f),this.gl.renderer.vertexAttribDivisor(n+f,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:a})=>{const o=this.attributes[a];o.needsUpdate&&this.updateAttribute(o)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!kD)return console.warn("No position buffer data found to compute bounds"),kD=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Na,max:new Na,center:new Na,scale:new Na,radius:1/0});const i=this.bounds.min,s=this.bounds.max,a=this.bounds.center,o=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let l=0,u=n.length;l<u;l+=r){const f=n[l],c=n[l+1],h=n[l+2];i.x=Math.min(f,i.x),i.y=Math.min(c,i.y),i.z=Math.min(h,i.z),s.x=Math.max(f,s.x),s.y=Math.max(c,s.y),s.z=Math.max(h,s.z)}o.sub(s,i),a.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,a=n.length;s<a;s+=r)OD.fromArray(n,s),i=Math.max(i,this.bounds.center.squaredDistance(OD));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Nte=1;const ND={};class Bte{constructor(e,{vertex:n,fragment:r,uniforms:i={},transparent:s=!1,cullFace:a=e.BACK,frontFace:o=e.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:f=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=Nte++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=a,this.frontFace=o,this.depthTest=l,this.depthWrite=u,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${BD(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${BD(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){let o=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(o,this.gl.getUniformLocation(this.program,o.name));const l=o.name.match(/(\w+)/g);o.uniformName=l[0],o.nameComponents=l.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<s;a++){const o=this.gl.getActiveAttrib(this.program,a),l=this.gl.getAttribLocation(this.program,o.name);l!==-1&&(i[l]=o.name,this.attributeLocations.set(o,l))}this.attributeOrder=i.join("")}setBlendFunc(e,n,r,i){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let a=this.uniforms[s.uniformName];for(const o of s.nameComponents){if(!a)break;if(o in a)a=a[o];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return DD(`Active uniform ${s.name} has not been supplied`);if(a&&a.value===void 0)return DD(`${s.name} uniform is missing a value parameter`);if(a.value.texture)return n=n+1,a.value.update(n),oE(this.gl,s.type,i,n);if(a.value.length&&a.value[0].texture){const o=[];return a.value.forEach(l=>{n=n+1,l.update(n),o.push(n)}),oE(this.gl,s.type,i,o)}oE(this.gl,s.type,i,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function oE(t,e,n,r){r=r.length?Dte(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(Lte(i,r))return;i.set?i.set(r):Fte(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function BD(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function Dte(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let i=ND[r];i||(ND[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(t[s],s*n);return i}function Lte(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Fte(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let lE=0;function DD(t){lE>100||(console.warn(t),lE++,lE>100&&console.warn("More than 100 program warnings - stopping logs."))}const uE=new Na;let Ute=1;class zte{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:i=1,alpha:s=!1,depth:a=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:f=!1,powerPreference:c="default",autoClear:h=!0,webgl:d=2}={}){const m={alpha:s,depth:a,stencil:o,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:c};this.dpr=i,this.alpha=s,this.color=!0,this.depth=a,this.stencil=o,this.premultipliedAlpha=u,this.autoClear=h,this.id=Ute++,d===2&&(this.gl=e.getContext("webgl2",m)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",m)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,n))}setScissor(e,n,r=0,i=0){this.gl.scissor(r,i,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,n,r,i):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:i}){let s=[];if(n&&r&&n.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(r&&a.frustumCulled&&n&&!n.frustumIntersectsMesh(a)||s.push(a))}),i){const a=[],o=[],l=[];s.forEach(u=>{u.program.transparent?u.program.depthTest?o.push(u):l.push(u):a.push(u),u.zDepth=0,!(u.renderOrder!==0||!u.program.depthTest||!n)&&(u.worldMatrix.getTranslation(uE),uE.applyMatrix4(n.projectionViewMatrix),u.zDepth=uE.z)}),a.sort(this.sortOpaque),o.sort(this.sortTransparent),l.sort(this.sortUI),s=a.concat(o,l)}return s}render({scene:e,camera:n,target:r=null,update:i=!0,sort:s=!0,frustumCull:a=!0,clear:o}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:a,sort:s}).forEach(u=>{u.draw({camera:n})})}}function jte(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Hte(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Gte(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=n*n+r*r+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=s*a,t}function $te(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Vte(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Wte(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function LD(t,e,n){let r=e[0],i=e[1],s=e[2],a=e[3],o=n[0],l=n[1],u=n[2],f=n[3];return t[0]=r*f+a*o+i*u-s*l,t[1]=i*f+a*l+s*o-r*u,t[2]=s*f+a*u+r*l-i*o,t[3]=a*f-r*o-i*l-s*u,t}function Xte(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*o,t[1]=i*l+s*o,t[2]=s*l-i*o,t[3]=a*l-r*o,t}function qte(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=r*l-s*o,t[1]=i*l+a*o,t[2]=s*l+r*o,t[3]=a*l-i*o,t}function Kte(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*o,t[1]=i*l-r*o,t[2]=s*l+a*o,t[3]=a*l-s*o,t}function Jte(t,e,n,r){let i=e[0],s=e[1],a=e[2],o=e[3],l=n[0],u=n[1],f=n[2],c=n[3],h,d,m,x,v;return d=i*l+s*u+a*f+o*c,d<0&&(d=-d,l=-l,u=-u,f=-f,c=-c),1-d>1e-6?(h=Math.acos(d),m=Math.sin(h),x=Math.sin((1-r)*h)/m,v=Math.sin(r*h)/m):(x=1-r,v=r),t[0]=x*i+v*l,t[1]=x*s+v*u,t[2]=x*a+v*f,t[3]=x*o+v*c,t}function Yte(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=n*n+r*r+i*i+s*s,o=a?1/a:0;return t[0]=-n*o,t[1]=-r*o,t[2]=-i*o,t[3]=s*o,t}function Zte(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Qte(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[a*3+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[s*3+a]-e[a*3+s])*r,t[s]=(e[s*3+i]+e[i*3+s])*r,t[a]=(e[a*3+i]+e[i*3+a])*r}return t}function ene(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),o=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*a*l+i*s*o,t[1]=i*s*l-r*a*o,t[2]=i*a*o+r*s*l,t[3]=i*a*l-r*s*o):n==="YXZ"?(t[0]=r*a*l+i*s*o,t[1]=i*s*l-r*a*o,t[2]=i*a*o-r*s*l,t[3]=i*a*l+r*s*o):n==="ZXY"?(t[0]=r*a*l-i*s*o,t[1]=i*s*l+r*a*o,t[2]=i*a*o+r*s*l,t[3]=i*a*l-r*s*o):n==="ZYX"?(t[0]=r*a*l-i*s*o,t[1]=i*s*l+r*a*o,t[2]=i*a*o-r*s*l,t[3]=i*a*l+r*s*o):n==="YZX"?(t[0]=r*a*l+i*s*o,t[1]=i*s*l+r*a*o,t[2]=i*a*o-r*s*l,t[3]=i*a*l-r*s*o):n==="XZY"&&(t[0]=r*a*l-i*s*o,t[1]=i*s*l-r*a*o,t[2]=i*a*o+r*s*l,t[3]=i*a*l+r*s*o),t}const tne=jte,nne=Hte,rne=$te,ine=Gte;class sne extends Array{constructor(e=0,n=0,r=0,i=1){super(e,n,r,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(a,o){const l=Reflect.set(...arguments);return l&&s.includes(o)&&a.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Vte(this._target),this.onChange(),this}set(e,n,r,i){return e.length?this.copy(e):(nne(this._target,e,n,r,i),this.onChange(),this)}rotateX(e){return Xte(this._target,this._target,e),this.onChange(),this}rotateY(e){return qte(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Kte(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Yte(this._target,e),this.onChange(),this}conjugate(e=this._target){return Zte(this._target,e),this.onChange(),this}copy(e){return tne(this._target,e),this.onChange(),this}normalize(e=this._target){return ine(this._target,e),this.onChange(),this}multiply(e,n){return n?LD(this._target,e,n):LD(this._target,this._target,e),this.onChange(),this}dot(e){return rne(this._target,e)}fromMatrix3(e){return Qte(this._target,e),this.onChange(),this}fromEuler(e,n){return ene(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return Wte(this._target,e,n),this.onChange(),this}slerp(e,n){return Jte(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const ane=1e-6;function one(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function lne(t,e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=l,t[8]=u,t[9]=f,t[10]=c,t[11]=h,t[12]=d,t[13]=m,t[14]=x,t[15]=v,t}function une(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],m=e[12],x=e[13],v=e[14],y=e[15],_=n*o-r*a,b=n*l-i*a,w=n*u-s*a,E=r*l-i*o,A=r*u-s*o,P=i*u-s*l,I=f*x-c*m,R=f*v-h*m,M=f*y-d*m,k=c*v-h*x,B=c*y-d*x,H=h*y-d*v,j=_*H-b*B+w*k+E*M-A*R+P*I;return j?(j=1/j,t[0]=(o*H-l*B+u*k)*j,t[1]=(i*B-r*H-s*k)*j,t[2]=(x*P-v*A+y*E)*j,t[3]=(h*A-c*P-d*E)*j,t[4]=(l*M-a*H-u*R)*j,t[5]=(n*H-i*M+s*R)*j,t[6]=(v*w-m*P-y*b)*j,t[7]=(f*P-h*w+d*b)*j,t[8]=(a*B-o*M+u*I)*j,t[9]=(r*M-n*B-s*I)*j,t[10]=(m*A-x*w+y*_)*j,t[11]=(c*w-f*A-d*_)*j,t[12]=(o*R-a*k-l*I)*j,t[13]=(n*k-r*R+i*I)*j,t[14]=(x*b-m*E-v*_)*j,t[15]=(f*E-c*b+h*_)*j,t):null}function ZG(t){let e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],o=t[6],l=t[7],u=t[8],f=t[9],c=t[10],h=t[11],d=t[12],m=t[13],x=t[14],v=t[15],y=e*a-n*s,_=e*o-r*s,b=e*l-i*s,w=n*o-r*a,E=n*l-i*a,A=r*l-i*o,P=u*m-f*d,I=u*x-c*d,R=u*v-h*d,M=f*x-c*m,k=f*v-h*m,B=c*v-h*x;return y*B-_*k+b*M+w*R-E*I+A*P}function FD(t,e,n){let r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=e[9],d=e[10],m=e[11],x=e[12],v=e[13],y=e[14],_=e[15],b=n[0],w=n[1],E=n[2],A=n[3];return t[0]=b*r+w*o+E*c+A*x,t[1]=b*i+w*l+E*h+A*v,t[2]=b*s+w*u+E*d+A*y,t[3]=b*a+w*f+E*m+A*_,b=n[4],w=n[5],E=n[6],A=n[7],t[4]=b*r+w*o+E*c+A*x,t[5]=b*i+w*l+E*h+A*v,t[6]=b*s+w*u+E*d+A*y,t[7]=b*a+w*f+E*m+A*_,b=n[8],w=n[9],E=n[10],A=n[11],t[8]=b*r+w*o+E*c+A*x,t[9]=b*i+w*l+E*h+A*v,t[10]=b*s+w*u+E*d+A*y,t[11]=b*a+w*f+E*m+A*_,b=n[12],w=n[13],E=n[14],A=n[15],t[12]=b*r+w*o+E*c+A*x,t[13]=b*i+w*l+E*h+A*v,t[14]=b*s+w*u+E*d+A*y,t[15]=b*a+w*f+E*m+A*_,t}function fne(t,e,n){let r=n[0],i=n[1],s=n[2],a,o,l,u,f,c,h,d,m,x,v,y;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*s+e[12],t[13]=e[1]*r+e[5]*i+e[9]*s+e[13],t[14]=e[2]*r+e[6]*i+e[10]*s+e[14],t[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(a=e[0],o=e[1],l=e[2],u=e[3],f=e[4],c=e[5],h=e[6],d=e[7],m=e[8],x=e[9],v=e[10],y=e[11],t[0]=a,t[1]=o,t[2]=l,t[3]=u,t[4]=f,t[5]=c,t[6]=h,t[7]=d,t[8]=m,t[9]=x,t[10]=v,t[11]=y,t[12]=a*r+f*i+m*s+e[12],t[13]=o*r+c*i+x*s+e[13],t[14]=l*r+h*i+v*s+e[14],t[15]=u*r+d*i+y*s+e[15]),t}function hne(t,e,n){let r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function dne(t,e,n,r){let i=r[0],s=r[1],a=r[2],o=Math.hypot(i,s,a),l,u,f,c,h,d,m,x,v,y,_,b,w,E,A,P,I,R,M,k,B,H,j,V;return Math.abs(o)<ane?null:(o=1/o,i*=o,s*=o,a*=o,l=Math.sin(n),u=Math.cos(n),f=1-u,c=e[0],h=e[1],d=e[2],m=e[3],x=e[4],v=e[5],y=e[6],_=e[7],b=e[8],w=e[9],E=e[10],A=e[11],P=i*i*f+u,I=s*i*f+a*l,R=a*i*f-s*l,M=i*s*f-a*l,k=s*s*f+u,B=a*s*f+i*l,H=i*a*f+s*l,j=s*a*f-i*l,V=a*a*f+u,t[0]=c*P+x*I+b*R,t[1]=h*P+v*I+w*R,t[2]=d*P+y*I+E*R,t[3]=m*P+_*I+A*R,t[4]=c*M+x*k+b*B,t[5]=h*M+v*k+w*B,t[6]=d*M+y*k+E*B,t[7]=m*M+_*k+A*B,t[8]=c*H+x*j+b*V,t[9]=h*H+v*j+w*V,t[10]=d*H+y*j+E*V,t[11]=m*H+_*j+A*V,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function pne(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function QG(t,e){let n=e[0],r=e[1],i=e[2],s=e[4],a=e[5],o=e[6],l=e[8],u=e[9],f=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,a,o),t[2]=Math.hypot(l,u,f),t}function mne(t){let e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],a=t[6],o=t[8],l=t[9],u=t[10];const f=e*e+n*n+r*r,c=i*i+s*s+a*a,h=o*o+l*l+u*u;return Math.sqrt(Math.max(f,c,h))}const e8=function(){const t=[1,1,1];return function(e,n){let r=t;QG(r,n);let i=1/r[0],s=1/r[1],a=1/r[2],o=n[0]*i,l=n[1]*s,u=n[2]*a,f=n[4]*i,c=n[5]*s,h=n[6]*a,d=n[8]*i,m=n[9]*s,x=n[10]*a,v=o+c+x,y=0;return v>0?(y=Math.sqrt(v+1)*2,e[3]=.25*y,e[0]=(h-m)/y,e[1]=(d-u)/y,e[2]=(l-f)/y):o>c&&o>x?(y=Math.sqrt(1+o-c-x)*2,e[3]=(h-m)/y,e[0]=.25*y,e[1]=(l+f)/y,e[2]=(d+u)/y):c>x?(y=Math.sqrt(1+c-o-x)*2,e[3]=(d-u)/y,e[0]=(l+f)/y,e[1]=.25*y,e[2]=(h+m)/y):(y=Math.sqrt(1+x-o-c)*2,e[3]=(l-f)/y,e[0]=(d+u)/y,e[1]=(h+m)/y,e[2]=.25*y),e}}();function gne(t,e,n,r){let i=Um([t[0],t[1],t[2]]);const s=Um([t[4],t[5],t[6]]),a=Um([t[8],t[9],t[10]]);ZG(t)<0&&(i=-i),n[0]=t[12],n[1]=t[13],n[2]=t[14];const l=t.slice(),u=1/i,f=1/s,c=1/a;l[0]*=u,l[1]*=u,l[2]*=u,l[4]*=f,l[5]*=f,l[6]*=f,l[8]*=c,l[9]*=c,l[10]*=c,e8(e,l),r[0]=i,r[1]=s,r[2]=a}function yne(t,e,n,r){const i=t,s=e[0],a=e[1],o=e[2],l=e[3],u=s+s,f=a+a,c=o+o,h=s*u,d=s*f,m=s*c,x=a*f,v=a*c,y=o*c,_=l*u,b=l*f,w=l*c,E=r[0],A=r[1],P=r[2];return i[0]=(1-(x+y))*E,i[1]=(d+w)*E,i[2]=(m-b)*E,i[3]=0,i[4]=(d-w)*A,i[5]=(1-(h+y))*A,i[6]=(v+_)*A,i[7]=0,i[8]=(m+b)*P,i[9]=(v-_)*P,i[10]=(1-(h+x))*P,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function vne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=n+n,o=r+r,l=i+i,u=n*a,f=r*a,c=r*o,h=i*a,d=i*o,m=i*l,x=s*a,v=s*o,y=s*l;return t[0]=1-c-m,t[1]=f+y,t[2]=h-v,t[3]=0,t[4]=f-y,t[5]=1-u-m,t[6]=d+x,t[7]=0,t[8]=h+v,t[9]=d-x,t[10]=1-u-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xne(t,e,n,r,i){let s=1/Math.tan(e/2),a=1/(r-i);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function bne(t,e,n,r,i,s,a){let o=1/(e-n),l=1/(r-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*o,t[13]=(i+r)*l,t[14]=(a+s)*u,t[15]=1,t}function _ne(t,e,n,r){let i=e[0],s=e[1],a=e[2],o=r[0],l=r[1],u=r[2],f=i-n[0],c=s-n[1],h=a-n[2],d=f*f+c*c+h*h;d===0?h=1:(d=1/Math.sqrt(d),f*=d,c*=d,h*=d);let m=l*h-u*c,x=u*f-o*h,v=o*c-l*f;return d=m*m+x*x+v*v,d===0&&(u?o+=1e-6:l?u+=1e-6:l+=1e-6,m=l*h-u*c,x=u*f-o*h,v=o*c-l*f,d=m*m+x*x+v*v),d=1/Math.sqrt(d),m*=d,x*=d,v*=d,t[0]=m,t[1]=x,t[2]=v,t[3]=0,t[4]=c*v-h*x,t[5]=h*m-f*v,t[6]=f*x-c*m,t[7]=0,t[8]=f,t[9]=c,t[10]=h,t[11]=0,t[12]=i,t[13]=s,t[14]=a,t[15]=1,t}function UD(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function zD(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function wne(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class k1 extends Array{constructor(e=1,n=0,r=0,i=0,s=0,a=1,o=0,l=0,u=0,f=0,c=1,h=0,d=0,m=0,x=0,v=1){return super(e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v){return e.length?this.copy(e):(lne(this,e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v),this)}translate(e,n=this){return fne(this,n,e),this}rotate(e,n,r=this){return dne(this,r,e,n),this}scale(e,n=this){return hne(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?UD(this,e,n):UD(this,this,e),this}sub(e,n){return n?zD(this,e,n):zD(this,this,e),this}multiply(e,n){return e.length?n?FD(this,e,n):FD(this,this,e):wne(this,this,e),this}identity(){return une(this),this}copy(e){return one(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:i}={}){return xne(this,e,n,r,i),this}fromOrthogonal({left:e,right:n,bottom:r,top:i,near:s,far:a}){return bne(this,e,n,r,i,s,a),this}fromQuaternion(e){return vne(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return cne(this,e),this}compose(e,n,r){return yne(this,e,n,r),this}decompose(e,n,r){return gne(this,e,n,r),this}getRotation(e){return e8(e,this),this}getTranslation(e){return pne(e,this),this}getScaling(e){return QG(e,this),this}getMaxScaleOnAxis(){return mne(this)}lookAt(e,n,r){return _ne(this,e,n,r),this}determinant(){return ZG(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function Sne(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const jD=new k1;let Ane=class extends Array{constructor(e=0,n=e,r=e,i="YXZ"){super(e,n,r),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(a,o){const l=Reflect.set(...arguments);return l&&s.includes(o)&&a.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return Sne(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return jD.fromQuaternion(e),this._target.fromRotationMatrix(jD,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}};class Ene{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new k1,this.worldMatrix=new k1,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Na,this.quaternion=new sne,this.scale=new Na(1),this.rotation=new Ane,this.up=new Na(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Mne(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Cne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=n+n,o=r+r,l=i+i,u=n*a,f=r*a,c=r*o,h=i*a,d=i*o,m=i*l,x=s*a,v=s*o,y=s*l;return t[0]=1-c-m,t[3]=f-y,t[6]=h+v,t[1]=f+y,t[4]=1-u-m,t[7]=d-x,t[2]=h-v,t[5]=d+x,t[8]=1-u-c,t}function Tne(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Pne(t,e,n,r,i,s,a,o,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=l,t[8]=u,t}function Rne(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ine(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],f=e[8],c=f*a-o*u,h=-f*s+o*l,d=u*s-a*l,m=n*c+r*h+i*d;return m?(m=1/m,t[0]=c*m,t[1]=(-f*r+i*u)*m,t[2]=(o*r-i*a)*m,t[3]=h*m,t[4]=(f*n-i*l)*m,t[5]=(-o*n+i*s)*m,t[6]=d*m,t[7]=(-u*n+r*l)*m,t[8]=(a*n-r*s)*m,t):null}function HD(t,e,n){let r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=n[0],d=n[1],m=n[2],x=n[3],v=n[4],y=n[5],_=n[6],b=n[7],w=n[8];return t[0]=h*r+d*a+m*u,t[1]=h*i+d*o+m*f,t[2]=h*s+d*l+m*c,t[3]=x*r+v*a+y*u,t[4]=x*i+v*o+y*f,t[5]=x*s+v*l+y*c,t[6]=_*r+b*a+w*u,t[7]=_*i+b*o+w*f,t[8]=_*s+b*l+w*c,t}function One(t,e,n){let r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=l,t[6]=h*r+d*a+u,t[7]=h*i+d*o+f,t[8]=h*s+d*l+c,t}function kne(t,e,n){let r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*i+h*o,t[2]=d*s+h*l,t[3]=d*a-h*r,t[4]=d*o-h*i,t[5]=d*l-h*s,t[6]=u,t[7]=f,t[8]=c,t}function Nne(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Bne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],m=e[12],x=e[13],v=e[14],y=e[15],_=n*o-r*a,b=n*l-i*a,w=n*u-s*a,E=r*l-i*o,A=r*u-s*o,P=i*u-s*l,I=f*x-c*m,R=f*v-h*m,M=f*y-d*m,k=c*v-h*x,B=c*y-d*x,H=h*y-d*v,j=_*H-b*B+w*k+E*M-A*R+P*I;return j?(j=1/j,t[0]=(o*H-l*B+u*k)*j,t[1]=(l*M-a*H-u*R)*j,t[2]=(a*B-o*M+u*I)*j,t[3]=(i*B-r*H-s*k)*j,t[4]=(n*H-i*M+s*R)*j,t[5]=(r*M-n*B-s*I)*j,t[6]=(x*P-v*A+y*E)*j,t[7]=(v*w-m*P-y*b)*j,t[8]=(m*A-x*w+y*_)*j,t):null}class Dne extends Array{constructor(e=1,n=0,r=0,i=0,s=1,a=0,o=0,l=0,u=1){return super(e,n,r,i,s,a,o,l,u),this}set(e,n,r,i,s,a,o,l,u){return e.length?this.copy(e):(Pne(this,e,n,r,i,s,a,o,l,u),this)}translate(e,n=this){return One(this,n,e),this}rotate(e,n=this){return kne(this,n,e),this}scale(e,n=this){return Nne(this,n,e),this}multiply(e,n){return n?HD(this,e,n):HD(this,this,e),this}identity(){return Rne(this),this}copy(e){return Tne(this,e),this}fromMatrix4(e){return Mne(this,e),this}fromQuaternion(e){return Cne(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return Ine(this,e),this}getNormalMatrix(e){return Bne(this,e),this}}let Lne=0,Fne=class extends Ene{constructor(e,{geometry:n,program:r,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Lne++,this.geometry=n,this.program=r,this.mode=i,this.frustumCulled=s,this.renderOrder=a,this.modelViewMatrix=new k1,this.normalMatrix=new Dne,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}};const GD={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function $D(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Une(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function VD(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?$D(t):GD[t.toLowerCase()]?$D(GD[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Une(t)}let WD=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...VD(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(VD(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}},zne=class extends kte{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}};const jne=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Hne=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ), 
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function Gne(t){const{colorStops:e=["#48F4AA","#FCFCFC","#F4B152"],amplitude:n=1,blend:r=.5}=t,i=U.useRef(t);i.current=t;const s=U.useRef(null);return U.useEffect(()=>{const a=s.current;if(!a)return;const o=new zte({alpha:!0,premultipliedAlpha:!0,antialias:!0,dpr:Math.min(3,window.devicePixelRatio||1)}),l=o.gl;l.clearColor(0,0,0,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.canvas.style.backgroundColor="transparent",l.canvas.style.position="absolute",l.canvas.style.inset="0",l.canvas.style.width="100%",l.canvas.style.height="100%";let u=null;function f(){if(!a)return;const y=a.offsetWidth||1,_=a.offsetHeight||1;o.setSize(y,_),u&&(u.uniforms.uResolution.value=[y,_])}const c=new ResizeObserver(f);c.observe(a),window.addEventListener("resize",f);const h=new zne(l);h.attributes.uv&&delete h.attributes.uv;const d=(e||["#48F4AA","#FCFCFC","#F4B152"]).map(y=>{const _=new WD(y);return[_.r,_.g,_.b]});u=new Bte(l,{vertex:jne,fragment:Hne,uniforms:{uTime:{value:0},uAmplitude:{value:n},uColorStops:{value:d},uResolution:{value:[a.offsetWidth||1,a.offsetHeight||1]},uBlend:{value:r}}});const m=new Fne(l,{geometry:h,program:u});a.appendChild(l.canvas);let x=0;const v=y=>{x=requestAnimationFrame(v);const{speed:_=1}=i.current;u.uniforms.uTime.value=y*.01*_*.1,u.uniforms.uAmplitude.value=i.current.amplitude??1,u.uniforms.uBlend.value=i.current.blend??r;const b=i.current.colorStops??e;u.uniforms.uColorStops.value=(b||["#48F4AA","#FCFCFC","#F4B152"]).map(w=>{const E=new WD(w);return[E.r,E.g,E.b]}),o.render({scene:m})};return x=requestAnimationFrame(v),f(),()=>{var y,_,b;cancelAnimationFrame(x),window.removeEventListener("resize",f),c.disconnect(),a&&l.canvas.parentNode===a&&a.removeChild(l.canvas),(b=(_=(y=l.getExtension)==null?void 0:y.call(l,"WEBGL_lose_context"))==null?void 0:_.loseContext)==null||b.call(_)}},[n]),C.jsx("div",{ref:s,className:"aurora-container"})}const $ne=()=>{const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,s]=U.useState(!1),[a,o]=U.useState(!1),{login:l}=Ry(),u=gf(),f=async c=>{c.preventDefault(),o(!0);try{await l(t,n),zt.success("ng nhp thnh cng!"),u("/dashboard")}catch(h){zt.error(h.message||"ng nhp tht bi")}finally{o(!1)}};return C.jsxs("div",{className:"h-dvh relative bg-black overflow-hidden flex flex-col items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:[C.jsx("div",{className:"absolute inset-0 pointer-events-none",children:C.jsx(Gne,{colorStops:["#48F4AA","#FCFCFC","#F4B152"],blend:.5,amplitude:1,speed:.5})}),C.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[C.jsxs("div",{className:"text-center mb-8 animate-fade-in",style:{animationDelay:"0.1s"},children:[C.jsx("h1",{className:"text-4xl font-bold text-green-400 mb-2",children:"Dalat Hasfarm AI"}),C.jsx("p",{className:"text-gray-300",children:"Tr l AI thng minh cho mi cu hi"})]}),C.jsxs("div",{className:"bg-[#1A1A1A] rounded-3xl shadow-2xl p-8 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("h2",{className:"text-3xl font-bold text-white mb-1",children:"ng nhp"}),C.jsx("p",{className:"text-gray-400",children:"Cho mng bn tr li! "})]}),C.jsxs("form",{onSubmit:f,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tn ng nhp"}),C.jsxs("div",{className:"relative",children:[C.jsx(JG,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),C.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-100 border-transparent text-gray-800 placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"admin123",required:!0})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Mt khu"}),C.jsxs("div",{className:"relative",children:[C.jsx(zee,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),C.jsx("input",{type:i?"text":"password",value:n,onChange:c=>r(c.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl bg-gray-100 border-transparent text-gray-800 placeholder-gray-500 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"",required:!0}),C.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-800 transition-colors",children:i?C.jsx(hT,{className:"w-5 h-5"}):C.jsx(dT,{className:"w-5 h-5"})})]})]}),C.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 rounded-xl font-semibold text-white bg-green-500 hover:bg-green-600 shadow-lg shadow-green-500/30 focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a?C.jsxs("div",{className:"flex items-center justify-center",children:[C.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"ang x l..."]}):"ng nhp"})]}),C.jsxs("div",{className:"text-center mt-8",children:[C.jsx(yu,{to:"/forgot-password",className:"text-sm text-gray-400 hover:text-green-400 transition-colors",children:"Qun mt khu?"}),C.jsxs("p",{className:"text-sm text-gray-400 mt-3",children:["Cha c ti khon? ",C.jsx(yu,{to:"/register",className:"font-semibold text-green-400 hover:text-green-300 transition-colors",children:"To ti khon mi"})]})]})]})]})]})},Vne=()=>{const[t,e]=U.useState({username:"",email:"",full_name:"",password:"",confirmPassword:""}),[n,r]=U.useState(!1),[i,s]=U.useState(!1),[a,o]=U.useState(!1),{register:l}=Ry(),u=gf(),f=h=>{e({...t,[h.target.name]:h.target.value})},c=async h=>{if(h.preventDefault(),t.password!==t.confirmPassword){zt.error("Mt khu xc nhn khng khp");return}o(!0);try{await l(t.username.trim(),t.email.trim(),t.password,t.full_name.trim()),zt.success("ng k thnh cng! Vui lng ng nhp."),u("/login")}catch(d){zt.error(d.message||"ng k tht bi")}finally{o(!1)}};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-8",children:[C.jsxs("div",{children:[C.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:C.jsx(ste,{className:"h-6 w-6 text-primary-600"})}),C.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ng k ti khon mi"}),C.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoc"," ",C.jsx(yu,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"ng nhp vo ti khon hin c"})]})]}),C.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Tn ng nhp"}),C.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:f,className:"input-field mt-1",placeholder:"Nhp tn ng nhp"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),C.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:f,className:"input-field mt-1",placeholder:"Nhp email"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"H v tn"}),C.jsx("input",{id:"full_name",name:"full_name",type:"text",value:t.full_name,onChange:f,className:"input-field mt-1",placeholder:"Nhp h v tn"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),C.jsxs("div",{className:"relative mt-1",children:[C.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:t.password,onChange:f,className:"input-field pr-10",placeholder:"Nhp mt khu"}),C.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?C.jsx(hT,{className:"h-5 w-5 text-gray-400"}):C.jsx(dT,{className:"h-5 w-5 text-gray-400"})})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Xc nhn mt khu"}),C.jsxs("div",{className:"relative mt-1",children:[C.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",required:!0,value:t.confirmPassword,onChange:f,className:"input-field pr-10",placeholder:"Nhp li mt khu"}),C.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!i),children:i?C.jsx(hT,{className:"h-5 w-5 text-gray-400"}):C.jsx(dT,{className:"h-5 w-5 text-gray-400"})})]})]})]}),C.jsx("div",{children:C.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex justify-center",children:a?"ang ng k...":"ng k"})})]})]})})};function Wne(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xne=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qne=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kne={};function XD(t,e){return(Kne.jsx?qne:Xne).test(t)}const Jne=/[ \t\n\f\r]/g;function Yne(t){return typeof t=="object"?t.type==="text"?qD(t.value):!1:qD(t)}function qD(t){return t.replace(Jne,"")===""}class Iy{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Iy.prototype.normal={};Iy.prototype.property={};Iy.prototype.space=void 0;function t8(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Iy(n,r,e)}function yT(t){return t.toLowerCase()}class ls{constructor(e,n){this.attribute=n,this.property=e}}ls.prototype.attribute="";ls.prototype.booleanish=!1;ls.prototype.boolean=!1;ls.prototype.commaOrSpaceSeparated=!1;ls.prototype.commaSeparated=!1;ls.prototype.defined=!1;ls.prototype.mustUseProperty=!1;ls.prototype.number=!1;ls.prototype.overloadedBoolean=!1;ls.prototype.property="";ls.prototype.spaceSeparated=!1;ls.prototype.space=void 0;let Zne=0;const Yt=yf(),Mr=yf(),vT=yf(),at=yf(),jn=yf(),Hh=yf(),ys=yf();function yf(){return 2**++Zne}const xT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Yt,booleanish:Mr,commaOrSpaceSeparated:ys,commaSeparated:Hh,number:at,overloadedBoolean:vT,spaceSeparated:jn},Symbol.toStringTag,{value:"Module"})),cE=Object.keys(xT);class RR extends ls{constructor(e,n,r,i){let s=-1;if(super(e,n),KD(this,"space",i),typeof r=="number")for(;++s<cE.length;){const a=cE[s];KD(this,cE[s],(r&xT[a])===xT[a])}}}RR.prototype.defined=!0;function KD(t,e,n){n&&(t[e]=n)}function Zd(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new RR(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[yT(r)]=r,n[yT(s.attribute)]=r}return new Iy(e,n,t.space)}const n8=Zd({properties:{ariaActiveDescendant:null,ariaAtomic:Mr,ariaAutoComplete:null,ariaBusy:Mr,ariaChecked:Mr,ariaColCount:at,ariaColIndex:at,ariaColSpan:at,ariaControls:jn,ariaCurrent:null,ariaDescribedBy:jn,ariaDetails:null,ariaDisabled:Mr,ariaDropEffect:jn,ariaErrorMessage:null,ariaExpanded:Mr,ariaFlowTo:jn,ariaGrabbed:Mr,ariaHasPopup:null,ariaHidden:Mr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jn,ariaLevel:at,ariaLive:null,ariaModal:Mr,ariaMultiLine:Mr,ariaMultiSelectable:Mr,ariaOrientation:null,ariaOwns:jn,ariaPlaceholder:null,ariaPosInSet:at,ariaPressed:Mr,ariaReadOnly:Mr,ariaRelevant:null,ariaRequired:Mr,ariaRoleDescription:jn,ariaRowCount:at,ariaRowIndex:at,ariaRowSpan:at,ariaSelected:Mr,ariaSetSize:at,ariaSort:null,ariaValueMax:at,ariaValueMin:at,ariaValueNow:at,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function r8(t,e){return e in t?t[e]:e}function i8(t,e){return r8(t,e.toLowerCase())}const Qne=Zd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hh,acceptCharset:jn,accessKey:jn,action:null,allow:null,allowFullScreen:Yt,allowPaymentRequest:Yt,allowUserMedia:Yt,alt:null,as:null,async:Yt,autoCapitalize:null,autoComplete:jn,autoFocus:Yt,autoPlay:Yt,blocking:jn,capture:null,charSet:null,checked:Yt,cite:null,className:jn,cols:at,colSpan:null,content:null,contentEditable:Mr,controls:Yt,controlsList:jn,coords:at|Hh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Yt,defer:Yt,dir:null,dirName:null,disabled:Yt,download:vT,draggable:Mr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Yt,formTarget:null,headers:jn,height:at,hidden:vT,high:at,href:null,hrefLang:null,htmlFor:jn,httpEquiv:jn,id:null,imageSizes:null,imageSrcSet:null,inert:Yt,inputMode:null,integrity:null,is:null,isMap:Yt,itemId:null,itemProp:jn,itemRef:jn,itemScope:Yt,itemType:jn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Yt,low:at,manifest:null,max:null,maxLength:at,media:null,method:null,min:null,minLength:at,multiple:Yt,muted:Yt,name:null,nonce:null,noModule:Yt,noValidate:Yt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Yt,optimum:at,pattern:null,ping:jn,placeholder:null,playsInline:Yt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Yt,referrerPolicy:null,rel:jn,required:Yt,reversed:Yt,rows:at,rowSpan:at,sandbox:jn,scope:null,scoped:Yt,seamless:Yt,selected:Yt,shadowRootClonable:Yt,shadowRootDelegatesFocus:Yt,shadowRootMode:null,shape:null,size:at,sizes:null,slot:null,span:at,spellCheck:Mr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:at,step:null,style:null,tabIndex:at,target:null,title:null,translate:null,type:null,typeMustMatch:Yt,useMap:null,value:Mr,width:at,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jn,axis:null,background:null,bgColor:null,border:at,borderColor:null,bottomMargin:at,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Yt,declare:Yt,event:null,face:null,frame:null,frameBorder:null,hSpace:at,leftMargin:at,link:null,longDesc:null,lowSrc:null,marginHeight:at,marginWidth:at,noResize:Yt,noHref:Yt,noShade:Yt,noWrap:Yt,object:null,profile:null,prompt:null,rev:null,rightMargin:at,rules:null,scheme:null,scrolling:Mr,standby:null,summary:null,text:null,topMargin:at,valueType:null,version:null,vAlign:null,vLink:null,vSpace:at,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Yt,disableRemotePlayback:Yt,prefix:null,property:null,results:at,security:null,unselectable:null},space:"html",transform:i8}),ere=Zd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ys,accentHeight:at,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:at,amplitude:at,arabicForm:null,ascent:at,attributeName:null,attributeType:null,azimuth:at,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:at,by:null,calcMode:null,capHeight:at,className:jn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:at,diffuseConstant:at,direction:null,display:null,dur:null,divisor:at,dominantBaseline:null,download:Yt,dx:null,dy:null,edgeMode:null,editable:null,elevation:at,enableBackground:null,end:null,event:null,exponent:at,externalResourcesRequired:null,fill:null,fillOpacity:at,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hh,g2:Hh,glyphName:Hh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:at,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:at,horizOriginX:at,horizOriginY:at,id:null,ideographic:at,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:at,k:at,k1:at,k2:at,k3:at,k4:at,kernelMatrix:ys,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:at,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:at,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:at,overlineThickness:at,paintOrder:null,panose1:null,path:null,pathLength:at,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:at,pointsAtY:at,pointsAtZ:at,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ys,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ys,rev:ys,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ys,requiredFeatures:ys,requiredFonts:ys,requiredFormats:ys,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:at,specularExponent:at,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:at,strikethroughThickness:at,string:null,stroke:null,strokeDashArray:ys,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:at,strokeOpacity:at,strokeWidth:null,style:null,surfaceScale:at,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ys,tabIndex:at,tableValues:null,target:null,targetX:at,targetY:at,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ys,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:at,underlineThickness:at,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:at,values:null,vAlphabetic:at,vMathematical:at,vectorEffect:null,vHanging:at,vIdeographic:at,version:null,vertAdvY:at,vertOriginX:at,vertOriginY:at,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:at,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:r8}),s8=Zd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),a8=Zd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:i8}),o8=Zd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),tre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nre=/[A-Z]/g,JD=/-[a-z]/g,rre=/^data[-\w.:]+$/i;function ire(t,e){const n=yT(e);let r=e,i=ls;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rre.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(JD,are);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!JD.test(s)){let a=s.replace(nre,sre);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=RR}return new i(r,e)}function sre(t){return"-"+t.toLowerCase()}function are(t){return t.charAt(1).toUpperCase()}const ore=t8([n8,Qne,s8,a8,o8],"html"),IR=t8([n8,ere,s8,a8,o8],"svg");function lre(t){return t.join(" ").trim()}var OR={},YD=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ure=/\n/g,cre=/^\s*/,fre=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,hre=/^:\s*/,dre=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pre=/^[;\s]*/,mre=/^\s+|\s+$/g,gre=`
`,ZD="/",QD="*",Sc="",yre="comment",vre="declaration",xre=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var x=m.match(ure);x&&(n+=x.length);var v=m.lastIndexOf(gre);r=~v?m.length-v:r+m.length}function s(){var m={line:n,column:r};return function(x){return x.position=new a(m),u(),x}}function a(m){this.start=m,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(m){var x=new Error(e.source+":"+n+":"+r+": "+m);if(x.reason=m,x.filename=e.source,x.line=n,x.column=r,x.source=t,!e.silent)throw x}function l(m){var x=m.exec(t);if(x){var v=x[0];return i(v),t=t.slice(v.length),x}}function u(){l(cre)}function f(m){var x;for(m=m||[];x=c();)x!==!1&&m.push(x);return m}function c(){var m=s();if(!(ZD!=t.charAt(0)||QD!=t.charAt(1))){for(var x=2;Sc!=t.charAt(x)&&(QD!=t.charAt(x)||ZD!=t.charAt(x+1));)++x;if(x+=2,Sc===t.charAt(x-1))return o("End of comment missing");var v=t.slice(2,x-2);return r+=2,i(v),t=t.slice(x),r+=2,m({type:yre,comment:v})}}function h(){var m=s(),x=l(fre);if(x){if(c(),!l(hre))return o("property missing ':'");var v=l(dre),y=m({type:vre,property:eL(x[0].replace(YD,Sc)),value:v?eL(v[0].replace(YD,Sc)):Sc});return l(pre),y}}function d(){var m=[];f(m);for(var x;x=h();)x!==!1&&(m.push(x),f(m));return m}return u(),d()};function eL(t){return t?t.replace(mre,Sc):Sc}var bre=tu&&tu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(OR,"__esModule",{value:!0});OR.default=wre;var _re=bre(xre);function wre(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,_re.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.camelCase=void 0;var Sre=/^--[a-zA-Z0-9_-]+$/,Are=/-([a-z])/g,Ere=/^[^-]+$/,Mre=/^-(webkit|moz|ms|o|khtml)-/,Cre=/^-(ms)-/,Tre=function(t){return!t||Ere.test(t)||Sre.test(t)},Pre=function(t,e){return e.toUpperCase()},tL=function(t,e){return"".concat(e,"-")},Rre=function(t,e){return e===void 0&&(e={}),Tre(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Cre,tL):t=t.replace(Mre,tL),t.replace(Are,Pre))};Y_.camelCase=Rre;var Ire=tu&&tu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ore=Ire(OR),kre=Y_;function bT(t,e){var n={};return!t||typeof t!="string"||(0,Ore.default)(t,function(r,i){r&&i&&(n[(0,kre.camelCase)(r,e)]=i)}),n}bT.default=bT;var Nre=bT;const Bre=On(Nre),l8=u8("end"),kR=u8("start");function u8(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Dre(t){const e=kR(t),n=l8(t);if(e&&n)return{start:e,end:n}}function zm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?nL(t.position):"start"in t||"end"in t?nL(t):"line"in t||"column"in t?_T(t):""}function _T(t){return rL(t&&t.line)+":"+rL(t&&t.column)}function nL(t){return _T(t&&t.start)+"-"+_T(t&&t.end)}function rL(t){return t&&typeof t=="number"?t:1}class Ci extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=zm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ci.prototype.file="";Ci.prototype.name="";Ci.prototype.reason="";Ci.prototype.message="";Ci.prototype.stack="";Ci.prototype.column=void 0;Ci.prototype.line=void 0;Ci.prototype.ancestors=void 0;Ci.prototype.cause=void 0;Ci.prototype.fatal=void 0;Ci.prototype.place=void 0;Ci.prototype.ruleId=void 0;Ci.prototype.source=void 0;const NR={}.hasOwnProperty,Lre=new Map,Fre=/[A-Z]/g,Ure=new Set(["table","tbody","thead","tfoot","tr"]),zre=new Set(["td","th"]),c8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function jre(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Kre(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=qre(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?IR:ore,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=f8(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function f8(t,e,n){if(e.type==="element")return Hre(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Gre(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Vre(t,e,n);if(e.type==="mdxjsEsm")return $re(t,e);if(e.type==="root")return Wre(t,e,n);if(e.type==="text")return Xre(t,e)}function Hre(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=IR,t.schema=i),t.ancestors.push(e);const s=d8(t,e.tagName,!1),a=Jre(t,e);let o=DR(t,e);return Ure.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Yne(l):!0})),h8(t,a,s,e),BR(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function Gre(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}wg(t,e.position)}function $re(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);wg(t,e.position)}function Vre(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=IR,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:d8(t,e.name,!0),a=Yre(t,e),o=DR(t,e);return h8(t,a,s,e),BR(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function Wre(t,e,n){const r={};return BR(r,DR(t,e)),t.create(e,t.Fragment,r,n)}function Xre(t,e){return e.value}function h8(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function BR(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function qre(t,e,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:e;return o?u(s,a,o):u(s,a)}}function Kre(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=kR(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Jre(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&NR.call(e.properties,i)){const s=Zre(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&zre.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Yre(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else wg(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else wg(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function DR(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Lre;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=f8(t,s,a);o!==void 0&&n.push(o)}return n}function Zre(t,e,n){const r=ire(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Wne(n):lre(n)),r.property==="style"){let i=typeof n=="object"?n:Qre(t,String(n));return t.stylePropertyNameCase==="css"&&(i=eie(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?tre[r.property]||r.property:r.attribute,n]}}function Qre(t,e){try{return Bre(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ci("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=c8+"#cannot-parse-style-attribute",i}}function d8(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=XD(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=XD(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return NR.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);wg(t)}function wg(t,e){const n=new Ci("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=c8+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eie(t){const e={};let n;for(n in t)NR.call(t,n)&&(e[tie(n)]=t[n]);return e}function tie(t){let e=t.replace(Fre,nie);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function nie(t){return"-"+t.toLowerCase()}const fE={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rie={};function LR(t,e){const n=rie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return p8(t,r,i)}function p8(t,e,n){if(iie(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return iL(t.children,e,n)}return Array.isArray(t)?iL(t,e,n):""}function iL(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=p8(t[i],e,n);return r.join("")}function iie(t){return!!(t&&typeof t=="object")}const sL=document.createElement("i");function FR(t){const e="&"+t+";";sL.innerHTML=e;const n=sL.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ms(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Ks(t,e){return t.length>0?(Ms(t,t.length,0,e),t):e}const aL={}.hasOwnProperty;function m8(t){const e={};let n=-1;for(;++n<t.length;)sie(e,t[n]);return e}function sie(t,e){let n;for(n in e){const i=(aL.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){aL.call(i,a)||(i[a]=[]);const o=s[a];aie(i[a],Array.isArray(o)?o:o?[o]:[])}}}function aie(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ms(t,0,0,r)}function g8(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ua(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Di=ku(/[A-Za-z]/),Ai=ku(/[\dA-Za-z]/),oie=ku(/[#-'*+\--9=?A-Z^-~]/);function N1(t){return t!==null&&(t<32||t===127)}const wT=ku(/\d/),lie=ku(/[\dA-Fa-f]/),uie=ku(/[!-/:-@[-`{-~]/);function Ft(t){return t!==null&&t<-2}function zn(t){return t!==null&&(t<0||t===32)}function un(t){return t===-2||t===-1||t===32}const Z_=ku(new RegExp("\\p{P}|\\p{S}","u")),tf=ku(/\s/);function ku(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Qd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Ai(t.charCodeAt(n+1))&&Ai(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function yn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return un(l)?(t.enter(n),o(l)):e(l)}function o(l){return un(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const cie={tokenize:fie};function fie(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),yn(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Ft(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const hie={tokenize:die},oL={tokenize:pie};function die(t){const e=this,n=[];let r=0,i,s,a;return o;function o(b){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,l,u)(b)}return u(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const w=e.events.length;let E=w,A;for(;E--;)if(e.events[E][0]==="exit"&&e.events[E][1].type==="chunkFlow"){A=e.events[E][1].end;break}y(r);let P=w;for(;P<e.events.length;)e.events[P][1].end={...A},P++;return Ms(e.events,E+1,0,e.events.slice(w)),e.events.length=P,u(b)}return o(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return m(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(oL,f,c)(b)}function f(b){return i&&_(),y(r),h(b)}function c(b){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,m(b)}function h(b){return e.containerState={},t.attempt(oL,d,m)(b)}function d(b){return r++,n.push([e.currentConstruct,e.containerState]),h(b)}function m(b){if(b===null){i&&_(),y(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(b)}function x(b){if(b===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(b);return}return Ft(b)?(t.consume(b),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(b),x)}function v(b,w){const E=e.sliceStream(b);if(w&&E.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(E),e.parser.lazy[b.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<a&&(!i.events[A][1].end||i.events[A][1].end.offset>a))return;const P=e.events.length;let I=P,R,M;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(R){M=e.events[I][1].end;break}R=!0}for(y(r),A=P;A<e.events.length;)e.events[A][1].end={...M},A++;Ms(e.events,I+1,0,e.events.slice(P)),e.events.length=A}}function y(b){let w=n.length;for(;w-- >b;){const E=n[w];e.containerState=E[1],E[0].exit.call(e,t)}n.length=b}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function pie(t,e,n){return yn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ad(t){if(t===null||zn(t)||tf(t))return 1;if(Z_(t))return 2}function Q_(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const ST={name:"attention",resolveAll:mie,tokenize:gie};function mie(t,e){let n=-1,r,i,s,a,o,l,u,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const c={...t[r][1].end},h={...t[n][1].start};lL(c,-l),lL(h,l),a={type:l>1?"strongSequence":"emphasisSequence",start:c,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[r][1].end={...a.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Ks(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Ks(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=Ks(u,Q_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Ks(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,u=Ks(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Ms(t,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function gie(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ad(r);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const u=t.exit("attentionSequence"),f=ad(l),c=!f||f===2&&i||n.includes(l),h=!i||i===2&&f||n.includes(r);return u._open=!!(s===42?c:c&&(i||!h)),u._close=!!(s===42?h:h&&(f||!c)),e(l)}}function lL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const yie={name:"autolink",tokenize:vie};function vie(t,e,n){let r=0;return i;function i(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(d){return Di(d)?(t.consume(d),a):d===64?n(d):u(d)}function a(d){return d===43||d===45||d===46||Ai(d)?(r=1,o(d)):u(d)}function o(d){return d===58?(t.consume(d),r=0,l):(d===43||d===45||d===46||Ai(d))&&r++<32?(t.consume(d),o):(r=0,u(d))}function l(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||N1(d)?n(d):(t.consume(d),l)}function u(d){return d===64?(t.consume(d),f):oie(d)?(t.consume(d),u):n(d)}function f(d){return Ai(d)?c(d):n(d)}function c(d){return d===46?(t.consume(d),r=0,f):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):h(d)}function h(d){if((d===45||Ai(d))&&r++<63){const m=d===45?h:c;return t.consume(d),m}return n(d)}}const Oy={partial:!0,tokenize:xie};function xie(t,e,n){return r;function r(s){return un(s)?yn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ft(s)?e(s):n(s)}}const y8={continuation:{tokenize:_ie},exit:wie,name:"blockQuote",tokenize:bie};function bie(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return un(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function _ie(t,e,n){const r=this;return i;function i(a){return un(a)?yn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(y8,e,n)(a)}}function wie(t){t.exit("blockQuote")}const v8={name:"characterEscape",tokenize:Sie};function Sie(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return uie(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const x8={name:"characterReference",tokenize:Aie};function Aie(t,e,n){const r=this;let i=0,s,a;return o;function o(c){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),l}function l(c){return c===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(c),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,a=Ai,f(c))}function u(c){return c===88||c===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(c),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=lie,f):(t.enter("characterReferenceValue"),s=7,a=wT,f(c))}function f(c){if(c===59&&i){const h=t.exit("characterReferenceValue");return a===Ai&&!FR(r.sliceSerialize(h))?n(c):(t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(c)&&i++<s?(t.consume(c),f):n(c)}}const uL={partial:!0,tokenize:Mie},cL={concrete:!0,name:"codeFenced",tokenize:Eie};function Eie(t,e,n){const r=this,i={partial:!0,tokenize:E};let s=0,a=0,o;return l;function l(A){return u(A)}function u(A){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(A)}function f(A){return A===o?(a++,t.consume(A),f):a<3?n(A):(t.exit("codeFencedFenceSequence"),un(A)?yn(t,c,"whitespace")(A):c(A))}function c(A){return A===null||Ft(A)?(t.exit("codeFencedFence"),r.interrupt?e(A):t.check(uL,x,w)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(A))}function h(A){return A===null||Ft(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),c(A)):un(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),yn(t,d,"whitespace")(A)):A===96&&A===o?n(A):(t.consume(A),h)}function d(A){return A===null||Ft(A)?c(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||Ft(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),c(A)):A===96&&A===o?n(A):(t.consume(A),m)}function x(A){return t.attempt(i,w,v)(A)}function v(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),y}function y(A){return s>0&&un(A)?yn(t,_,"linePrefix",s+1)(A):_(A)}function _(A){return A===null||Ft(A)?t.check(uL,x,w)(A):(t.enter("codeFlowValue"),b(A))}function b(A){return A===null||Ft(A)?(t.exit("codeFlowValue"),_(A)):(t.consume(A),b)}function w(A){return t.exit("codeFenced"),e(A)}function E(A,P,I){let R=0;return M;function M(V){return A.enter("lineEnding"),A.consume(V),A.exit("lineEnding"),k}function k(V){return A.enter("codeFencedFence"),un(V)?yn(A,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):B(V)}function B(V){return V===o?(A.enter("codeFencedFenceSequence"),H(V)):I(V)}function H(V){return V===o?(R++,A.consume(V),H):R>=a?(A.exit("codeFencedFenceSequence"),un(V)?yn(A,j,"whitespace")(V):j(V)):I(V)}function j(V){return V===null||Ft(V)?(A.exit("codeFencedFence"),P(V)):I(V)}}}function Mie(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const hE={name:"codeIndented",tokenize:Tie},Cie={partial:!0,tokenize:Pie};function Tie(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),yn(t,s,"linePrefix",5)(u)}function s(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):Ft(u)?t.attempt(Cie,a,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Ft(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function Pie(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Ft(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):yn(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Ft(a)?i(a):n(a)}}const Rie={name:"codeText",previous:Oie,resolve:Iie,tokenize:kie};function Iie(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Oie(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kie(t,e,n){let r=0,i,s;return a;function a(c){return t.enter("codeText"),t.enter("codeTextSequence"),o(c)}function o(c){return c===96?(t.consume(c),r++,o):(t.exit("codeTextSequence"),l(c))}function l(c){return c===null?n(c):c===32?(t.enter("space"),t.consume(c),t.exit("space"),l):c===96?(s=t.enter("codeTextSequence"),i=0,f(c)):Ft(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||Ft(c)?(t.exit("codeTextData"),l(c)):(t.consume(c),u)}function f(c){return c===96?(t.consume(c),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(c)):(s.type="codeTextData",u(c))}}class Nie{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Vp(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Vp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Vp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Vp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Vp(this.left,n.reverse())}}}function Vp(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function b8(t){const e={};let n=-1,r,i,s,a,o,l,u;const f=new Nie(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Bie(f,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},o=f.slice(i,n),o.unshift(r),f.splice(i,n-i+1,o))}}return Ms(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function Bie(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let f,c,h=-1,d=n,m=0,x=0;const v=[x];for(;d;){for(;t.get(++i)[1]!==d;);s.push(i),d._tokenizer||(f=r.sliceStream(d),d.next||f.push(null),c&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),c=d,d=d.next}for(d=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(x=h+1,v.push(x),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):v.pop(),h=v.length;h--;){const y=o.slice(v[h],v[h+1]),_=s.pop();l.push([_,_+y.length-1]),t.splice(_,2,y)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const Die={resolve:Fie,tokenize:Uie},Lie={partial:!0,tokenize:zie};function Fie(t){return b8(t),t}function Uie(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Ft(o)?t.check(Lie,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zie(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),yn(t,s,"linePrefix")}function s(a){if(a===null||Ft(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function _8(t,e,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let f=0;return c;function c(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),h):y===null||y===32||y===41||N1(y)?n(y):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),x(y))}function h(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===62?(t.exit("chunkString"),t.exit(o),h(y)):y===null||y===60||Ft(y)?n(y):(t.consume(y),y===92?m:d)}function m(y){return y===60||y===62||y===92?(t.consume(y),d):d(y)}function x(y){return!f&&(y===null||y===41||zn(y))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(y)):f<u&&y===40?(t.consume(y),f++,x):y===41?(t.consume(y),f--,x):y===null||y===32||y===40||N1(y)?n(y):(t.consume(y),y===92?v:x)}function v(y){return y===40||y===41||y===92?(t.consume(y),x):x(y)}}function w8(t,e,n,r,i,s){const a=this;let o=0,l;return u;function u(d){return t.enter(r),t.enter(i),t.consume(d),t.exit(i),t.enter(s),f}function f(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):d===93?(t.exit(s),t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):Ft(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===null||d===91||d===93||Ft(d)||o++>999?(t.exit("chunkString"),f(d)):(t.consume(d),l||(l=!un(d)),d===92?h:c)}function h(d){return d===91||d===92||d===93?(t.consume(d),o++,c):c(d)}}function S8(t,e,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),a=h===40?41:h,l):n(h)}function l(h){return h===a?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),u(h))}function u(h){return h===a?(t.exit(s),l(a)):h===null?n(h):Ft(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),yn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===a||h===null||Ft(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?c:f)}function c(h){return h===a||h===92?(t.consume(h),f):f(h)}}function jm(t,e){let n;return r;function r(i){return Ft(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):un(i)?yn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const jie={name:"definition",tokenize:Gie},Hie={partial:!0,tokenize:$ie};function Gie(t,e,n){const r=this;let i;return s;function s(d){return t.enter("definition"),a(d)}function a(d){return w8.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=Ua(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),l):n(d)}function l(d){return zn(d)?jm(t,u)(d):u(d)}function u(d){return _8(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function f(d){return t.attempt(Hie,c,c)(d)}function c(d){return un(d)?yn(t,h,"whitespace")(d):h(d)}function h(d){return d===null||Ft(d)?(t.exit("definition"),r.parser.defined.push(i),e(d)):n(d)}}function $ie(t,e,n){return r;function r(o){return zn(o)?jm(t,i)(o):n(o)}function i(o){return S8(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return un(o)?yn(t,a,"whitespace")(o):a(o)}function a(o){return o===null||Ft(o)?e(o):n(o)}}const Vie={name:"hardBreakEscape",tokenize:Wie};function Wie(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Ft(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Xie={name:"headingAtx",resolve:qie,tokenize:Kie};function qie(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ms(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Kie(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(t.consume(f),a):f===null||zn(f)?(t.exit("atxHeadingSequence"),o(f)):n(f)}function o(f){return f===35?(t.enter("atxHeadingSequence"),l(f)):f===null||Ft(f)?(t.exit("atxHeading"),e(f)):un(f)?yn(t,o,"whitespace")(f):(t.enter("atxHeadingText"),u(f))}function l(f){return f===35?(t.consume(f),l):(t.exit("atxHeadingSequence"),o(f))}function u(f){return f===null||f===35||zn(f)?(t.exit("atxHeadingText"),o(f)):(t.consume(f),u)}}const Jie=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fL=["pre","script","style","textarea"],Yie={concrete:!0,name:"htmlFlow",resolveTo:ese,tokenize:tse},Zie={partial:!0,tokenize:rse},Qie={partial:!0,tokenize:nse};function ese(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function tse(t,e,n){const r=this;let i,s,a,o,l;return u;function u(G){return f(G)}function f(G){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(G),c}function c(G){return G===33?(t.consume(G),h):G===47?(t.consume(G),s=!0,x):G===63?(t.consume(G),i=3,r.interrupt?e:N):Di(G)?(t.consume(G),a=String.fromCharCode(G),v):n(G)}function h(G){return G===45?(t.consume(G),i=2,d):G===91?(t.consume(G),i=5,o=0,m):Di(G)?(t.consume(G),i=4,r.interrupt?e:N):n(G)}function d(G){return G===45?(t.consume(G),r.interrupt?e:N):n(G)}function m(G){const Ie="CDATA[";return G===Ie.charCodeAt(o++)?(t.consume(G),o===Ie.length?r.interrupt?e:B:m):n(G)}function x(G){return Di(G)?(t.consume(G),a=String.fromCharCode(G),v):n(G)}function v(G){if(G===null||G===47||G===62||zn(G)){const Ie=G===47,Oe=a.toLowerCase();return!Ie&&!s&&fL.includes(Oe)?(i=1,r.interrupt?e(G):B(G)):Jie.includes(a.toLowerCase())?(i=6,Ie?(t.consume(G),y):r.interrupt?e(G):B(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):s?_(G):b(G))}return G===45||Ai(G)?(t.consume(G),a+=String.fromCharCode(G),v):n(G)}function y(G){return G===62?(t.consume(G),r.interrupt?e:B):n(G)}function _(G){return un(G)?(t.consume(G),_):M(G)}function b(G){return G===47?(t.consume(G),M):G===58||G===95||Di(G)?(t.consume(G),w):un(G)?(t.consume(G),b):M(G)}function w(G){return G===45||G===46||G===58||G===95||Ai(G)?(t.consume(G),w):E(G)}function E(G){return G===61?(t.consume(G),A):un(G)?(t.consume(G),E):b(G)}function A(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),l=G,P):un(G)?(t.consume(G),A):I(G)}function P(G){return G===l?(t.consume(G),l=null,R):G===null||Ft(G)?n(G):(t.consume(G),P)}function I(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||zn(G)?E(G):(t.consume(G),I)}function R(G){return G===47||G===62||un(G)?b(G):n(G)}function M(G){return G===62?(t.consume(G),k):n(G)}function k(G){return G===null||Ft(G)?B(G):un(G)?(t.consume(G),k):n(G)}function B(G){return G===45&&i===2?(t.consume(G),X):G===60&&i===1?(t.consume(G),Z):G===62&&i===4?(t.consume(G),q):G===63&&i===3?(t.consume(G),N):G===93&&i===5?(t.consume(G),W):Ft(G)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Zie,te,H)(G)):G===null||Ft(G)?(t.exit("htmlFlowData"),H(G)):(t.consume(G),B)}function H(G){return t.check(Qie,j,te)(G)}function j(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),V}function V(G){return G===null||Ft(G)?H(G):(t.enter("htmlFlowData"),B(G))}function X(G){return G===45?(t.consume(G),N):B(G)}function Z(G){return G===47?(t.consume(G),a="",L):B(G)}function L(G){if(G===62){const Ie=a.toLowerCase();return fL.includes(Ie)?(t.consume(G),q):B(G)}return Di(G)&&a.length<8?(t.consume(G),a+=String.fromCharCode(G),L):B(G)}function W(G){return G===93?(t.consume(G),N):B(G)}function N(G){return G===62?(t.consume(G),q):G===45&&i===2?(t.consume(G),N):B(G)}function q(G){return G===null||Ft(G)?(t.exit("htmlFlowData"),te(G)):(t.consume(G),q)}function te(G){return t.exit("htmlFlow"),e(G)}}function nse(t,e,n){const r=this;return i;function i(a){return Ft(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function rse(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Oy,e,n)}}const ise={name:"htmlText",tokenize:sse};function sse(t,e,n){const r=this;let i,s,a;return o;function o(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),u):N===47?(t.consume(N),E):N===63?(t.consume(N),b):Di(N)?(t.consume(N),I):n(N)}function u(N){return N===45?(t.consume(N),f):N===91?(t.consume(N),s=0,m):Di(N)?(t.consume(N),_):n(N)}function f(N){return N===45?(t.consume(N),d):n(N)}function c(N){return N===null?n(N):N===45?(t.consume(N),h):Ft(N)?(a=c,Z(N)):(t.consume(N),c)}function h(N){return N===45?(t.consume(N),d):c(N)}function d(N){return N===62?X(N):N===45?h(N):c(N)}function m(N){const q="CDATA[";return N===q.charCodeAt(s++)?(t.consume(N),s===q.length?x:m):n(N)}function x(N){return N===null?n(N):N===93?(t.consume(N),v):Ft(N)?(a=x,Z(N)):(t.consume(N),x)}function v(N){return N===93?(t.consume(N),y):x(N)}function y(N){return N===62?X(N):N===93?(t.consume(N),y):x(N)}function _(N){return N===null||N===62?X(N):Ft(N)?(a=_,Z(N)):(t.consume(N),_)}function b(N){return N===null?n(N):N===63?(t.consume(N),w):Ft(N)?(a=b,Z(N)):(t.consume(N),b)}function w(N){return N===62?X(N):b(N)}function E(N){return Di(N)?(t.consume(N),A):n(N)}function A(N){return N===45||Ai(N)?(t.consume(N),A):P(N)}function P(N){return Ft(N)?(a=P,Z(N)):un(N)?(t.consume(N),P):X(N)}function I(N){return N===45||Ai(N)?(t.consume(N),I):N===47||N===62||zn(N)?R(N):n(N)}function R(N){return N===47?(t.consume(N),X):N===58||N===95||Di(N)?(t.consume(N),M):Ft(N)?(a=R,Z(N)):un(N)?(t.consume(N),R):X(N)}function M(N){return N===45||N===46||N===58||N===95||Ai(N)?(t.consume(N),M):k(N)}function k(N){return N===61?(t.consume(N),B):Ft(N)?(a=k,Z(N)):un(N)?(t.consume(N),k):R(N)}function B(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),i=N,H):Ft(N)?(a=B,Z(N)):un(N)?(t.consume(N),B):(t.consume(N),j)}function H(N){return N===i?(t.consume(N),i=void 0,V):N===null?n(N):Ft(N)?(a=H,Z(N)):(t.consume(N),H)}function j(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||zn(N)?R(N):(t.consume(N),j)}function V(N){return N===47||N===62||zn(N)?R(N):n(N)}function X(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function Z(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),L}function L(N){return un(N)?yn(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):W(N)}function W(N){return t.enter("htmlTextData"),a(N)}}const UR={name:"labelEnd",resolveAll:use,resolveTo:cse,tokenize:fse},ase={tokenize:hse},ose={tokenize:dse},lse={tokenize:pse};function use(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ms(t,0,t.length,n),t}function cse(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=Ks(o,t.slice(s+1,s+r+3)),o=Ks(o,[["enter",f,e]]),o=Ks(o,Q_(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=Ks(o,[["exit",f,e],t[a-2],t[a-1],["exit",u,e]]),o=Ks(o,t.slice(a+1)),o=Ks(o,[["exit",l,e]]),Ms(t,s,t.length,o),t}function fse(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?c(h):(a=r.parser.defined.includes(Ua(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(ase,f,a?f:c)(h):h===91?t.attempt(ose,f,a?u:c)(h):a?f(h):c(h)}function u(h){return t.attempt(lse,f,c)(h)}function f(h){return e(h)}function c(h){return s._balanced=!0,n(h)}}function hse(t,e,n){return r;function r(c){return t.enter("resource"),t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),i}function i(c){return zn(c)?jm(t,s)(c):s(c)}function s(c){return c===41?f(c):_8(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function a(c){return zn(c)?jm(t,l)(c):f(c)}function o(c){return n(c)}function l(c){return c===34||c===39||c===40?S8(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):f(c)}function u(c){return zn(c)?jm(t,f)(c):f(c)}function f(c){return c===41?(t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),t.exit("resource"),e):n(c)}}function dse(t,e,n){const r=this;return i;function i(o){return w8.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Ua(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function pse(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const mse={name:"labelStartImage",resolveAll:UR.resolveAll,tokenize:gse};function gse(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const yse={name:"labelStartLink",resolveAll:UR.resolveAll,tokenize:vse};function vse(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const dE={name:"lineEnding",tokenize:xse};function xse(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),yn(t,e,"linePrefix")}}const Zx={name:"thematicBreak",tokenize:bse};function bse(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ft(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),un(u)?yn(t,o,"whitespace")(u):o(u))}}const Ki={continuation:{tokenize:Ase},exit:Mse,name:"list",tokenize:Sse},_se={partial:!0,tokenize:Cse},wse={partial:!0,tokenize:Ese};function Sse(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(d){const m=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:wT(d)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(Zx,n,u)(d):u(d);if(!r.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(d)}return n(d)}function l(d){return wT(d)&&++a<10?(t.consume(d),l):(!r.interrupt||a<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),u(d)):n(d)}function u(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,t.check(Oy,r.interrupt?n:f,t.attempt(_se,h,c))}function f(d){return r.containerState.initialBlankLine=!0,s++,h(d)}function c(d){return un(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function Ase(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Oy,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yn(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!un(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(wse,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,yn(t,t.attempt(Ki,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Ese(t,e,n){const r=this;return yn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function Mse(t){t.exit(this.containerState.type)}function Cse(t,e,n){const r=this;return yn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!un(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const hL={name:"setextUnderline",resolveTo:Tse,tokenize:Pse};function Tse(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function Pse(t,e,n){const r=this;let i;return s;function s(u){let f=r.events.length,c;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){c=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),un(u)?yn(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ft(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Rse={tokenize:Ise};function Ise(t){const e=this,n=t.attempt(Oy,r,t.attempt(this.parser.constructs.flowInitial,i,yn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Die,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ose={resolveAll:E8()},kse=A8("string"),Nse=A8("text");function A8(t){return{resolveAll:E8(t==="text"?Bse:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(f){return u(f)?s(f):o(f)}function o(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return u(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function u(f){if(f===null)return!0;const c=i[f];let h=-1;if(c)for(;++h<c.length;){const d=c[h];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function E8(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Bse(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const Dse={42:Ki,43:Ki,45:Ki,48:Ki,49:Ki,50:Ki,51:Ki,52:Ki,53:Ki,54:Ki,55:Ki,56:Ki,57:Ki,62:y8},Lse={91:jie},Fse={[-2]:hE,[-1]:hE,32:hE},Use={35:Xie,42:Zx,45:[hL,Zx],60:Yie,61:hL,95:Zx,96:cL,126:cL},zse={38:x8,92:v8},jse={[-5]:dE,[-4]:dE,[-3]:dE,33:mse,38:x8,42:ST,60:[yie,ise],91:yse,92:[Vie,v8],93:UR,95:ST,96:Rie},Hse={null:[ST,Ose]},Gse={null:[42,95]},$se={null:[]},Vse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Gse,contentInitial:Lse,disable:$se,document:Dse,flow:Use,flowInitial:Fse,insideSpan:Hse,string:zse,text:jse},Symbol.toStringTag,{value:"Module"}));function Wse(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:P(E),check:P(A),consume:_,enter:b,exit:w,interrupt:P(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:d,write:c};let f=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function c(k){return a=Ks(a,k),v(),a[a.length-1]!==null?[]:(I(e,0),u.events=Q_(s,u.events,u),u.events)}function h(k,B){return qse(d(k),B)}function d(k){return Xse(a,k)}function m(){const{_bufferIndex:k,_index:B,line:H,column:j,offset:V}=r;return{_bufferIndex:k,_index:B,line:H,column:j,offset:V}}function x(k){i[k.line]=k.column,M()}function v(){let k;for(;r._index<a.length;){const B=a[r._index];if(typeof B=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<B.length;)y(B.charCodeAt(r._bufferIndex));else y(B)}}function y(k){f=f(k)}function _(k){Ft(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,M()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=k}function b(k,B){const H=B||{};return H.type=k,H.start=m(),u.events.push(["enter",H,u]),o.push(H),H}function w(k){const B=o.pop();return B.end=m(),u.events.push(["exit",B,u]),B}function E(k,B){I(k,B.from)}function A(k,B){B.restore()}function P(k,B){return H;function H(j,V,X){let Z,L,W,N;return Array.isArray(j)?te(j):"tokenize"in j?te([j]):q(j);function q(ae){return _e;function _e(Ge){const we=Ge!==null&&ae[Ge],Le=Ge!==null&&ae.null,Je=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return te(Je)(Ge)}}function te(ae){return Z=ae,L=0,ae.length===0?X:G(ae[L])}function G(ae){return _e;function _e(Ge){return N=R(),W=ae,ae.partial||(u.currentConstruct=ae),ae.name&&u.parser.constructs.disable.null.includes(ae.name)?Oe():ae.tokenize.call(B?Object.assign(Object.create(u),B):u,l,Ie,Oe)(Ge)}}function Ie(ae){return k(W,N),V}function Oe(ae){return N.restore(),++L<Z.length?G(Z[L]):X}}}function I(k,B){k.resolveAll&&!s.includes(k)&&s.push(k),k.resolve&&Ms(u.events,B,u.events.length-B,k.resolve(u.events.slice(B),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function R(){const k=m(),B=u.previous,H=u.currentConstruct,j=u.events.length,V=Array.from(o);return{from:j,restore:X};function X(){r=k,u.previous=B,u.currentConstruct=H,u.events.length=j,o=V,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Xse(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function qse(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Kse(t){const r={constructs:m8([Vse,...(t||{}).extensions||[]]),content:i(cie),defined:[],document:i(hie),flow:i(Rse),lazy:{},string:i(kse),text:i(Nse)};return r;function i(s){return a;function a(o){return Wse(r,s,o)}}}function Jse(t){for(;!b8(t););return t}const dL=/[\0\t\n\r]/g;function Yse(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let u,f,c,h,d;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),c=0,e="",n&&(s.charCodeAt(0)===65279&&c++,n=void 0);c<s.length;){if(dL.lastIndex=c,u=dL.exec(s),h=u&&u.index!==void 0?u.index:s.length,d=s.charCodeAt(h),!u){e=s.slice(c);break}if(d===10&&c===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),c<h&&(l.push(s.slice(c,h)),t+=h-c),d){case 0:{l.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,l.push(-2);t++<f;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}c=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Zse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Qse(t){return t.replace(Zse,eae)}function eae(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return g8(n.slice(s?2:1),s?16:10)}return FR(n)||t}const M8={}.hasOwnProperty;function tae(t,e,n){return typeof e!="string"&&(n=e,e=void 0),nae(n)(Jse(Kse(n).document().write(Yse()(t,e,!0))))}function nae(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(qe),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(Re),blockQuote:s(Le),characterEscape:R,characterReference:R,codeFenced:s(Je),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Je,a),codeText:s(Pe,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(Q),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Me),hardBreakEscape:s(Ce),hardBreakTrailing:s(Ce),htmlFlow:s(Ee,a),htmlFlowData:R,htmlText:s(Ee,a),htmlTextData:R,image:s(Ye),label:a,link:s(qe),listItem:s(wt),listItemValue:h,listOrdered:s(Qe,c),listUnordered:s(Qe),paragraph:s(bt),reference:G,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Re),strong:s(Y),thematicBreak:s(ye)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:we,autolinkProtocol:Ge,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:ae,characterReference:_e,codeFenced:l(v),codeFencedFence:x,codeFencedFenceInfo:d,codeFencedFenceMeta:m,codeFlowValue:M,codeIndented:l(y),codeText:l(V),codeTextData:M,data:M,definition:l(),definitionDestinationString:w,definitionLabelString:_,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(B),hardBreakTrailing:l(B),htmlFlow:l(H),htmlFlowData:M,htmlText:l(j),htmlTextData:M,image:l(Z),label:W,labelText:L,lineEnding:k,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ie,resourceDestinationString:N,resourceTitleString:q,resource:te,setextHeading:l(I),setextHeadingLineSequence:P,setextHeadingText:A,strong:l(),thematicBreak:l()}};C8(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let de={type:"root",children:[]};const ge={stack:[de],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:f,data:n},oe=[];let pe=-1;for(;++pe<ne.length;)if(ne[pe][1].type==="listOrdered"||ne[pe][1].type==="listUnordered")if(ne[pe][0]==="enter")oe.push(pe);else{const $e=oe.pop();pe=i(ne,$e,pe)}for(pe=-1;++pe<ne.length;){const $e=e[ne[pe][0]];M8.call($e,ne[pe][1].type)&&$e[ne[pe][1].type].call(Object.assign({sliceSerialize:ne[pe][2].sliceSerialize},ge),ne[pe][1])}if(ge.tokenStack.length>0){const $e=ge.tokenStack[ge.tokenStack.length-1];($e[1]||pL).call(ge,void 0,$e[0])}for(de.position={start:Dl(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Dl(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},pe=-1;++pe<e.transforms.length;)de=e.transforms[pe](de)||de;return de}function i(ne,de,ge){let oe=de-1,pe=-1,$e=!1,nt,We,Ze,_t;for(;++oe<=ge;){const se=ne[oe];switch(se[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{se[0]==="enter"?pe++:pe--,_t=void 0;break}case"lineEndingBlank":{se[0]==="enter"&&(nt&&!_t&&!pe&&!Ze&&(Ze=oe),_t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_t=void 0}if(!pe&&se[0]==="enter"&&se[1].type==="listItemPrefix"||pe===-1&&se[0]==="exit"&&(se[1].type==="listUnordered"||se[1].type==="listOrdered")){if(nt){let be=oe;for(We=void 0;be--;){const Ve=ne[be];if(Ve[1].type==="lineEnding"||Ve[1].type==="lineEndingBlank"){if(Ve[0]==="exit")continue;We&&(ne[We][1].type="lineEndingBlank",$e=!0),Ve[1].type="lineEnding",We=be}else if(!(Ve[1].type==="linePrefix"||Ve[1].type==="blockQuotePrefix"||Ve[1].type==="blockQuotePrefixWhitespace"||Ve[1].type==="blockQuoteMarker"||Ve[1].type==="listItemIndent"))break}Ze&&(!We||Ze<We)&&(nt._spread=!0),nt.end=Object.assign({},We?ne[We][1].start:se[1].end),ne.splice(We||oe,0,["exit",nt,se[2]]),oe++,ge++}if(se[1].type==="listItemPrefix"){const be={type:"listItem",_spread:!1,start:Object.assign({},se[1].start),end:void 0};nt=be,ne.splice(oe,0,["enter",be,se[2]]),oe++,ge++,Ze=void 0,_t=!0}}}return ne[de][1]._spread=$e,ge}function s(ne,de){return ge;function ge(oe){o.call(this,ne(oe),oe),de&&de.call(this,oe)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ne,de,ge){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([de,ge||void 0]),ne.position={start:Dl(de.start),end:void 0}}function l(ne){return de;function de(ge){ne&&ne.call(this,ge),u.call(this,ge)}}function u(ne,de){const ge=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==ne.type&&(de?de.call(this,ne,oe[0]):(oe[1]||pL).call(this,ne,oe[0]));else throw new Error("Cannot close `"+ne.type+"` ("+zm({start:ne.start,end:ne.end})+"): its not open");ge.position.end=Dl(ne.end)}function f(){return LR(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function h(ne){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function d(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.lang=ne}function m(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.meta=ne}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/(\r?\n|\r)$/g,"")}function _(ne){const de=this.resume(),ge=this.stack[this.stack.length-1];ge.label=de,ge.identifier=Ua(this.sliceSerialize(ne)).toLowerCase()}function b(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function w(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function E(ne){const de=this.stack[this.stack.length-1];if(!de.depth){const ge=this.sliceSerialize(ne).length;de.depth=ge}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function P(ne){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function R(ne){const ge=this.stack[this.stack.length-1].children;let oe=ge[ge.length-1];(!oe||oe.type!=="text")&&(oe=$(),oe.position={start:Dl(ne.start),end:void 0},ge.push(oe)),this.stack.push(oe)}function M(ne){const de=this.stack.pop();de.value+=this.sliceSerialize(ne),de.position.end=Dl(ne.end)}function k(ne){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=de.children[de.children.length-1];ge.position.end=Dl(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(R.call(this,ne),M.call(this,ne))}function B(){this.data.atHardBreak=!0}function H(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function j(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function V(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function X(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Z(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function L(ne){const de=this.sliceSerialize(ne),ge=this.stack[this.stack.length-2];ge.label=Qse(de),ge.identifier=Ua(de).toLowerCase()}function W(){const ne=this.stack[this.stack.length-1],de=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const oe=ne.children;ge.children=oe}else ge.alt=de}function N(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function q(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function te(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function Ie(ne){const de=this.resume(),ge=this.stack[this.stack.length-1];ge.label=de,ge.identifier=Ua(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function Oe(ne){this.data.characterReferenceType=ne.type}function ae(ne){const de=this.sliceSerialize(ne),ge=this.data.characterReferenceType;let oe;ge?(oe=g8(de,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=FR(de);const pe=this.stack[this.stack.length-1];pe.value+=oe}function _e(ne){const de=this.stack.pop();de.position.end=Dl(ne.end)}function Ge(ne){M.call(this,ne);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ne)}function we(ne){M.call(this,ne);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ne)}function Le(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Me(){return{type:"emphasis",children:[]}}function Re(){return{type:"heading",depth:0,children:[]}}function Ce(){return{type:"break"}}function Ee(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function qe(){return{type:"link",title:null,url:"",children:[]}}function Qe(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function wt(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function bt(){return{type:"paragraph",children:[]}}function Y(){return{type:"strong",children:[]}}function $(){return{type:"text",value:""}}function ye(){return{type:"thematicBreak"}}}function Dl(t){return{line:t.line,column:t.column,offset:t.offset}}function C8(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?C8(t,r):rae(t,r)}}function rae(t,e){let n;for(n in e)if(M8.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function pL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zm({start:e.start,end:e.end})+") is still open")}function iae(t){const e=this;e.parser=n;function n(r){return tae(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function sae(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function aae(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function oae(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function lae(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uae(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cae(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Qd(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function fae(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hae(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function T8(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function dae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return T8(t,e);const i={src:Qd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function pae(t,e){const n={src:Qd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function mae(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function gae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return T8(t,e);const i={href:Qd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function yae(t,e){const n={href:Qd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function vae(t,e,n){const r=t.all(e),i=n?xae(n):P8(e),s={},a=[];if(typeof e.checked=="boolean"){const f=r[0];let c;f&&f.type==="element"&&f.tagName==="p"?c=f:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const f=r[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,u),t.applyData(e,u)}function xae(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=P8(n[r])}return e}function P8(t){const e=t.spread;return e??t.children.length>1}function bae(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function _ae(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wae(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Sae(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Aae(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=kR(e.children[1]),l=l8(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Eae(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const c=e.children[l],h={},d=a?a[l]:void 0;d&&(h.align=d);let m={type:"element",tagName:s,properties:h,children:[]};c&&(m.children=t.all(c),t.patch(c,m),m=t.applyData(c,m)),u.push(m)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,f),t.applyData(e,f)}function Mae(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mL=9,gL=32;function Cae(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(yL(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(yL(e.slice(i),i>0,!1)),s.join("")}function yL(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===mL||s===gL;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===mL||s===gL;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Tae(t,e){const n={type:"text",value:Cae(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Pae(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Rae={blockquote:sae,break:aae,code:oae,delete:lae,emphasis:uae,footnoteReference:cae,heading:fae,html:hae,imageReference:dae,image:pae,inlineCode:mae,linkReference:gae,link:yae,listItem:vae,list:bae,paragraph:_ae,root:wae,strong:Sae,table:Aae,tableCell:Mae,tableRow:Eae,text:Tae,thematicBreak:Pae,toml:x0,yaml:x0,definition:x0,footnoteDefinition:x0};function x0(){}const R8=-1,ew=0,Hm=1,B1=2,zR=3,jR=4,HR=5,GR=6,I8=7,O8=8,vL=typeof self=="object"?self:globalThis,Iae=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case ew:case R8:return n(a,i);case Hm:{const o=n([],i);for(const l of a)o.push(r(l));return o}case B1:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case zR:return n(new Date(a),i);case jR:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case HR:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case GR:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case I8:{const{name:o,message:l}=a;return n(new vL[o](l),i)}case O8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new vL[s](a),i)};return r},xL=t=>Iae(new Map,t)(0),Hf="",{toString:Oae}={},{keys:kae}=Object,Wp=t=>{const e=typeof t;if(e!=="object"||!t)return[ew,e];const n=Oae.call(t).slice(8,-1);switch(n){case"Array":return[Hm,Hf];case"Object":return[B1,Hf];case"Date":return[zR,Hf];case"RegExp":return[jR,Hf];case"Map":return[HR,Hf];case"Set":return[GR,Hf];case"DataView":return[Hm,n]}return n.includes("Array")?[Hm,n]:n.includes("Error")?[I8,n]:[B1,n]},b0=([t,e])=>t===ew&&(e==="function"||e==="symbol"),Nae=(t,e,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=Wp(a);switch(o){case ew:{let f=a;switch(l){case"bigint":o=O8,f=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([R8],a)}return i([o,f],a)}case Hm:{if(l){let h=a;return l==="DataView"?h=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(a)),i([l,[...h]],a)}const f=[],c=i([o,f],a);for(const h of a)f.push(s(h));return c}case B1:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const f=[],c=i([o,f],a);for(const h of kae(a))(t||!b0(Wp(a[h])))&&f.push([s(h),s(a[h])]);return c}case zR:return i([o,a.toISOString()],a);case jR:{const{source:f,flags:c}=a;return i([o,{source:f,flags:c}],a)}case HR:{const f=[],c=i([o,f],a);for(const[h,d]of a)(t||!(b0(Wp(h))||b0(Wp(d))))&&f.push([s(h),s(d)]);return c}case GR:{const f=[],c=i([o,f],a);for(const h of a)(t||!b0(Wp(h)))&&f.push(s(h));return c}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},bL=(t,{json:e,lossy:n}={})=>{const r=[];return Nae(!(e||n),!!e,new Map,r)(t),r},D1=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?xL(bL(t,e)):structuredClone(t):(t,e)=>xL(bL(t,e));function Bae(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Dae(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Lae(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Bae,r=t.options.footnoteBackLabel||Dae,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const f=t.all(u),c=String(u.identifier).toUpperCase(),h=Qd(c.toLowerCase());let d=0;const m=[],x=t.footnoteCounts.get(c);for(;x!==void 0&&++d<=x;){m.length>0&&m.push({type:"text",value:" "});let _=typeof n=="string"?n:n(l,d);typeof _=="string"&&(_={type:"text",value:_}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,d),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const v=f[f.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const _=v.children[v.children.length-1];_&&_.type==="text"?_.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else f.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(f,!0)};t.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...D1(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const tw=function(t){if(t==null)return jae;if(typeof t=="function")return nw(t);if(typeof t=="object")return Array.isArray(t)?Fae(t):Uae(t);if(typeof t=="string")return zae(t);throw new Error("Expected function, string, or object as test")};function Fae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=tw(t[n]);return nw(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Uae(t){const e=t;return nw(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function zae(t){return nw(e);function e(n){return n&&n.type===t}}function nw(t){return e;function e(n,r,i){return!!(Hae(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function jae(){return!0}function Hae(t){return t!==null&&typeof t=="object"&&"type"in t}const k8=[],Gae=!0,AT=!1,$ae="skip";function N8(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=tw(i),a=r?-1:1;o(t,void 0,[])();function o(l,u,f){const c=l&&typeof l=="object"?l:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=k8,m,x,v;if((!e||s(l,u,f[f.length-1]||void 0))&&(d=Vae(n(l,f)),d[0]===AT))return d;if("children"in l&&l.children){const y=l;if(y.children&&d[0]!==$ae)for(x=(r?y.children.length:-1)+a,v=f.concat(y);x>-1&&x<y.children.length;){const _=y.children[x];if(m=o(_,x,v)(),m[0]===AT)return m;x=typeof m[1]=="number"?m[1]:x+a}}return d}}}function Vae(t){return Array.isArray(t)?t:typeof t=="number"?[Gae,t]:t==null?k8:[t]}function $R(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),N8(t,s,o,i);function o(l,u){const f=u[u.length-1],c=f?f.children.indexOf(l):void 0;return a(l,c,f)}}const ET={}.hasOwnProperty,Wae={};function Xae(t,e){const n=e||Wae,r=new Map,i=new Map,s=new Map,a={...Rae,...n.handlers},o={all:u,applyData:Kae,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:qae,wrap:Yae};return $R(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const c=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();c.has(h)||c.set(h,f)}}),o;function l(f,c){const h=f.type,d=o.handlers[h];if(ET.call(o.handlers,h)&&d)return d(o,f,c);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in f){const{children:x,...v}=f,y=D1(v);return y.children=o.all(f),y}return D1(f)}return(o.options.unknownHandler||Jae)(o,f,c)}function u(f){const c=[];if("children"in f){const h=f.children;let d=-1;for(;++d<h.length;){const m=o.one(h[d],f);if(m){if(d&&h[d-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=_L(m.value)),!Array.isArray(m)&&m.type==="element")){const x=m.children[0];x&&x.type==="text"&&(x.value=_L(x.value))}Array.isArray(m)?c.push(...m):c.push(m)}}}return c}}function qae(t,e){t.position&&(e.position=Dre(t))}function Kae(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,D1(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Jae(t,e){const n=e.data||{},r="value"in e&&!(ET.call(n,"hProperties")||ET.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Yae(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function _L(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function wL(t,e){const n=Xae(t,e),r=n.one(t,void 0),i=Lae(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Zae(t,e){return t&&"run"in t?async function(n,r){const i=wL(n,{file:r,...e});await t.run(i,r)}:function(n,r){return wL(n,{file:r,...t||e})}}function SL(t){if(t)throw t}var Qx=Object.prototype.hasOwnProperty,B8=Object.prototype.toString,AL=Object.defineProperty,EL=Object.getOwnPropertyDescriptor,ML=function(e){return typeof Array.isArray=="function"?Array.isArray(e):B8.call(e)==="[object Array]"},CL=function(e){if(!e||B8.call(e)!=="[object Object]")return!1;var n=Qx.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Qx.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Qx.call(e,i)},TL=function(e,n){AL&&n.name==="__proto__"?AL(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},PL=function(e,n){if(n==="__proto__")if(Qx.call(e,n)){if(EL)return EL(e,n).value}else return;return e[n]},Qae=function t(){var e,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,f=!1;for(typeof o=="boolean"&&(f=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=PL(o,n),i=PL(e,n),o!==i&&(f&&i&&(CL(i)||(s=ML(i)))?(s?(s=!1,a=r&&ML(r)?r:[]):a=r&&CL(r)?r:{},TL(o,{name:n,newValue:t(f,a,i)})):typeof i<"u"&&TL(o,{name:n,newValue:i}));return o};const pE=On(Qae);function MT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function eoe(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const f=t[++s];let c=-1;if(l){a(l);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,f?toe(f,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function toe(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(u){const f=u;if(o&&n)throw f;return i(f)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const so={basename:noe,dirname:roe,extname:ioe,join:soe,sep:"/"};function noe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ky(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function roe(t){if(ky(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function ioe(t){ky(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function soe(...t){let e=-1,n;for(;++e<t.length;)ky(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":aoe(n)}function aoe(t){ky(t);const e=t.codePointAt(0)===47;let n=ooe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function ooe(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function ky(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const loe={cwd:uoe};function uoe(){return"/"}function CT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function coe(t){if(typeof t=="string")t=new URL(t);else if(!CT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return foe(t)}function foe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const mE=["history","path","basename","stem","extname","dirname"];class D8{constructor(e){let n;e?CT(e)?n={path:e}:typeof e=="string"||hoe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":loe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<mE.length;){const s=mE[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)mE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?so.basename(this.path):void 0}set basename(e){yE(e,"basename"),gE(e,"basename"),this.path=so.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?so.dirname(this.path):void 0}set dirname(e){RL(this.basename,"dirname"),this.path=so.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?so.extname(this.path):void 0}set extname(e){if(gE(e,"extname"),RL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=so.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){CT(e)&&(e=coe(e)),yE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?so.basename(this.path,this.extname):void 0}set stem(e){yE(e,"stem"),gE(e,"stem"),this.path=so.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ci(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function gE(t,e){if(t&&t.includes(so.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+so.sep+"`")}function yE(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function RL(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function hoe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const doe=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},poe={}.hasOwnProperty;class VR extends doe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eoe()}copy(){const e=new VR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(pE(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(bE("data",this.frozen),this.namespace[e]=n,this):poe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(bE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=_0(e),r=this.parser||this.Parser;return vE("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),vE("process",this.parser||this.Parser),xE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=_0(e),l=r.parse(o);r.run(l,o,function(f,c,h){if(f||!c||!h)return u(f);const d=c,m=r.stringify(d,h);yoe(m)?h.value=m:h.result=m,u(f,h)});function u(f,c){f||!c?a(f):s?s(c):n(void 0,c)}}}processSync(e){let n=!1,r;return this.freeze(),vE("processSync",this.parser||this.Parser),xE("processSync",this.compiler||this.Compiler),this.process(e,i),OL("processSync","process",n),r;function i(s,a){n=!0,SL(s),r=a}}run(e,n,r){IL(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=_0(n);i.run(e,l,u);function u(f,c,h){const d=c||e;f?o(f):a?a(d):r(void 0,d,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),OL("runSync","run",r),i;function s(a,o){SL(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=_0(n),i=this.compiler||this.Compiler;return xE("stringify",i),IL(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(bE("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...c]=u;l(f,c)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=pE(!0,i.settings,u.settings))}function o(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const c=u[f];s(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,f){let c=-1,h=-1;for(;++c<r.length;)if(r[c][0]===u){h=c;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[d,...m]=f;const x=r[h][1];MT(x)&&MT(d)&&(d=pE(!0,x,d)),r[h]=[u,d,...m]}}}}const moe=new VR().freeze();function vE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function xE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function bE(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function IL(t){if(!MT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function OL(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function _0(t){return goe(t)?t:new D8(t)}function goe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yoe(t){return typeof t=="string"||voe(t)}function voe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xoe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kL=[],NL={allowDangerousHtml:!0},boe=/^(https?|ircs?|mailto|xmpp)$/i,_oe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TT(t){const e=woe(t),n=Soe(t);return Aoe(e.runSync(e.parse(n),n),t)}function woe(t){const e=t.rehypePlugins||kL,n=t.remarkPlugins||kL,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...NL}:NL;return moe().use(iae).use(n).use(Zae,r).use(e)}function Soe(t){const e=t.children||"",n=new D8;return typeof e=="string"&&(n.value=e),n}function Aoe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||Eoe;for(const f of _oe)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+xoe+f.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),$R(t,u),jre(t,{Fragment:C.Fragment,components:i,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function u(f,c,h){if(f.type==="raw"&&h&&typeof c=="number")return a?h.children.splice(c,1):h.children[c]={type:"text",value:f.value},c;if(f.type==="element"){let d;for(d in fE)if(Object.hasOwn(fE,d)&&Object.hasOwn(f.properties,d)){const m=f.properties[d],x=fE[d];(x===null||x.includes(f.tagName))&&(f.properties[d]=l(String(m||""),d,f))}}if(f.type==="element"){let d=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!d&&r&&typeof c=="number"&&(d=!r(f,c,h)),d&&h&&typeof c=="number")return o&&f.children?h.children.splice(c,1,...f.children):h.children.splice(c,1),c}}}function Eoe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||boe.test(t.slice(0,e))?t:""}function BL(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Moe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Coe(t,e,n){const i=tw((n||{}).ignore||[]),s=Toe(e);let a=-1;for(;++a<s.length;)N8(t,"text",o);function o(u,f){let c=-1,h;for(;++c<f.length;){const d=f[c],m=h?h.children:void 0;if(i(d,m?m.indexOf(d):void 0,h))return;h=d}if(h)return l(u,f)}function l(u,f){const c=f[f.length-1],h=s[a][0],d=s[a][1];let m=0;const v=c.children.indexOf(u);let y=!1,_=[];h.lastIndex=0;let b=h.exec(u.value);for(;b;){const w=b.index,E={index:b.index,input:b.input,stack:[...f,u]};let A=d(...b,E);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?h.lastIndex=w+1:(m!==w&&_.push({type:"text",value:u.value.slice(m,w)}),Array.isArray(A)?_.push(...A):A&&_.push(A),m=w+b[0].length,y=!0),!h.global)break;b=h.exec(u.value)}return y?(m<u.value.length&&_.push({type:"text",value:u.value.slice(m)}),c.children.splice(v,1,..._)):_=[u],v+_.length}}function Toe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Poe(i[0]),Roe(i[1])])}return e}function Poe(t){return typeof t=="string"?new RegExp(Moe(t),"g"):t}function Roe(t){return typeof t=="function"?t:function(){return t}}const _E="phrasing",wE=["autolink","link","image","label"];function Ioe(){return{transforms:[Foe],enter:{literalAutolink:koe,literalAutolinkEmail:SE,literalAutolinkHttp:SE,literalAutolinkWww:SE},exit:{literalAutolink:Loe,literalAutolinkEmail:Doe,literalAutolinkHttp:Noe,literalAutolinkWww:Boe}}}function Ooe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_E,notInConstruct:wE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_E,notInConstruct:wE},{character:":",before:"[ps]",after:"\\/",inConstruct:_E,notInConstruct:wE}]}}function koe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function SE(t){this.config.enter.autolinkProtocol.call(this,t)}function Noe(t){this.config.exit.autolinkProtocol.call(this,t)}function Boe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Doe(t){this.config.exit.autolinkEmail.call(this,t)}function Loe(t){this.exit(t)}function Foe(t){Coe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Uoe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),zoe]],{ignore:["link","linkReference"]})}function Uoe(t,e,n,r,i){let s="";if(!L8(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!joe(n)))return!1;const a=Hoe(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function zoe(t,e,n,r){return!L8(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function joe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Hoe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=BL(t,"(");let s=BL(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function L8(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||tf(n)||Z_(n))&&(!e||n!==47)}F8.peek=Yoe;function Goe(){this.buffer()}function $oe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Voe(){this.buffer()}function Woe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Xoe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ua(this.sliceSerialize(t)).toLowerCase(),n.label=e}function qoe(t){this.exit(t)}function Koe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ua(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Joe(t){this.exit(t)}function Yoe(){return"["}function F8(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function Zoe(){return{enter:{gfmFootnoteCallString:Goe,gfmFootnoteCall:$oe,gfmFootnoteDefinitionLabelString:Voe,gfmFootnoteDefinition:Woe},exit:{gfmFootnoteCallString:Xoe,gfmFootnoteCall:qoe,gfmFootnoteDefinitionLabelString:Koe,gfmFootnoteDefinition:Joe}}}function Qoe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:F8},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const u=s.enter("footnoteDefinition"),f=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),e?U8:ele))),u(),l}}function ele(t,e,n){return e===0?t:U8(t,e,n)}function U8(t,e,n){return(n?"":"    ")+t}const tle=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];z8.peek=ale;function nle(){return{canContainEols:["delete"],enter:{strikethrough:ile},exit:{strikethrough:sle}}}function rle(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tle}],handlers:{delete:z8}}}function ile(t){this.enter({type:"delete",children:[]},t)}function sle(t){this.exit(t)}function z8(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function ale(){return"~"}function ole(t){return t.length}function lle(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||ole,s=[],a=[],o=[],l=[];let u=0,f=-1;for(;++f<t.length;){const x=[],v=[];let y=-1;for(t[f].length>u&&(u=t[f].length);++y<t[f].length;){const _=ule(t[f][y]);if(n.alignDelimiters!==!1){const b=i(_);v[y]=b,(l[y]===void 0||b>l[y])&&(l[y]=b)}x.push(_)}a[f]=x,o[f]=v}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)s[c]=DL(r[c]);else{const x=DL(r);for(;++c<u;)s[c]=x}c=-1;const h=[],d=[];for(;++c<u;){const x=s[c];let v="",y="";x===99?(v=":",y=":"):x===108?v=":":x===114&&(y=":");let _=n.alignDelimiters===!1?1:Math.max(1,l[c]-v.length-y.length);const b=v+"-".repeat(_)+y;n.alignDelimiters!==!1&&(_=v.length+_+y.length,_>l[c]&&(l[c]=_),d[c]=_),h[c]=b}a.splice(1,0,h),o.splice(1,0,d),f=-1;const m=[];for(;++f<a.length;){const x=a[f],v=o[f];c=-1;const y=[];for(;++c<u;){const _=x[c]||"";let b="",w="";if(n.alignDelimiters!==!1){const E=l[c]-(v[c]||0),A=s[c];A===114?b=" ".repeat(E):A===99?E%2?(b=" ".repeat(E/2+.5),w=" ".repeat(E/2-.5)):(b=" ".repeat(E/2),w=b):w=" ".repeat(E)}n.delimiterStart!==!1&&!c&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||c)&&y.push(" "),n.alignDelimiters!==!1&&y.push(b),y.push(_),n.alignDelimiters!==!1&&y.push(w),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||c!==u-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function ule(t){return t==null?"":String(t)}function DL(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function cle(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),fle);return i(),a}function fle(t,e,n){return">"+(n?"":" ")+t}function hle(t,e){return LL(t,e.inConstruct,!0)&&!LL(t,e.notInConstruct,!1)}function LL(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function FL(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&hle(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dle(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function ple(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function mle(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function gle(t,e,n,r){const i=mle(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(ple(t,n)){const c=n.enter("codeIndented"),h=n.indentLines(s,yle);return c(),h}const o=n.createTracker(r),l=i.repeat(Math.max(dle(s,i)+1,3)),u=n.enter("codeFenced");let f=o.move(l);if(t.lang){const c=n.enter(`codeFencedLang${a}`);f+=o.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...o.current()})),c()}if(t.lang&&t.meta){const c=n.enter(`codeFencedMeta${a}`);f+=o.move(" "),f+=o.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...o.current()})),c()}return f+=o.move(`
`),s&&(f+=o.move(s+`
`)),f+=o.move(l),u(),f}function yle(t,e,n){return(n?"":"    ")+t}function WR(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function vle(t,e,n,r){const i=WR(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function xle(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Sg(t){return"&#x"+t.toString(16).toUpperCase()+";"}function L1(t,e,n){const r=ad(t),i=ad(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}j8.peek=ble;function j8(t,e,n,r){const i=xle(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),f=L1(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(l=Sg(u)+l.slice(1));const c=l.charCodeAt(l.length-1),h=L1(r.after.charCodeAt(0),c,i);h.inside&&(l=l.slice(0,-1)+Sg(c));const d=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},o+l+d}function ble(t,e,n){return n.options.emphasis||"*"}function _le(t,e){let n=!1;return $R(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,AT}),!!((!t.depth||t.depth<3)&&LR(t)&&(e.options.setext||n))}function wle(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(_le(t,n)){const f=n.enter("headingSetext"),c=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return c(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Sg(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}H8.peek=Sle;function H8(t){return t.value||""}function Sle(){return"<"}G8.peek=Ale;function G8(t,e,n,r){const i=WR(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function Ale(){return"!"}$8.peek=Ele;function $8(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const f=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=f,s(),i==="full"||!u||u!==c?l+=o.move(c+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Ele(){return"!"}V8.peek=Mle;function V8(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Mle(){return"`"}function W8(t,e){const n=LR(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}X8.peek=Cle;function X8(t,e,n,r){const i=WR(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(W8(t,n)){const f=n.stack;n.stack=[],o=n.enter("autolink");let c=a.move("<");return c+=a.move(n.containerPhrasing(t,{before:c,after:">",...a.current()})),c+=a.move(">"),o(),n.stack=f,c}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function Cle(t,e,n){return W8(t,n)?"<":"["}q8.peek=Tle;function q8(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const f=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=f,s(),i==="full"||!u||u!==c?l+=o.move(c+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Tle(){return"["}function XR(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Ple(t){const e=XR(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Rle(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function K8(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Ile(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?Rle(n):XR(n);const o=t.ordered?a==="."?")":".":Ple(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),K8(n)===a&&f){let c=-1;for(;++c<t.children.length;){const h=t.children[c];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function Ole(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function kle(t,e,n,r){const i=Ole(n);let s=n.bulletCurrent||XR(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),f);return l(),u;function f(c,h,d){return h?(d?"":" ".repeat(a))+c:(d?s:s+" ".repeat(a-s.length))+c}}function Nle(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const Ble=tw(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Dle(t,e,n,r){return(t.children.some(function(a){return Ble(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Lle(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}J8.peek=Fle;function J8(t,e,n,r){const i=Lle(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),f=L1(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(l=Sg(u)+l.slice(1));const c=l.charCodeAt(l.length-1),h=L1(r.after.charCodeAt(0),c,i);h.inside&&(l=l.slice(0,-1)+Sg(c));const d=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},o+l+d}function Fle(t,e,n){return n.options.strong||"*"}function Ule(t,e,n,r){return n.safe(t.value,r)}function zle(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function jle(t,e,n){const r=(K8(n)+(n.options.ruleSpaces?" ":"")).repeat(zle(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Y8={blockquote:cle,break:FL,code:gle,definition:vle,emphasis:j8,hardBreak:FL,heading:wle,html:H8,image:G8,imageReference:$8,inlineCode:V8,link:X8,linkReference:q8,list:Ile,listItem:kle,paragraph:Nle,root:Dle,strong:J8,text:Ule,thematicBreak:jle};function Hle(){return{enter:{table:Gle,tableData:UL,tableHeader:UL,tableRow:Vle},exit:{codeText:Wle,table:$le,tableData:AE,tableHeader:AE,tableRow:AE}}}function Gle(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function $le(t){this.exit(t),this.data.inTable=void 0}function Vle(t){this.enter({type:"tableRow",children:[]},t)}function AE(t){this.exit(t)}function UL(t){this.enter({type:"tableCell",children:[]},t)}function Wle(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Xle));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Xle(t,e){return e==="|"?e:t}function qle(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:l,tableRow:o}};function a(d,m,x,v){return u(f(d,x,v),d.align)}function o(d,m,x,v){const y=c(d,x,v),_=u([y]);return _.slice(0,_.indexOf(`
`))}function l(d,m,x,v){const y=x.enter("tableCell"),_=x.enter("phrasing"),b=x.containerPhrasing(d,{...v,before:s,after:s});return _(),y(),b}function u(d,m){return lle(d,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function f(d,m,x){const v=d.children;let y=-1;const _=[],b=m.enter("table");for(;++y<v.length;)_[y]=c(v[y],m,x);return b(),_}function c(d,m,x){const v=d.children;let y=-1;const _=[],b=m.enter("tableRow");for(;++y<v.length;)_[y]=l(v[y],d,m,x);return b(),_}function h(d,m,x){let v=Y8.inlineCode(d,m,x);return x.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function Kle(){return{exit:{taskListCheckValueChecked:zL,taskListCheckValueUnchecked:zL,paragraph:Yle}}}function Jle(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Zle}}}function zL(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Yle(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Zle(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=Y8.listItem(t,e,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(f){return f+a}}function Qle(){return[Ioe(),Zoe(),nle(),Hle(),Kle()]}function eue(t){return{extensions:[Ooe(),Qoe(t),rle(),qle(t),Jle()]}}const tue={tokenize:oue,partial:!0},Z8={tokenize:lue,partial:!0},Q8={tokenize:uue,partial:!0},e6={tokenize:cue,partial:!0},nue={tokenize:fue,partial:!0},t6={name:"wwwAutolink",tokenize:sue,previous:r6},n6={name:"protocolAutolink",tokenize:aue,previous:i6},bl={name:"emailAutolink",tokenize:iue,previous:s6},So={};function rue(){return{text:So}}let Yu=48;for(;Yu<123;)So[Yu]=bl,Yu++,Yu===58?Yu=65:Yu===91&&(Yu=97);So[43]=bl;So[45]=bl;So[46]=bl;So[95]=bl;So[72]=[bl,n6];So[104]=[bl,n6];So[87]=[bl,t6];So[119]=[bl,t6];function iue(t,e,n){const r=this;let i,s;return a;function a(c){return!PT(c)||!s6.call(r,r.previous)||qR(r.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(c))}function o(c){return PT(c)?(t.consume(c),o):c===64?(t.consume(c),l):n(c)}function l(c){return c===46?t.check(nue,f,u)(c):c===45||c===95||Ai(c)?(s=!0,t.consume(c),l):f(c)}function u(c){return t.consume(c),i=!0,l}function f(c){return s&&i&&Di(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(c)):n(c)}}function sue(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!r6.call(r,r.previous)||qR(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(tue,t.attempt(Z8,t.attempt(Q8,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function aue(t,e,n){const r=this;let i="",s=!1;return a;function a(c){return(c===72||c===104)&&i6.call(r,r.previous)&&!qR(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),t.consume(c),o):n(c)}function o(c){if(Di(c)&&i.length<5)return i+=String.fromCodePoint(c),t.consume(c),o;if(c===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(c),l}return n(c)}function l(c){return c===47?(t.consume(c),s?u:(s=!0,l)):n(c)}function u(c){return c===null||N1(c)||zn(c)||tf(c)||Z_(c)?n(c):t.attempt(Z8,t.attempt(Q8,f),n)(c)}function f(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(c)}}function oue(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function lue(t,e,n){let r,i,s;return a;function a(u){return u===46||u===95?t.check(e6,l,o)(u):u===null||zn(u)||tf(u)||u!==45&&Z_(u)?l(u):(s=!0,t.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function l(u){return i||r||!s?n(u):e(u)}}function uue(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(e6,e,s)(a):a===null||zn(a)||tf(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function cue(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||zn(o)||tf(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||zn(o)||tf(o)?e(o):r(o)}function s(o){return Di(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):Di(o)?(t.consume(o),a):n(o)}}function fue(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Ai(s)?n(s):e(s)}}function r6(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||zn(t)}function i6(t){return!Di(t)}function s6(t){return!(t===47||PT(t))}function PT(t){return t===43||t===45||t===46||t===95||Ai(t)}function qR(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const hue={tokenize:bue,partial:!0};function due(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:yue,continuation:{tokenize:vue},exit:xue}},text:{91:{name:"gfmFootnoteCall",tokenize:gue},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:pue,resolveTo:mue}}}}function pue(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Ua(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function mue(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function gue(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(c){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),l}function l(c){return c!==94?n(c):(t.enter("gfmFootnoteCallMarker"),t.consume(c),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(c){if(s>999||c===93&&!a||c===null||c===91||zn(c))return n(c);if(c===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(Ua(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(c)}return zn(c)||(a=!0),s++,t.consume(c),c===92?f:u}function f(c){return c===91||c===92||c===93?(t.consume(c),s++,u):u(c)}}function yue(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(m)}function f(m){if(a>999||m===93&&!o||m===null||m===91||zn(m))return n(m);if(m===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return s=Ua(r.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return zn(m)||(o=!0),a++,t.consume(m),m===92?c:f}function c(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}function h(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),i.includes(s)||i.push(s),yn(t,d,"gfmFootnoteDefinitionWhitespace")):n(m)}function d(m){return e(m)}}function vue(t,e,n){return t.check(Oy,e,t.attempt(hue,e,n))}function xue(t){t.exit("gfmFootnoteDefinition")}function bue(t,e,n){const r=this;return yn(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function _ue(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},c={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},h=[["enter",f,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",c,o]],d=o.parser.constructs.insideSpan.null;d&&Ms(h,h.length,0,Q_(d,a.slice(u+1,l),o)),Ms(h,h.length,0,[["exit",c,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",f,o]]),Ms(a,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,f=this.events;let c=0;return h;function h(m){return u===126&&f[f.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),d(m))}function d(m){const x=ad(u);if(m===126)return c>1?l(m):(a.consume(m),c++,d);if(c<2&&!n)return l(m);const v=a.exit("strikethroughSequenceTemporary"),y=ad(m);return v._open=!y||y===2&&!!x,v._close=!x||x===2&&!!y,o(m)}}}class wue{constructor(){this.map=[]}add(e,n,r){Sue(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Sue(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Aue(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Eue(){return{flow:{null:{name:"table",tokenize:Mue,resolveAll:Cue}}}}function Mue(t,e,n){const r=this;let i=0,s=0,a;return o;function o(M){let k=r.events.length-1;for(;k>-1;){const j=r.events[k][1].type;if(j==="lineEnding"||j==="linePrefix")k--;else break}const B=k>-1?r.events[k][1].type:null,H=B==="tableHead"||B==="tableRow"?A:l;return H===A&&r.parser.lazy[r.now().line]?n(M):H(M)}function l(M){return t.enter("tableHead"),t.enter("tableRow"),u(M)}function u(M){return M===124||(a=!0,s+=1),f(M)}function f(M){return M===null?n(M):Ft(M)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),d):n(M):un(M)?yn(t,f,"whitespace")(M):(s+=1,a&&(a=!1,i+=1),M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),a=!0,f):(t.enter("data"),c(M)))}function c(M){return M===null||M===124||zn(M)?(t.exit("data"),f(M)):(t.consume(M),M===92?h:c)}function h(M){return M===92||M===124?(t.consume(M),c):c(M)}function d(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(t.enter("tableDelimiterRow"),a=!1,un(M)?yn(t,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):m(M))}function m(M){return M===45||M===58?v(M):M===124?(a=!0,t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),x):E(M)}function x(M){return un(M)?yn(t,v,"whitespace")(M):v(M)}function v(M){return M===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),y):M===45?(s+=1,y(M)):M===null||Ft(M)?w(M):E(M)}function y(M){return M===45?(t.enter("tableDelimiterFiller"),_(M)):E(M)}function _(M){return M===45?(t.consume(M),_):M===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),b):(t.exit("tableDelimiterFiller"),b(M))}function b(M){return un(M)?yn(t,w,"whitespace")(M):w(M)}function w(M){return M===124?m(M):M===null||Ft(M)?!a||i!==s?E(M):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(M)):E(M)}function E(M){return n(M)}function A(M){return t.enter("tableRow"),P(M)}function P(M){return M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),P):M===null||Ft(M)?(t.exit("tableRow"),e(M)):un(M)?yn(t,P,"whitespace")(M):(t.enter("data"),I(M))}function I(M){return M===null||M===124||zn(M)?(t.exit("data"),P(M)):(t.consume(M),M===92?R:I)}function R(M){return M===92||M===124?(t.consume(M),I):I(M)}}function Cue(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,f,c;const h=new wue;for(;++n<t.length;){const d=t[n],m=d[1];d[0]==="enter"?m.type==="tableHead"?(o=!1,l!==0&&(jL(h,e,l,u,f),f=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,c=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",f,e]])),i=m.type==="tableDelimiterRow"?2:f?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],c=w0(h,e,s,i,void 0,c),s=[0,0,0,0]),a[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],c=w0(h,e,s,i,void 0,c)),s=a,a=[s[1],n,0,0])):m.type==="tableHead"?(o=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],c=w0(h,e,s,i,n,c)):a[1]!==0&&(c=w0(h,e,a,i,n,c)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&jL(h,e,l,u,f),h.consume(e.events),n=-1;++n<e.events.length;){const d=e.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=Aue(e.events,n))}return t}function w0(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},mh(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=mh(e.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=mh(e.events,n[2]),f=mh(e.events,n[3]),c={type:o,start:Object.assign({},u),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",c,e]]),r!==2){const h=e.events[n[2]],d=e.events[n[3]];if(h[1].end=Object.assign({},d[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,x=n[3]-n[2]-1;t.add(m,x,[])}}t.add(n[3]+1,0,[["exit",c,e]])}return i!==void 0&&(s.end=Object.assign({},mh(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function jL(t,e,n,r,i){const s=[],a=mh(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function mh(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Tue={name:"tasklistCheck",tokenize:Rue};function Pue(){return{text:{91:Tue}}}function Rue(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return zn(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return Ft(l)?e(l):un(l)?t.check({tokenize:Iue},e,n)(l):n(l)}}function Iue(t,e,n){return yn(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Oue(t){return m8([rue(),due(),_ue(t),Eue(),Pue()])}const kue={};function RT(t){const e=this,n=t||kue,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Oue(n)),s.push(Qle()),a.push(eue(n))}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ny="180",gc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},yc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a6=0,IT=1,o6=2,Nue=3,l6=0,rw=1,Gm=2,Aa=3,vo=0,zi=1,Js=2,ho=0,Gc=1,OT=2,kT=3,NT=4,u6=5,Ql=100,c6=101,f6=102,h6=103,d6=104,p6=200,m6=201,g6=202,y6=203,F1=204,U1=205,v6=206,x6=207,b6=208,_6=209,w6=210,S6=211,A6=212,E6=213,M6=214,z1=0,j1=1,H1=2,nf=3,G1=4,$1=5,V1=6,W1=7,By=0,C6=1,T6=2,po=0,P6=1,R6=2,I6=3,KR=4,O6=5,k6=6,N6=7,BT="attached",B6="detached",Su=300,xo=301,Au=302,od=303,Ag=304,ep=306,Eu=1e3,vr=1001,ld=1002,Jr=1003,iw=1004,Bue=1004,Pc=1005,Due=1005,Pn=1006,Gh=1007,Lue=1007,Qs=1008,DT=1008,ji=1009,sw=1010,aw=1011,ud=1012,Dy=1013,bo=1014,sr=1015,qr=1016,ow=1017,lw=1018,cd=1020,JR=35902,YR=35899,ZR=1021,QR=1022,xr=1023,fd=1026,hd=1027,Ly=1028,Fy=1029,eI=1030,uw=1031,Fue=1032,cw=1033,$m=33776,Vm=33777,Wm=33778,Xm=33779,X1=35840,q1=35841,K1=35842,J1=35843,Y1=36196,Z1=37492,Q1=37496,eb=37808,tb=37809,nb=37810,rb=37811,ib=37812,sb=37813,ab=37814,ob=37815,lb=37816,ub=37817,cb=37818,fb=37819,hb=37820,db=37821,pb=36492,mb=36494,gb=36495,yb=36283,vb=36284,xb=36285,bb=36286,D6=2200,tI=2201,L6=2202,dd=2300,pd=2301,e1=2302,Rc=2400,Ic=2401,Eg=2402,fw=2500,nI=2501,F6=0,rI=1,_b=2,U6=3200,z6=3201,Uue=3202,zue=3203,Nu=0,j6=1,qo="",Bi="srgb",_o="srgb-linear",Mg="linear",kn="srgb",jue=0,vc=7680,Hue=7681,Gue=7682,$ue=7683,Vue=34055,Wue=34056,Xue=5386,que=512,Kue=513,Jue=514,Yue=515,Zue=516,Que=517,ece=518,LT=519,H6=512,G6=513,$6=514,iI=515,V6=516,W6=517,X6=518,q6=519,Cg=35044,tce=35048,nce=35040,rce=35045,ice=35049,sce=35041,ace=35046,oce=35050,lce=35042,uce="100",FT="300 es",As=2e3,md=2001,cce={COMPUTE:"compute",RENDER:"render"},fce={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},hce={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Ao=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const gi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let HL=1234567;const $c=Math.PI/180,gd=180/Math.PI;function Cs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(gi[t&255]+gi[t>>8&255]+gi[t>>16&255]+gi[t>>24&255]+"-"+gi[e&255]+gi[e>>8&255]+"-"+gi[e>>16&15|64]+gi[e>>24&255]+"-"+gi[n&63|128]+gi[n>>8&255]+"-"+gi[n>>16&255]+gi[n>>24&255]+gi[r&255]+gi[r>>8&255]+gi[r>>16&255]+gi[r>>24&255]).toLowerCase()}function Gt(t,e,n){return Math.max(e,Math.min(n,t))}function sI(t,e){return(t%e+e)%e}function dce(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function pce(t,e,n){return t!==e?(n-t)/(e-t):0}function qm(t,e,n){return(1-n)*t+n*e}function mce(t,e,n,r){return qm(t,e,1-Math.exp(-n*r))}function gce(t,e=1){return e-Math.abs(sI(t,e*2)-e)}function yce(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function vce(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function xce(t,e){return t+Math.floor(Math.random()*(e-t+1))}function bce(t,e){return t+Math.random()*(e-t)}function _ce(t){return t*(.5-Math.random())}function wce(t){t!==void 0&&(HL=t);let e=HL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Sce(t){return t*$c}function Ace(t){return t*gd}function Ece(t){return(t&t-1)===0&&t!==0}function Mce(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Cce(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Tce(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),u=s((e+r)/2),f=a((e+r)/2),c=s((e-r)/2),h=a((e-r)/2),d=s((r-e)/2),m=a((r-e)/2);switch(i){case"XYX":t.set(o*f,l*c,l*h,o*u);break;case"YZY":t.set(l*h,o*f,l*c,o*u);break;case"ZXZ":t.set(l*c,l*h,o*f,o*u);break;case"XZX":t.set(o*f,l*m,l*d,o*u);break;case"YXY":t.set(l*d,o*f,l*m,o*u);break;case"ZYZ":t.set(l*m,l*d,o*f,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Li(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function qt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const K6={DEG2RAD:$c,RAD2DEG:gd,generateUUID:Cs,clamp:Gt,euclideanModulo:sI,mapLinear:dce,inverseLerp:pce,lerp:qm,damp:mce,pingpong:gce,smoothstep:yce,smootherstep:vce,randInt:xce,randFloat:bce,randFloatSpread:_ce,seededRandom:wce,degToRad:Sce,radToDeg:Ace,isPowerOfTwo:Ece,ceilPowerOfTwo:Mce,floorPowerOfTwo:Cce,setQuaternionFromProperEuler:Tce,normalize:qt,denormalize:Li};class ze{constructor(e=0,n=0){ze.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Gt(this.x,e.x,n.x),this.y=Gt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Gt(this.x,e,n),this.y=Gt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Gt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Yr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],u=r[i+1],f=r[i+2],c=r[i+3];const h=s[a+0],d=s[a+1],m=s[a+2],x=s[a+3];if(o===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=c;return}if(o===1){e[n+0]=h,e[n+1]=d,e[n+2]=m,e[n+3]=x;return}if(c!==x||l!==h||u!==d||f!==m){let v=1-o;const y=l*h+u*d+f*m+c*x,_=y>=0?1:-1,b=1-y*y;if(b>Number.EPSILON){const E=Math.sqrt(b),A=Math.atan2(E,y*_);v=Math.sin(v*A)/E,o=Math.sin(o*A)/E}const w=o*_;if(l=l*v+h*w,u=u*v+d*w,f=f*v+m*w,c=c*v+x*w,v===1-o){const E=1/Math.sqrt(l*l+u*u+f*f+c*c);l*=E,u*=E,f*=E,c*=E}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=c}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],f=r[i+3],c=s[a],h=s[a+1],d=s[a+2],m=s[a+3];return e[n]=o*m+f*c+l*d-u*h,e[n+1]=l*m+f*h+u*c-o*d,e[n+2]=u*m+f*d+o*h-l*c,e[n+3]=f*m-o*c-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(r/2),f=o(i/2),c=o(s/2),h=l(r/2),d=l(i/2),m=l(s/2);switch(a){case"XYZ":this._x=h*f*c+u*d*m,this._y=u*d*c-h*f*m,this._z=u*f*m+h*d*c,this._w=u*f*c-h*d*m;break;case"YXZ":this._x=h*f*c+u*d*m,this._y=u*d*c-h*f*m,this._z=u*f*m-h*d*c,this._w=u*f*c+h*d*m;break;case"ZXY":this._x=h*f*c-u*d*m,this._y=u*d*c+h*f*m,this._z=u*f*m+h*d*c,this._w=u*f*c-h*d*m;break;case"ZYX":this._x=h*f*c-u*d*m,this._y=u*d*c+h*f*m,this._z=u*f*m-h*d*c,this._w=u*f*c+h*d*m;break;case"YZX":this._x=h*f*c+u*d*m,this._y=u*d*c+h*f*m,this._z=u*f*m-h*d*c,this._w=u*f*c-h*d*m;break;case"XZY":this._x=h*f*c-u*d*m,this._y=u*d*c-h*f*m,this._z=u*f*m+h*d*c,this._w=u*f*c+h*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],u=n[2],f=n[6],c=n[10],h=r+o+c;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(f-l)*d,this._y=(s-u)*d,this._z=(a-i)*d}else if(r>o&&r>c){const d=2*Math.sqrt(1+r-o-c);this._w=(f-l)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(s+u)/d}else if(o>c){const d=2*Math.sqrt(1+o-r-c);this._w=(s-u)/d,this._x=(i+a)/d,this._y=.25*d,this._z=(l+f)/d}else{const d=2*Math.sqrt(1+c-r-o);this._w=(a-i)/d,this._x=(s+u)/d,this._y=(l+f)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+a*o+i*u-s*l,this._y=i*f+a*l+s*o-r*u,this._z=s*f+a*u+r*l-i*o,this._w=a*f-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const d=1-n;return this._w=d*a+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),f=Math.atan2(u,o),c=Math.sin((1-n)*f)/u,h=Math.sin(n*f)/u;return this._w=a*c+this._w*h,this._x=r*c+this._x*h,this._y=i*c+this._y*h,this._z=s*c+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(GL.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(GL.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*i-o*r),f=2*(o*n-s*i),c=2*(s*r-a*n);return this.x=n+l*u+a*c-o*f,this.y=r+l*f+o*u-s*c,this.z=i+l*c+s*f-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Gt(this.x,e.x,n.x),this.y=Gt(this.y,e.y,n.y),this.z=Gt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Gt(this.x,e,n),this.y=Gt(this.y,e,n),this.z=Gt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return EE.copy(this).projectOnVector(e),this.sub(EE)}reflect(e){return this.sub(EE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Gt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const EE=new J,GL=new Yr;class Xt{constructor(e,n,r,i,s,a,o,l,u){Xt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,u)}set(e,n,r,i,s,a,o,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=o,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=a,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],u=r[1],f=r[4],c=r[7],h=r[2],d=r[5],m=r[8],x=i[0],v=i[3],y=i[6],_=i[1],b=i[4],w=i[7],E=i[2],A=i[5],P=i[8];return s[0]=a*x+o*_+l*E,s[3]=a*v+o*b+l*A,s[6]=a*y+o*w+l*P,s[1]=u*x+f*_+c*E,s[4]=u*v+f*b+c*A,s[7]=u*y+f*w+c*P,s[2]=h*x+d*_+m*E,s[5]=h*v+d*b+m*A,s[8]=h*y+d*w+m*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],f=e[8];return n*a*f-n*o*u-r*s*f+r*o*l+i*s*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],f=e[8],c=f*a-o*u,h=o*l-f*s,d=u*s-a*l,m=n*c+r*h+i*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/m;return e[0]=c*x,e[1]=(i*u-f*r)*x,e[2]=(o*r-i*a)*x,e[3]=h*x,e[4]=(f*n-i*l)*x,e[5]=(i*s-o*n)*x,e[6]=d*x,e[7]=(r*l-u*n)*x,e[8]=(a*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*a+u*o)+a+e,-i*u,i*l,-i*(-u*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(ME.makeScale(e,n)),this}rotate(e){return this.premultiply(ME.makeRotation(-e)),this}translate(e,n){return this.premultiply(ME.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ME=new Xt;function J6(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Pce={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rh(t,e){return new Pce[t](e)}function Tg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Y6(){const t=Tg("canvas");return t.style.display="block",t}const $L={};function Pg(t){t in $L||($L[t]=!0,console.warn(t))}function Rce(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const VL=new Xt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),WL=new Xt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ice(){const t={enabled:!0,workingColorSpace:_o,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===kn&&(i.r=rl(i.r),i.g=rl(i.g),i.b=rl(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===kn&&(i.r=$h(i.r),i.g=$h(i.g),i.b=$h(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===qo?Mg:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Pg("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Pg("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[_o]:{primaries:e,whitePoint:r,transfer:Mg,toXYZ:VL,fromXYZ:WL,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Bi},outputColorSpaceConfig:{drawingBufferColorSpace:Bi}},[Bi]:{primaries:e,whitePoint:r,transfer:kn,toXYZ:VL,fromXYZ:WL,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Bi}}}),t}const gn=Ice();function rl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function $h(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Gf;class Z6{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Gf===void 0&&(Gf=Tg("canvas")),Gf.width=e.width,Gf.height=e.height;const i=Gf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Gf}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Tg("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=rl(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(rl(n[r]/255)*255):n[r]=rl(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Oce=0;class su{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Oce++}),this.uuid=Cs(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(CE(i[a].image)):s.push(CE(i[a]))}else s=CE(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function CE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Z6.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kce=0;const TE=new J;class In extends Ao{constructor(e=In.DEFAULT_IMAGE,n=In.DEFAULT_MAPPING,r=vr,i=vr,s=Pn,a=Qs,o=xr,l=ji,u=In.DEFAULT_ANISOTROPY,f=qo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kce++}),this.uuid=Cs(),this.name="",this.source=new su(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(TE).x}get height(){return this.source.getSize(TE).y}get depth(){return this.source.getSize(TE).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Su)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Eu:e.x=e.x-Math.floor(e.x);break;case vr:e.x=e.x<0?0:1;break;case ld:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Eu:e.y=e.y-Math.floor(e.y);break;case vr:e.y=e.y<0?0:1;break;case ld:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}In.DEFAULT_IMAGE=null;In.DEFAULT_MAPPING=Su;In.DEFAULT_ANISOTROPY=1;class xn{constructor(e=0,n=0,r=0,i=1){xn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],f=l[4],c=l[8],h=l[1],d=l[5],m=l[9],x=l[2],v=l[6],y=l[10];if(Math.abs(f-h)<.01&&Math.abs(c-x)<.01&&Math.abs(m-v)<.01){if(Math.abs(f+h)<.1&&Math.abs(c+x)<.1&&Math.abs(m+v)<.1&&Math.abs(u+d+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,w=(d+1)/2,E=(y+1)/2,A=(f+h)/4,P=(c+x)/4,I=(m+v)/4;return b>w&&b>E?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=A/r,s=P/r):w>E?w<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(w),r=A/i,s=I/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=P/s,i=I/s),this.set(r,i,s,n),this}let _=Math.sqrt((v-m)*(v-m)+(c-x)*(c-x)+(h-f)*(h-f));return Math.abs(_)<.001&&(_=1),this.x=(v-m)/_,this.y=(c-x)/_,this.z=(h-f)/_,this.w=Math.acos((u+d+y-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Gt(this.x,e.x,n.x),this.y=Gt(this.y,e.y,n.y),this.z=Gt(this.z,e.z,n.z),this.w=Gt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Gt(this.x,e,n),this.y=Gt(this.y,e,n),this.z=Gt(this.z,e,n),this.w=Gt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class aI extends Ao{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new xn(0,0,e,n),this.scissorTest=!1,this.viewport=new xn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new In(i);this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Pn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new su(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class os extends aI{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class hw extends In{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Jr,this.minFilter=Jr,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Nce extends os{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new hw(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class dw extends In{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Jr,this.minFilter=Jr,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bce extends os{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new dw(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Zr{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ga.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ga.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ga.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,ga):ga.fromBufferAttribute(s,a),ga.applyMatrix4(e.matrixWorld),this.expandByPoint(ga);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),S0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),S0.copy(r.boundingBox)),S0.applyMatrix4(e.matrixWorld),this.union(S0)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ga),ga.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xp),A0.subVectors(this.max,Xp),$f.subVectors(e.a,Xp),Vf.subVectors(e.b,Xp),Wf.subVectors(e.c,Xp),Ll.subVectors(Vf,$f),Fl.subVectors(Wf,Vf),Zu.subVectors($f,Wf);let n=[0,-Ll.z,Ll.y,0,-Fl.z,Fl.y,0,-Zu.z,Zu.y,Ll.z,0,-Ll.x,Fl.z,0,-Fl.x,Zu.z,0,-Zu.x,-Ll.y,Ll.x,0,-Fl.y,Fl.x,0,-Zu.y,Zu.x,0];return!PE(n,$f,Vf,Wf,A0)||(n=[1,0,0,0,1,0,0,0,1],!PE(n,$f,Vf,Wf,A0))?!1:(E0.crossVectors(Ll,Fl),n=[E0.x,E0.y,E0.z],PE(n,$f,Vf,Wf,A0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ga).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ga).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Do[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Do[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Do[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Do[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Do[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Do[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Do[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Do[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Do),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Do=[new J,new J,new J,new J,new J,new J,new J,new J],ga=new J,S0=new Zr,$f=new J,Vf=new J,Wf=new J,Ll=new J,Fl=new J,Zu=new J,Xp=new J,A0=new J,E0=new J,Qu=new J;function PE(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){Qu.fromArray(t,s);const o=i.x*Math.abs(Qu.x)+i.y*Math.abs(Qu.y)+i.z*Math.abs(Qu.z),l=e.dot(Qu),u=n.dot(Qu),f=r.dot(Qu);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>o)return!1}return!0}const Dce=new Zr,qp=new J,RE=new J;class Qr{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Dce.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;qp.subVectors(e,this.center);const n=qp.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(qp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(RE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(qp.copy(e.center).add(RE)),this.expandByPoint(qp.copy(e.center).sub(RE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Lo=new J,IE=new J,M0=new J,Ul=new J,OE=new J,C0=new J,kE=new J;class vf{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Lo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Lo.copy(this.origin).addScaledVector(this.direction,n),Lo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){IE.copy(e).add(n).multiplyScalar(.5),M0.copy(n).sub(e).normalize(),Ul.copy(this.origin).sub(IE);const s=e.distanceTo(n)*.5,a=-this.direction.dot(M0),o=Ul.dot(this.direction),l=-Ul.dot(M0),u=Ul.lengthSq(),f=Math.abs(1-a*a);let c,h,d,m;if(f>0)if(c=a*l-o,h=a*o-l,m=s*f,c>=0)if(h>=-m)if(h<=m){const x=1/f;c*=x,h*=x,d=c*(c+a*h+2*o)+h*(a*c+h+2*l)+u}else h=s,c=Math.max(0,-(a*h+o)),d=-c*c+h*(h+2*l)+u;else h=-s,c=Math.max(0,-(a*h+o)),d=-c*c+h*(h+2*l)+u;else h<=-m?(c=Math.max(0,-(-a*s+o)),h=c>0?-s:Math.min(Math.max(-s,-l),s),d=-c*c+h*(h+2*l)+u):h<=m?(c=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+u):(c=Math.max(0,-(a*s+o)),h=c>0?s:Math.min(Math.max(-s,-l),s),d=-c*c+h*(h+2*l)+u);else h=a>0?-s:s,c=Math.max(0,-(a*h+o)),d=-c*c+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,c),i&&i.copy(IE).addScaledVector(M0,h),d}intersectSphere(e,n){Lo.subVectors(e.center,this.origin);const r=Lo.dot(this.direction),i=Lo.dot(Lo)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const u=1/this.direction.x,f=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),f>=0?(s=(e.min.y-h.y)*f,a=(e.max.y-h.y)*f):(s=(e.max.y-h.y)*f,a=(e.min.y-h.y)*f),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),c>=0?(o=(e.min.z-h.z)*c,l=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,l=(e.min.z-h.z)*c),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Lo)!==null}intersectTriangle(e,n,r,i,s){OE.subVectors(n,e),C0.subVectors(r,e),kE.crossVectors(OE,C0);let a=this.direction.dot(kE),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Ul.subVectors(this.origin,e);const l=o*this.direction.dot(C0.crossVectors(Ul,C0));if(l<0)return null;const u=o*this.direction.dot(OE.cross(Ul));if(u<0||l+u>a)return null;const f=-o*Ul.dot(kE);return f<0?null:this.at(f/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ut{constructor(e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v)}set(e,n,r,i,s,a,o,l,u,f,c,h,d,m,x,v){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=s,y[5]=a,y[9]=o,y[13]=l,y[2]=u,y[6]=f,y[10]=c,y[14]=h,y[3]=d,y[7]=m,y[11]=x,y[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ut().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Xf.setFromMatrixColumn(e,0).length(),s=1/Xf.setFromMatrixColumn(e,1).length(),a=1/Xf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),c=Math.sin(s);if(e.order==="XYZ"){const h=a*f,d=a*c,m=o*f,x=o*c;n[0]=l*f,n[4]=-l*c,n[8]=u,n[1]=d+m*u,n[5]=h-x*u,n[9]=-o*l,n[2]=x-h*u,n[6]=m+d*u,n[10]=a*l}else if(e.order==="YXZ"){const h=l*f,d=l*c,m=u*f,x=u*c;n[0]=h+x*o,n[4]=m*o-d,n[8]=a*u,n[1]=a*c,n[5]=a*f,n[9]=-o,n[2]=d*o-m,n[6]=x+h*o,n[10]=a*l}else if(e.order==="ZXY"){const h=l*f,d=l*c,m=u*f,x=u*c;n[0]=h-x*o,n[4]=-a*c,n[8]=m+d*o,n[1]=d+m*o,n[5]=a*f,n[9]=x-h*o,n[2]=-a*u,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const h=a*f,d=a*c,m=o*f,x=o*c;n[0]=l*f,n[4]=m*u-d,n[8]=h*u+x,n[1]=l*c,n[5]=x*u+h,n[9]=d*u-m,n[2]=-u,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,d=a*u,m=o*l,x=o*u;n[0]=l*f,n[4]=x-h*c,n[8]=m*c+d,n[1]=c,n[5]=a*f,n[9]=-o*f,n[2]=-u*f,n[6]=d*c+m,n[10]=h-x*c}else if(e.order==="XZY"){const h=a*l,d=a*u,m=o*l,x=o*u;n[0]=l*f,n[4]=-c,n[8]=u*f,n[1]=h*c+x,n[5]=a*f,n[9]=d*c-m,n[2]=m*c-d,n[6]=o*f,n[10]=x*c+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Lce,e,Fce)}lookAt(e,n,r){const i=this.elements;return ps.subVectors(e,n),ps.lengthSq()===0&&(ps.z=1),ps.normalize(),zl.crossVectors(r,ps),zl.lengthSq()===0&&(Math.abs(r.z)===1?ps.x+=1e-4:ps.z+=1e-4,ps.normalize(),zl.crossVectors(r,ps)),zl.normalize(),T0.crossVectors(ps,zl),i[0]=zl.x,i[4]=T0.x,i[8]=ps.x,i[1]=zl.y,i[5]=T0.y,i[9]=ps.y,i[2]=zl.z,i[6]=T0.z,i[10]=ps.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],f=r[1],c=r[5],h=r[9],d=r[13],m=r[2],x=r[6],v=r[10],y=r[14],_=r[3],b=r[7],w=r[11],E=r[15],A=i[0],P=i[4],I=i[8],R=i[12],M=i[1],k=i[5],B=i[9],H=i[13],j=i[2],V=i[6],X=i[10],Z=i[14],L=i[3],W=i[7],N=i[11],q=i[15];return s[0]=a*A+o*M+l*j+u*L,s[4]=a*P+o*k+l*V+u*W,s[8]=a*I+o*B+l*X+u*N,s[12]=a*R+o*H+l*Z+u*q,s[1]=f*A+c*M+h*j+d*L,s[5]=f*P+c*k+h*V+d*W,s[9]=f*I+c*B+h*X+d*N,s[13]=f*R+c*H+h*Z+d*q,s[2]=m*A+x*M+v*j+y*L,s[6]=m*P+x*k+v*V+y*W,s[10]=m*I+x*B+v*X+y*N,s[14]=m*R+x*H+v*Z+y*q,s[3]=_*A+b*M+w*j+E*L,s[7]=_*P+b*k+w*V+E*W,s[11]=_*I+b*B+w*X+E*N,s[15]=_*R+b*H+w*Z+E*q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],f=e[2],c=e[6],h=e[10],d=e[14],m=e[3],x=e[7],v=e[11],y=e[15];return m*(+s*l*c-i*u*c-s*o*h+r*u*h+i*o*d-r*l*d)+x*(+n*l*d-n*u*h+s*a*h-i*a*d+i*u*f-s*l*f)+v*(+n*u*c-n*o*d-s*a*c+r*a*d+s*o*f-r*u*f)+y*(-i*o*f-n*l*c+n*o*h+i*a*c-r*a*h+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],m=e[12],x=e[13],v=e[14],y=e[15],_=c*v*u-x*h*u+x*l*d-o*v*d-c*l*y+o*h*y,b=m*h*u-f*v*u-m*l*d+a*v*d+f*l*y-a*h*y,w=f*x*u-m*c*u+m*o*d-a*x*d-f*o*y+a*c*y,E=m*c*l-f*x*l-m*o*h+a*x*h+f*o*v-a*c*v,A=n*_+r*b+i*w+s*E;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/A;return e[0]=_*P,e[1]=(x*h*s-c*v*s-x*i*d+r*v*d+c*i*y-r*h*y)*P,e[2]=(o*v*s-x*l*s+x*i*u-r*v*u-o*i*y+r*l*y)*P,e[3]=(c*l*s-o*h*s-c*i*u+r*h*u+o*i*d-r*l*d)*P,e[4]=b*P,e[5]=(f*v*s-m*h*s+m*i*d-n*v*d-f*i*y+n*h*y)*P,e[6]=(m*l*s-a*v*s-m*i*u+n*v*u+a*i*y-n*l*y)*P,e[7]=(a*h*s-f*l*s+f*i*u-n*h*u-a*i*d+n*l*d)*P,e[8]=w*P,e[9]=(m*c*s-f*x*s-m*r*d+n*x*d+f*r*y-n*c*y)*P,e[10]=(a*x*s-m*o*s+m*r*u-n*x*u-a*r*y+n*o*y)*P,e[11]=(f*o*s-a*c*s-f*r*u+n*c*u+a*r*d-n*o*d)*P,e[12]=E*P,e[13]=(f*x*i-m*c*i+m*r*h-n*x*h-f*r*v+n*c*v)*P,e[14]=(m*o*i-a*x*i-m*r*l+n*x*l+a*r*v-n*o*v)*P,e[15]=(a*c*i-f*o*i+f*r*l-n*c*l-a*r*h+n*o*h)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,u=s*a,f=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,f*o+r,f*l-i*a,0,u*l-i*o,f*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,u=s+s,f=a+a,c=o+o,h=s*u,d=s*f,m=s*c,x=a*f,v=a*c,y=o*c,_=l*u,b=l*f,w=l*c,E=r.x,A=r.y,P=r.z;return i[0]=(1-(x+y))*E,i[1]=(d+w)*E,i[2]=(m-b)*E,i[3]=0,i[4]=(d-w)*A,i[5]=(1-(h+y))*A,i[6]=(v+_)*A,i[7]=0,i[8]=(m+b)*P,i[9]=(v-_)*P,i[10]=(1-(h+x))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Xf.set(i[0],i[1],i[2]).length();const a=Xf.set(i[4],i[5],i[6]).length(),o=Xf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ya.copy(this);const u=1/s,f=1/a,c=1/o;return ya.elements[0]*=u,ya.elements[1]*=u,ya.elements[2]*=u,ya.elements[4]*=f,ya.elements[5]*=f,ya.elements[6]*=f,ya.elements[8]*=c,ya.elements[9]*=c,ya.elements[10]*=c,n.setFromRotationMatrix(ya),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=As,l=!1){const u=this.elements,f=2*s/(n-e),c=2*s/(r-i),h=(n+e)/(n-e),d=(r+i)/(r-i);let m,x;if(l)m=s/(a-s),x=a*s/(a-s);else if(o===As)m=-(a+s)/(a-s),x=-2*a*s/(a-s);else if(o===md)m=-a/(a-s),x=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return u[0]=f,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=c,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=x,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=As,l=!1){const u=this.elements,f=2/(n-e),c=2/(r-i),h=-(n+e)/(n-e),d=-(r+i)/(r-i);let m,x;if(l)m=1/(a-s),x=a/(a-s);else if(o===As)m=-2/(a-s),x=-(a+s)/(a-s);else if(o===md)m=-1/(a-s),x=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return u[0]=f,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=c,u[9]=0,u[13]=d,u[2]=0,u[6]=0,u[10]=m,u[14]=x,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Xf=new J,ya=new Ut,Lce=new J(0,0,0),Fce=new J(1,1,1),zl=new J,T0=new J,ps=new J,XL=new Ut,qL=new Yr;class Ps{constructor(e=0,n=0,r=0,i=Ps.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],f=i[9],c=i[2],h=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(Gt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,d),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,s),this._z=0);break;case"ZXY":this._x=Math.asin(Gt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Gt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Gt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-c,s)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Gt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-f,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return XL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return qL.setFromEuler(this),this.setFromQuaternion(qL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ps.DEFAULT_ORDER="XYZ";class Vc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Uce=0;const KL=new J,qf=new Yr,Fo=new Ut,P0=new J,Kp=new J,zce=new J,jce=new Yr,JL=new J(1,0,0),YL=new J(0,1,0),ZL=new J(0,0,1),QL={type:"added"},Hce={type:"removed"},Kf={type:"childadded",child:null},NE={type:"childremoved",child:null};class pn extends Ao{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Uce++}),this.uuid=Cs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pn.DEFAULT_UP.clone();const e=new J,n=new Ps,r=new Yr,i=new J(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ut},normalMatrix:{value:new Xt}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Vc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return qf.setFromAxisAngle(e,n),this.quaternion.multiply(qf),this}rotateOnWorldAxis(e,n){return qf.setFromAxisAngle(e,n),this.quaternion.premultiply(qf),this}rotateX(e){return this.rotateOnAxis(JL,e)}rotateY(e){return this.rotateOnAxis(YL,e)}rotateZ(e){return this.rotateOnAxis(ZL,e)}translateOnAxis(e,n){return KL.copy(e).applyQuaternion(this.quaternion),this.position.add(KL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(JL,e)}translateY(e){return this.translateOnAxis(YL,e)}translateZ(e){return this.translateOnAxis(ZL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?P0.copy(e):P0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Kp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fo.lookAt(Kp,P0,this.up):Fo.lookAt(P0,Kp,this.up),this.quaternion.setFromRotationMatrix(Fo),i&&(Fo.extractRotation(i.matrixWorld),qf.setFromRotationMatrix(Fo),this.quaternion.premultiply(qf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(QL),Kf.child=e,this.dispatchEvent(Kf),Kf.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Hce),NE.child=e,this.dispatchEvent(NE),NE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Fo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(QL),Kf.child=e,this.dispatchEvent(Kf),Kf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kp,e,zce),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kp,jce,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const c=l[u];s(e.shapes,c)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),f=a(e.images),c=a(e.shapes),h=a(e.skeletons),d=a(e.animations),m=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),c.length>0&&(r.shapes=c),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),m.length>0&&(r.nodes=m)}return r.object=i,r;function a(o){const l=[];for(const u in o){const f=o[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}pn.DEFAULT_UP=new J(0,1,0);pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const va=new J,Uo=new J,BE=new J,zo=new J,Jf=new J,Yf=new J,e3=new J,DE=new J,LE=new J,FE=new J,UE=new xn,zE=new xn,jE=new xn;class Zi{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),va.subVectors(e,n),i.cross(va);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){va.subVectors(i,n),Uo.subVectors(r,n),BE.subVectors(e,n);const a=va.dot(va),o=va.dot(Uo),l=va.dot(BE),u=Uo.dot(Uo),f=Uo.dot(BE),c=a*u-o*o;if(c===0)return s.set(0,0,0),null;const h=1/c,d=(u*l-o*f)*h,m=(a*f-o*l)*h;return s.set(1-d-m,m,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,zo)===null?!1:zo.x>=0&&zo.y>=0&&zo.x+zo.y<=1}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,zo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,zo.x),l.addScaledVector(a,zo.y),l.addScaledVector(o,zo.z),l)}static getInterpolatedAttribute(e,n,r,i,s,a){return UE.setScalar(0),zE.setScalar(0),jE.setScalar(0),UE.fromBufferAttribute(e,n),zE.fromBufferAttribute(e,r),jE.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(UE,s.x),a.addScaledVector(zE,s.y),a.addScaledVector(jE,s.z),a}static isFrontFacing(e,n,r,i){return va.subVectors(r,n),Uo.subVectors(e,n),va.cross(Uo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return va.subVectors(this.c,this.b),Uo.subVectors(this.a,this.b),va.cross(Uo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Zi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Zi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Zi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;Jf.subVectors(i,r),Yf.subVectors(s,r),DE.subVectors(e,r);const l=Jf.dot(DE),u=Yf.dot(DE);if(l<=0&&u<=0)return n.copy(r);LE.subVectors(e,i);const f=Jf.dot(LE),c=Yf.dot(LE);if(f>=0&&c<=f)return n.copy(i);const h=l*c-f*u;if(h<=0&&l>=0&&f<=0)return a=l/(l-f),n.copy(r).addScaledVector(Jf,a);FE.subVectors(e,s);const d=Jf.dot(FE),m=Yf.dot(FE);if(m>=0&&d<=m)return n.copy(s);const x=d*u-l*m;if(x<=0&&u>=0&&m<=0)return o=u/(u-m),n.copy(r).addScaledVector(Yf,o);const v=f*m-d*c;if(v<=0&&c-f>=0&&d-m>=0)return e3.subVectors(s,i),o=(c-f)/(c-f+(d-m)),n.copy(i).addScaledVector(e3,o);const y=1/(v+x+h);return a=x*y,o=h*y,n.copy(r).addScaledVector(Jf,a).addScaledVector(Yf,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Q6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jl={h:0,s:0,l:0},R0={h:0,s:0,l:0};function HE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let dt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Bi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=gn.workingColorSpace){return this.r=e,this.g=n,this.b=r,gn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=gn.workingColorSpace){if(e=sI(e,1),n=Gt(n,0,1),r=Gt(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=HE(a,s,e+1/3),this.g=HE(a,s,e),this.b=HE(a,s,e-1/3)}return gn.colorSpaceToWorking(this,i),this}setStyle(e,n=Bi){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Bi){const r=Q6[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rl(e.r),this.g=rl(e.g),this.b=rl(e.b),this}copyLinearToSRGB(e){return this.r=$h(e.r),this.g=$h(e.g),this.b=$h(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bi){return gn.workingToColorSpace(yi.copy(this),e),Math.round(Gt(yi.r*255,0,255))*65536+Math.round(Gt(yi.g*255,0,255))*256+Math.round(Gt(yi.b*255,0,255))}getHexString(e=Bi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=gn.workingColorSpace){gn.workingToColorSpace(yi.copy(this),n);const r=yi.r,i=yi.g,s=yi.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,u;const f=(o+a)/2;if(o===a)l=0,u=0;else{const c=a-o;switch(u=f<=.5?c/(a+o):c/(2-a-o),a){case r:l=(i-s)/c+(i<s?6:0);break;case i:l=(s-r)/c+2;break;case s:l=(r-i)/c+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=gn.workingColorSpace){return gn.workingToColorSpace(yi.copy(this),n),e.r=yi.r,e.g=yi.g,e.b=yi.b,e}getStyle(e=Bi){gn.workingToColorSpace(yi.copy(this),e);const n=yi.r,r=yi.g,i=yi.b;return e!==Bi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(jl),this.setHSL(jl.h+e,jl.s+n,jl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(jl),e.getHSL(R0);const r=qm(jl.h,R0.h,n),i=qm(jl.s,R0.s,n),s=qm(jl.l,R0.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const yi=new dt;dt.NAMES=Q6;let Gce=0;class Fr extends Ao{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Gce++}),this.uuid=Cs(),this.name="",this.type="Material",this.blending=Gc,this.side=vo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=F1,this.blendDst=U1,this.blendEquation=Ql,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new dt(0,0,0),this.blendAlpha=0,this.depthFunc=nf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=vc,this.stencilZFail=vc,this.stencilZPass=vc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Gc&&(r.blending=this.blending),this.side!==vo&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==F1&&(r.blendSrc=this.blendSrc),this.blendDst!==U1&&(r.blendDst=this.blendDst),this.blendEquation!==Ql&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==nf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==LT&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==vc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==vc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==vc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class es extends Fr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=By,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ko=$ce();function $ce(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function Ji(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Gt(t,-65504,65504),Ko.floatView[0]=t;const e=Ko.uint32View[0],n=e>>23&511;return Ko.baseTable[n]+((e&8388607)>>Ko.shiftTable[n])}function Em(t){const e=t>>10;return Ko.uint32View[0]=Ko.mantissaTable[Ko.offsetTable[e]+(t&1023)]+Ko.exponentTable[e],Ko.floatView[0]}class Oc{static toHalfFloat(e){return Ji(e)}static fromHalfFloat(e){return Em(e)}}const Er=new J,I0=new ze;let Vce=0;class wn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Vce++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Cg,this.updateRanges=[],this.gpuType=sr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)I0.fromBufferAttribute(this,n),I0.applyMatrix3(e),this.setXY(n,I0.x,I0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix3(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix4(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyNormalMatrix(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.transformDirection(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Li(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=qt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Li(n,this.array)),n}setX(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Li(n,this.array)),n}setY(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Li(n,this.array)),n}setZ(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Li(n,this.array)),n}setW(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array),s=qt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Cg&&(e.usage=this.usage),e}}class Wce extends wn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Xce extends wn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class qce extends wn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Kce extends wn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class oI extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Jce extends wn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class lI extends wn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Yce extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Em(this.array[e*this.itemSize]);return this.normalized&&(n=Li(n,this.array)),n}setX(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize]=Ji(n),this}getY(e){let n=Em(this.array[e*this.itemSize+1]);return this.normalized&&(n=Li(n,this.array)),n}setY(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+1]=Ji(n),this}getZ(e){let n=Em(this.array[e*this.itemSize+2]);return this.normalized&&(n=Li(n,this.array)),n}setZ(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+2]=Ji(n),this}getW(e){let n=Em(this.array[e*this.itemSize+3]);return this.normalized&&(n=Li(n,this.array)),n}setW(e,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+3]=Ji(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array)),this.array[e+0]=Ji(n),this.array[e+1]=Ji(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.array[e+0]=Ji(n),this.array[e+1]=Ji(r),this.array[e+2]=Ji(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array),s=qt(s,this.array)),this.array[e+0]=Ji(n),this.array[e+1]=Ji(r),this.array[e+2]=Ji(i),this.array[e+3]=Ji(s),this}}class Ct extends wn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Zce=0;const Hs=new Ut,GE=new pn,Zf=new J,ms=new Zr,Jp=new Zr,Vr=new J;class $t extends Ao{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zce++}),this.uuid=Cs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(J6(e)?lI:oI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Xt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Hs.makeRotationFromQuaternion(e),this.applyMatrix4(Hs),this}rotateX(e){return Hs.makeRotationX(e),this.applyMatrix4(Hs),this}rotateY(e){return Hs.makeRotationY(e),this.applyMatrix4(Hs),this}rotateZ(e){return Hs.makeRotationZ(e),this.applyMatrix4(Hs),this}translate(e,n,r){return Hs.makeTranslation(e,n,r),this.applyMatrix4(Hs),this}scale(e,n,r){return Hs.makeScale(e,n,r),this.applyMatrix4(Hs),this}lookAt(e){return GE.lookAt(e),GE.updateMatrix(),this.applyMatrix4(GE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zf).negate(),this.translate(Zf.x,Zf.y,Zf.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ct(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ms.setFromBufferAttribute(s),this.morphTargetsRelative?(Vr.addVectors(this.boundingBox.min,ms.min),this.boundingBox.expandByPoint(Vr),Vr.addVectors(this.boundingBox.max,ms.max),this.boundingBox.expandByPoint(Vr)):(this.boundingBox.expandByPoint(ms.min),this.boundingBox.expandByPoint(ms.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(ms.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];Jp.setFromBufferAttribute(o),this.morphTargetsRelative?(Vr.addVectors(ms.min,Jp.min),ms.expandByPoint(Vr),Vr.addVectors(ms.max,Jp.max),ms.expandByPoint(Vr)):(ms.expandByPoint(Jp.min),ms.expandByPoint(Jp.max))}ms.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Vr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Vr));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let u=0,f=o.count;u<f;u++)Vr.fromBufferAttribute(o,u),l&&(Zf.fromBufferAttribute(e,u),Vr.add(Zf)),i=Math.max(i,r.distanceToSquared(Vr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wn(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<r.count;I++)o[I]=new J,l[I]=new J;const u=new J,f=new J,c=new J,h=new ze,d=new ze,m=new ze,x=new J,v=new J;function y(I,R,M){u.fromBufferAttribute(r,I),f.fromBufferAttribute(r,R),c.fromBufferAttribute(r,M),h.fromBufferAttribute(s,I),d.fromBufferAttribute(s,R),m.fromBufferAttribute(s,M),f.sub(u),c.sub(u),d.sub(h),m.sub(h);const k=1/(d.x*m.y-m.x*d.y);isFinite(k)&&(x.copy(f).multiplyScalar(m.y).addScaledVector(c,-d.y).multiplyScalar(k),v.copy(c).multiplyScalar(d.x).addScaledVector(f,-m.x).multiplyScalar(k),o[I].add(x),o[R].add(x),o[M].add(x),l[I].add(v),l[R].add(v),l[M].add(v))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let I=0,R=_.length;I<R;++I){const M=_[I],k=M.start,B=M.count;for(let H=k,j=k+B;H<j;H+=3)y(e.getX(H+0),e.getX(H+1),e.getX(H+2))}const b=new J,w=new J,E=new J,A=new J;function P(I){E.fromBufferAttribute(i,I),A.copy(E);const R=o[I];b.copy(R),b.sub(E.multiplyScalar(E.dot(R))).normalize(),w.crossVectors(A,R);const k=w.dot(l[I])<0?-1:1;a.setXYZW(I,b.x,b.y,b.z,k)}for(let I=0,R=_.length;I<R;++I){const M=_[I],k=M.start,B=M.count;for(let H=k,j=k+B;H<j;H+=3)P(e.getX(H+0)),P(e.getX(H+1)),P(e.getX(H+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new wn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new J,s=new J,a=new J,o=new J,l=new J,u=new J,f=new J,c=new J;if(e)for(let h=0,d=e.count;h<d;h+=3){const m=e.getX(h+0),x=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,x),a.fromBufferAttribute(n,v),f.subVectors(a,s),c.subVectors(i,s),f.cross(c),o.fromBufferAttribute(r,m),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,v),o.add(f),l.add(f),u.add(f),r.setXYZ(m,o.x,o.y,o.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let h=0,d=n.count;h<d;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),f.subVectors(a,s),c.subVectors(i,s),f.cross(c),r.setXYZ(h+0,f.x,f.y,f.z),r.setXYZ(h+1,f.x,f.y,f.z),r.setXYZ(h+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Vr.fromBufferAttribute(e,n),Vr.normalize(),e.setXYZ(n,Vr.x,Vr.y,Vr.z)}toNonIndexed(){function e(o,l){const u=o.array,f=o.itemSize,c=o.normalized,h=new u.constructor(l.length*f);let d=0,m=0;for(let x=0,v=l.length;x<v;x++){o.isInterleavedBufferAttribute?d=l[x]*o.data.stride+o.offset:d=l[x]*f;for(let y=0;y<f;y++)h[m++]=u[d++]}return new wn(h,f,c)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new $t,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);n.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let f=0,c=u.length;f<c;f++){const h=u[f],d=e(h,r);l.push(d)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let c=0,h=u.length;c<h;c++){const d=u[c];f.push(d.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const s=e.morphAttributes;for(const u in s){const f=[],c=s[u];for(let h=0,d=c.length;h<d;h++)f.push(c[h].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,f=a.length;u<f;u++){const c=a[u];this.addGroup(c.start,c.count,c.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const t3=new Ut,ec=new vf,O0=new Qr,n3=new J,k0=new J,N0=new J,B0=new J,$E=new J,D0=new J,r3=new J,L0=new J;class Yn extends pn{constructor(e=new $t,n=new es){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){D0.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=o[l],c=s[l];f!==0&&($E.fromBufferAttribute(c,e),a?D0.addScaledVector($E,f):D0.addScaledVector($E.sub(n),f))}n.add(D0)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),O0.copy(r.boundingSphere),O0.applyMatrix4(s),ec.copy(e.ray).recast(e.near),!(O0.containsPoint(ec.origin)===!1&&(ec.intersectSphere(O0,n3)===null||ec.origin.distanceToSquared(n3)>(e.far-e.near)**2))&&(t3.copy(s).invert(),ec.copy(e.ray).applyMatrix4(t3),!(r.boundingBox!==null&&ec.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,ec)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,c=s.attributes.normal,h=s.groups,d=s.drawRange;if(o!==null)if(Array.isArray(a))for(let m=0,x=h.length;m<x;m++){const v=h[m],y=a[v.materialIndex],_=Math.max(v.start,d.start),b=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));for(let w=_,E=b;w<E;w+=3){const A=o.getX(w),P=o.getX(w+1),I=o.getX(w+2);i=F0(this,y,e,r,u,f,c,A,P,I),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const m=Math.max(0,d.start),x=Math.min(o.count,d.start+d.count);for(let v=m,y=x;v<y;v+=3){const _=o.getX(v),b=o.getX(v+1),w=o.getX(v+2);i=F0(this,a,e,r,u,f,c,_,b,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let m=0,x=h.length;m<x;m++){const v=h[m],y=a[v.materialIndex],_=Math.max(v.start,d.start),b=Math.min(l.count,Math.min(v.start+v.count,d.start+d.count));for(let w=_,E=b;w<E;w+=3){const A=w,P=w+1,I=w+2;i=F0(this,y,e,r,u,f,c,A,P,I),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const m=Math.max(0,d.start),x=Math.min(l.count,d.start+d.count);for(let v=m,y=x;v<y;v+=3){const _=v,b=v+1,w=v+2;i=F0(this,a,e,r,u,f,c,_,b,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function Qce(t,e,n,r,i,s,a,o){let l;if(e.side===zi?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===vo,o),l===null)return null;L0.copy(o),L0.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(L0);return u<n.near||u>n.far?null:{distance:u,point:L0.clone(),object:t}}function F0(t,e,n,r,i,s,a,o,l,u){t.getVertexPosition(o,k0),t.getVertexPosition(l,N0),t.getVertexPosition(u,B0);const f=Qce(t,e,n,r,k0,N0,B0,r3);if(f){const c=new J;Zi.getBarycoord(r3,k0,N0,B0,c),i&&(f.uv=Zi.getInterpolatedAttribute(i,o,l,u,c,new ze)),s&&(f.uv1=Zi.getInterpolatedAttribute(s,o,l,u,c,new ze)),a&&(f.normal=Zi.getInterpolatedAttribute(a,o,l,u,c,new J),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a:o,b:l,c:u,normal:new J,materialIndex:0};Zi.getNormal(k0,N0,B0,h.normal),f.face=h,f.barycoord=c}return f}class xf extends $t{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],f=[],c=[];let h=0,d=0;m("z","y","x",-1,-1,r,n,e,a,s,0),m("z","y","x",1,-1,r,n,-e,a,s,1),m("x","z","y",1,1,e,r,n,i,a,2),m("x","z","y",1,-1,e,r,-n,i,a,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ct(u,3)),this.setAttribute("normal",new Ct(f,3)),this.setAttribute("uv",new Ct(c,2));function m(x,v,y,_,b,w,E,A,P,I,R){const M=w/P,k=E/I,B=w/2,H=E/2,j=A/2,V=P+1,X=I+1;let Z=0,L=0;const W=new J;for(let N=0;N<X;N++){const q=N*k-H;for(let te=0;te<V;te++){const G=te*M-B;W[x]=G*_,W[v]=q*b,W[y]=j,u.push(W.x,W.y,W.z),W[x]=0,W[v]=0,W[y]=A>0?1:-1,f.push(W.x,W.y,W.z),c.push(te/P),c.push(1-N/I),Z+=1}}for(let N=0;N<I;N++)for(let q=0;q<P;q++){const te=h+q+V*N,G=h+q+V*(N+1),Ie=h+(q+1)+V*(N+1),Oe=h+(q+1)+V*N;l.push(te,G,Oe),l.push(G,Ie,Oe),L+=6}o.addGroup(d,L,R),d+=L,h+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Oi(t){const e={};for(let n=0;n<t.length;n++){const r=yd(t[n]);for(const i in r)e[i]=r[i]}return e}function efe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function e9(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:gn.workingColorSpace}const t9={clone:yd,merge:Oi};var tfe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nfe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mi extends Fr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=tfe,this.fragmentShader=nfe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yd(e.uniforms),this.uniformsGroups=efe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Uy extends pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut,this.coordinateSystem=As,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Hl=new J,i3=new ze,s3=new ze;class dr extends Uy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=gd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan($c*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return gd*2*Math.atan(Math.tan($c*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Hl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Hl.x,Hl.y).multiplyScalar(-e/Hl.z),Hl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Hl.x,Hl.y).multiplyScalar(-e/Hl.z)}getViewSize(e,n){return this.getViewBounds(e,i3,s3),n.subVectors(s3,i3)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan($c*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Qf=-90,eh=1;class n9 extends pn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new dr(Qf,eh,e,n);i.layers=this.layers,this.add(i);const s=new dr(Qf,eh,e,n);s.layers=this.layers,this.add(s);const a=new dr(Qf,eh,e,n);a.layers=this.layers,this.add(a);const o=new dr(Qf,eh,e,n);o.layers=this.layers,this.add(o);const l=new dr(Qf,eh,e,n);l.layers=this.layers,this.add(l);const u=new dr(Qf,eh,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const u of n)this.remove(u);if(e===As)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===md)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,f]=this.children,c=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(c,h,d),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class zy extends In{constructor(e=[],n=xo,r,i,s,a,o,l,u,f){super(e,n,r,i,s,a,o,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class uI extends os{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new zy(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new xf(5,5,5),s=new Mi({name:"CubemapFromEquirect",uniforms:yd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:zi,blending:ho});s.uniforms.tEquirect.value=n;const a=new Yn(i,s),o=n.minFilter;return n.minFilter===Qs&&(n.minFilter=Pn),new n9(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}class Zo extends pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const rfe={type:"move"};class t1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),y=this._getHandJoint(u,x);v!==null&&(y.matrix.fromArray(v.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=v.radius),y.visible=v!==null}const f=u.joints["index-finger-tip"],c=u.joints["thumb-tip"],h=f.position.distanceTo(c.position),d=.02,m=.005;u.inputState.pinching&&h>d+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(rfe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Zo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class pw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new dt(e),this.density=n}clone(){return new pw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class mw{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new dt(e),this.near=n,this.far=r}clone(){return new mw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jy extends pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ps,this.environmentIntensity=1,this.environmentRotation=new Ps,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Hy{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Cg,this.updateRanges=[],this.version=0,this.uuid=Cs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ii=new J;class Mu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Ii.fromBufferAttribute(this,n),Ii.applyMatrix4(e),this.setXYZ(n,Ii.x,Ii.y,Ii.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ii.fromBufferAttribute(this,n),Ii.applyNormalMatrix(e),this.setXYZ(n,Ii.x,Ii.y,Ii.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ii.fromBufferAttribute(this,n),Ii.transformDirection(e),this.setXYZ(n,Ii.x,Ii.y,Ii.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Li(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=qt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Li(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Li(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Li(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Li(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array),s=qt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new wn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cI extends Fr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new dt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let th;const Yp=new J,nh=new J,rh=new J,ih=new ze,Zp=new ze,r9=new Ut,U0=new J,Qp=new J,z0=new J,a3=new ze,VE=new ze,o3=new ze;class i9 extends pn{constructor(e=new cI){if(super(),this.isSprite=!0,this.type="Sprite",th===void 0){th=new $t;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Hy(n,5);th.setIndex([0,1,2,0,2,3]),th.setAttribute("position",new Mu(r,3,0,!1)),th.setAttribute("uv",new Mu(r,2,3,!1))}this.geometry=th,this.material=e,this.center=new ze(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),nh.setFromMatrixScale(this.matrixWorld),r9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),rh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&nh.multiplyScalar(-rh.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;j0(U0.set(-.5,-.5,0),rh,a,nh,i,s),j0(Qp.set(.5,-.5,0),rh,a,nh,i,s),j0(z0.set(.5,.5,0),rh,a,nh,i,s),a3.set(0,0),VE.set(1,0),o3.set(1,1);let o=e.ray.intersectTriangle(U0,Qp,z0,!1,Yp);if(o===null&&(j0(Qp.set(-.5,.5,0),rh,a,nh,i,s),VE.set(0,1),o=e.ray.intersectTriangle(U0,z0,Qp,!1,Yp),o===null))return;const l=e.ray.origin.distanceTo(Yp);l<e.near||l>e.far||n.push({distance:l,point:Yp.clone(),uv:Zi.getInterpolation(Yp,U0,Qp,z0,a3,VE,o3,new ze),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function j0(t,e,n,r,i,s){ih.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Zp.x=s*ih.x-i*ih.y,Zp.y=i*ih.x+s*ih.y):Zp.copy(ih),t.copy(e),t.x+=Zp.x,t.y+=Zp.y,t.applyMatrix4(r9)}const H0=new J,l3=new J;class s9 extends pn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){H0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(H0);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){H0.setFromMatrixPosition(e.matrixWorld),l3.setFromMatrixPosition(this.matrixWorld);const r=H0.distanceTo(l3)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const u3=new J,c3=new xn,f3=new xn,ife=new J,h3=new Ut,G0=new J,WE=new Qr,d3=new Ut,XE=new vf;class fI extends Yn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=BT,this.bindMatrix=new Ut,this.bindMatrixInverse=new Ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Zr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,G0),this.boundingBox.expandByPoint(G0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Qr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,G0),this.boundingSphere.expandByPoint(G0)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),WE.copy(this.boundingSphere),WE.applyMatrix4(i),e.ray.intersectsSphere(WE)!==!1&&(d3.copy(i).invert(),XE.copy(e.ray).applyMatrix4(d3),!(this.boundingBox!==null&&XE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,XE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===BT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===B6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;c3.fromBufferAttribute(i.attributes.skinIndex,e),f3.fromBufferAttribute(i.attributes.skinWeight,e),u3.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=f3.getComponent(s);if(a!==0){const o=c3.getComponent(s);h3.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(ife.copy(u3).applyMatrix4(h3),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class gw extends pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class za extends In{constructor(e=null,n=1,r=1,i,s,a,o,l,u=Jr,f=Jr,c,h){super(null,a,o,l,u,f,i,s,c,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const p3=new Ut,sfe=new Ut;class Gy{constructor(e=[],n=[]){this.uuid=Cs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ut;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:sfe;p3.multiplyMatrices(o,n[s]),p3.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Gy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new za(n,e,e,xr,sr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new gw),this.bones.push(a),this.boneInverses.push(new Ut().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class rf extends wn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const sh=new Ut,m3=new Ut,$0=[],g3=new Zr,afe=new Ut,em=new Yn,tm=new Qr;class hI extends Yn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new rf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,afe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Zr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,sh),g3.copy(e.boundingBox).applyMatrix4(sh),this.boundingBox.union(g3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Qr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,sh),tm.copy(e.boundingSphere).applyMatrix4(sh),this.boundingSphere.union(tm)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(em.geometry=this.geometry,em.material=this.material,em.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tm.copy(this.boundingSphere),tm.applyMatrix4(r),e.ray.intersectsSphere(tm)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,sh),m3.multiplyMatrices(r,sh),em.matrixWorld=m3,em.raycast(e,$0);for(let a=0,o=$0.length;a<o;a++){const l=$0[a];l.instanceId=s,l.object=this,n.push(l)}$0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new rf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new za(new Float32Array(i*this.count),i,this.count,Ly,sr));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const qE=new J,ofe=new J,lfe=new Xt;class Xo{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=qE.subVectors(r,n).cross(ofe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(qE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||lfe.getNormalMatrix(e),i=this.coplanarPoint(qE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tc=new Qr,ufe=new ze(.5,.5),V0=new J;class tp{constructor(e=new Xo,n=new Xo,r=new Xo,i=new Xo,s=new Xo,a=new Xo){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=As,r=!1){const i=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],u=s[3],f=s[4],c=s[5],h=s[6],d=s[7],m=s[8],x=s[9],v=s[10],y=s[11],_=s[12],b=s[13],w=s[14],E=s[15];if(i[0].setComponents(u-a,d-f,y-m,E-_).normalize(),i[1].setComponents(u+a,d+f,y+m,E+_).normalize(),i[2].setComponents(u+o,d+c,y+x,E+b).normalize(),i[3].setComponents(u-o,d-c,y-x,E-b).normalize(),r)i[4].setComponents(l,h,v,w).normalize(),i[5].setComponents(u-l,d-h,y-v,E-w).normalize();else if(i[4].setComponents(u-l,d-h,y-v,E-w).normalize(),n===As)i[5].setComponents(u+l,d+h,y+v,E+w).normalize();else if(n===md)i[5].setComponents(l,h,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),tc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tc)}intersectsSprite(e){tc.center.set(0,0,0);const n=ufe.distanceTo(e.center);return tc.radius=.7071067811865476+n,tc.applyMatrix4(e.matrixWorld),this.intersectsSphere(tc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(V0.x=i.normal.x>0?e.max.x:e.min.x,V0.y=i.normal.y>0?e.max.y:e.min.y,V0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(V0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const no=new Ut,ro=new tp;class yw{constructor(){this.coordinateSystem=As}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(no.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ro.setFromProjectionMatrix(no,i.coordinateSystem,i.reversedDepth),ro.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(no.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ro.setFromProjectionMatrix(no,i.coordinateSystem,i.reversedDepth),ro.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(no.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ro.setFromProjectionMatrix(no,i.coordinateSystem,i.reversedDepth),ro.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(no.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ro.setFromProjectionMatrix(no,i.coordinateSystem,i.reversedDepth),ro.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(no.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ro.setFromProjectionMatrix(no,i.coordinateSystem,i.reversedDepth),ro.containsPoint(e))return!0}return!1}clone(){return new yw}}function KE(t,e){return t-e}function cfe(t,e){return t.z-e.z}function ffe(t,e){return e.z-t.z}class hfe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const Xi=new Ut,dfe=new dt(1,1,1),y3=new tp,pfe=new yw,W0=new Zr,nc=new Qr,nm=new J,v3=new J,mfe=new J,JE=new hfe,vi=new Yn,X0=[];function gfe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function rc(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class a9 extends Yn{constructor(e,n,r=n*2,i){super(new $t,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new za(n,e,e,xr,sr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new za(n,e,e,Fy,bo);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new za(n,e,e,xr,sr);r.colorSpace=gn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,f=new o.constructor(r*l),c=new wn(f,l,u);n.setAttribute(s,c)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new wn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Xi),this.getBoundingBoxAt(s,W0).applyMatrix4(Xi),e.union(W0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qr);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Xi),this.getBoundingSphereAt(s,nc).applyMatrix4(Xi),e.union(nc)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(KE),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Xi.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(dfe.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(KE),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const f in r.attributes){const c=n.getAttribute(f),h=r.getAttribute(f);gfe(c,h,l);const d=c.itemSize;for(let m=c.count,x=u;m<x;m++){const v=l+m;for(let y=0;y<d;y++)h.setComponent(v,y,0)}h.needsUpdate=!0,h.addUpdateRange(l*d,u*d)}if(i){const f=o.indexStart,c=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let h=0;h<a.count;h++)s.setX(f+h,l+a.getX(h));for(let h=a.count,d=c;h<d;h++)s.setX(f+h,l);s.needsUpdate=!0,s.addUpdateRange(f,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==n){const{indexStart:f,vertexStart:c,reservedIndexCount:h}=u,d=s.index,m=d.array,x=e-c;for(let v=f;v<f+h;v++)m[v]=m[v]+x;d.array.copyWithin(n,f,f+h),d.addUpdateRange(n,h),u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:f,reservedVertexCount:c}=u,h=s.attributes;for(const d in h){const m=h[d],{array:x,itemSize:v}=m;x.copyWithin(e*v,f*v,(f+c)*v),m.addUpdateRange(e*v,c*v)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Zr,a=r.index,o=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let f=l;a&&(f=a.getX(f)),s.expandByPoint(nm.fromBufferAttribute(o,f))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Qr;this.getBoundingBoxAt(e,W0),W0.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let u=i.start,f=i.start+i.count;u<f;u++){let c=u;a&&(c=a.getX(c)),nm.fromBufferAttribute(o,c),l=Math.max(l,s.center.distanceToSquared(nm))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(KE);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);rc(this._multiDrawCounts,i),rc(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),rc(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),rc(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),rc(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new $t,this._initializeGeometry(s));const a=this.geometry;s.index&&rc(s.index.array,a.index.array);for(const o in s.attributes)rc(s.attributes[o].array,a.attributes[o].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;vi.material=this.material,vi.geometry.index=a.index,vi.geometry.attributes=a.attributes,vi.geometry.boundingBox===null&&(vi.geometry.boundingBox=new Zr),vi.geometry.boundingSphere===null&&(vi.geometry.boundingSphere=new Qr);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const u=r[o].geometryIndex,f=i[u];vi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(o,vi.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,vi.geometry.boundingBox),this.getBoundingSphereAt(u,vi.geometry.boundingSphere),vi.raycast(e,X0);for(let c=0,h=X0.length;c<h;c++){const d=X0[c];d.object=this,d.batchId=o,n.push(d)}X0.length=0}vi.material=null,vi.geometry.index=null,vi.geometry.attributes={},vi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,f=this._multiDrawCounts,c=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,m=d.image.data,x=r.isArrayCamera?pfe:y3;h&&!r.isArrayCamera&&(Xi.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),y3.setFromProjectionMatrix(Xi,r.coordinateSystem,r.reversedDepth));let v=0;if(this.sortObjects){Xi.copy(this.matrixWorld).invert(),nm.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Xi),v3.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Xi);for(let b=0,w=l.length;b<w;b++)if(l[b].visible&&l[b].active){const E=l[b].geometryIndex;this.getMatrixAt(b,Xi),this.getBoundingSphereAt(E,nc).applyMatrix4(Xi);let A=!1;if(h&&(A=!x.intersectsSphere(nc,r)),!A){const P=c[E],I=mfe.subVectors(nc.center,nm).dot(v3);JE.push(P.start,P.count,I,b)}}const y=JE.list,_=this.customSort;_===null?y.sort(s.transparent?ffe:cfe):_.call(this,y,r);for(let b=0,w=y.length;b<w;b++){const E=y[b];u[v]=E.start*o,f[v]=E.count,m[v]=E.index,v++}JE.reset()}else for(let y=0,_=l.length;y<_;y++)if(l[y].visible&&l[y].active){const b=l[y].geometryIndex;let w=!1;if(h&&(this.getMatrixAt(y,Xi),this.getBoundingSphereAt(b,nc).applyMatrix4(Xi),w=!x.intersectsSphere(nc,r)),!w){const E=c[b];u[v]=E.start*o,f[v]=E.count,m[v]=y,v++}}d.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class Ti extends Fr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new dt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const wb=new J,Sb=new J,x3=new Ut,rm=new vf,q0=new Qr,YE=new J,b3=new J;let dl=class extends pn{constructor(e=new $t,n=new Ti){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)wb.fromBufferAttribute(n,i-1),Sb.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=wb.distanceTo(Sb);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),q0.copy(r.boundingSphere),q0.applyMatrix4(i),q0.radius+=s,e.ray.intersectsSphere(q0)===!1)return;x3.copy(i).invert(),rm.copy(e.ray).applyMatrix4(x3);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,f=r.index,h=r.attributes.position;if(f!==null){const d=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let x=d,v=m-1;x<v;x+=u){const y=f.getX(x),_=f.getX(x+1),b=K0(this,e,rm,l,y,_,x);b&&n.push(b)}if(this.isLineLoop){const x=f.getX(m-1),v=f.getX(d),y=K0(this,e,rm,l,x,v,m-1);y&&n.push(y)}}else{const d=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let x=d,v=m-1;x<v;x+=u){const y=K0(this,e,rm,l,x,x+1,x);y&&n.push(y)}if(this.isLineLoop){const x=K0(this,e,rm,l,m-1,d,m-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function K0(t,e,n,r,i,s,a){const o=t.geometry.attributes.position;if(wb.fromBufferAttribute(o,i),Sb.fromBufferAttribute(o,s),n.distanceSqToSegment(wb,Sb,YE,b3)>r)return;YE.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(YE);if(!(u<e.near||u>e.far))return{distance:u,point:b3.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const _3=new J,w3=new J;class Ga extends dl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)_3.fromBufferAttribute(n,i),w3.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+_3.distanceTo(w3);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dI extends dl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class vw extends Fr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new dt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const S3=new Ut,UT=new vf,J0=new Qr,Y0=new J;class pI extends pn{constructor(e=new $t,n=new vw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),J0.copy(r.boundingSphere),J0.applyMatrix4(i),J0.radius+=s,e.ray.intersectsSphere(J0)===!1)return;S3.copy(i).invert(),UT.copy(e.ray).applyMatrix4(S3);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,c=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),d=Math.min(u.count,a.start+a.count);for(let m=h,x=d;m<x;m++){const v=u.getX(m);Y0.fromBufferAttribute(c,v),A3(Y0,v,l,i,e,n,this)}}else{const h=Math.max(0,a.start),d=Math.min(c.count,a.start+a.count);for(let m=h,x=d;m<x;m++)Y0.fromBufferAttribute(c,m),A3(Y0,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function A3(t,e,n,r,i,s,a){const o=UT.distanceSqToPoint(t);if(o<n){const l=new J;UT.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class o9 extends In{constructor(e,n,r,i,s=Pn,a=Pn,o,l,u){super(e,n,r,i,s,a,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const f=this;function c(){f.needsUpdate=!0,f._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class yfe extends o9{constructor(e,n,r,i,s,a,o,l){super({},e,n,r,i,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class vfe extends In{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Jr,this.minFilter=Jr,this.generateMipmaps=!1,this.needsUpdate=!0}}class xw extends In{constructor(e,n,r,i,s,a,o,l,u,f,c,h){super(null,a,o,l,u,f,i,s,c,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xfe extends xw{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=vr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bfe extends xw{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,xo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class _fe extends In{constructor(e,n,r,i,s,a,o,l,u){super(e,n,r,i,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mI extends In{constructor(e,n,r=bo,i,s,a,o=Jr,l=Jr,u,f=fd,c=1){if(f!==fd&&f!==hd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:c};super(h,i,s,a,o,l,f,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new su(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class gI extends In{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class bw extends $t{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],u=[],f=n/2,c=Math.PI/2*e,h=n,d=2*c+h,m=r*2+s,x=i+1,v=new J,y=new J;for(let _=0;_<=m;_++){let b=0,w=0,E=0,A=0;if(_<=r){const R=_/r,M=R*Math.PI/2;w=-f-e*Math.cos(M),E=e*Math.sin(M),A=-e*Math.cos(M),b=R*c}else if(_<=r+s){const R=(_-r)/s;w=-f+R*n,E=e,A=0,b=c+R*h}else{const R=(_-r-s)/r,M=R*Math.PI/2;w=f+e*Math.sin(M),E=e*Math.cos(M),A=e*Math.sin(M),b=c+h+R*c}const P=Math.max(0,Math.min(1,b/d));let I=0;_===0?I=.5/i:_===m&&(I=-.5/i);for(let R=0;R<=i;R++){const M=R/i,k=M*Math.PI*2,B=Math.sin(k),H=Math.cos(k);y.x=-E*H,y.y=w,y.z=E*B,o.push(y.x,y.y,y.z),v.set(-E*H,A,E*B),v.normalize(),l.push(v.x,v.y,v.z),u.push(M+I,P)}if(_>0){const R=(_-1)*x;for(let M=0;M<i;M++){const k=R+M,B=R+M+1,H=_*x+M,j=_*x+M+1;a.push(k,B,H),a.push(B,j,H)}}}this.setIndex(a),this.setAttribute("position",new Ct(o,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class _w extends $t{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],u=new J,f=new ze;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let c=0,h=3;c<=n;c++,h+=3){const d=r+c/n*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),a.push(u.x,u.y,u.z),o.push(0,0,1),f.x=(a[h]/e+1)/2,f.y=(a[h+1]/e+1)/2,l.push(f.x,f.y)}for(let c=1;c<=n;c++)s.push(c,c+1,0);this.setIndex(s),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(o,3)),this.setAttribute("uv",new Ct(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _w(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $y extends $t{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],c=[],h=[],d=[];let m=0;const x=[],v=r/2;let y=0;_(),a===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(f),this.setAttribute("position",new Ct(c,3)),this.setAttribute("normal",new Ct(h,3)),this.setAttribute("uv",new Ct(d,2));function _(){const w=new J,E=new J;let A=0;const P=(n-e)/r;for(let I=0;I<=s;I++){const R=[],M=I/s,k=M*(n-e)+e;for(let B=0;B<=i;B++){const H=B/i,j=H*l+o,V=Math.sin(j),X=Math.cos(j);E.x=k*V,E.y=-M*r+v,E.z=k*X,c.push(E.x,E.y,E.z),w.set(V,P,X).normalize(),h.push(w.x,w.y,w.z),d.push(H,1-M),R.push(m++)}x.push(R)}for(let I=0;I<i;I++)for(let R=0;R<s;R++){const M=x[R][I],k=x[R+1][I],B=x[R+1][I+1],H=x[R][I+1];(e>0||R!==0)&&(f.push(M,k,H),A+=3),(n>0||R!==s-1)&&(f.push(k,B,H),A+=3)}u.addGroup(y,A,0),y+=A}function b(w){const E=m,A=new ze,P=new J;let I=0;const R=w===!0?e:n,M=w===!0?1:-1;for(let B=1;B<=i;B++)c.push(0,v*M,0),h.push(0,M,0),d.push(.5,.5),m++;const k=m;for(let B=0;B<=i;B++){const j=B/i*l+o,V=Math.cos(j),X=Math.sin(j);P.x=R*X,P.y=v*M,P.z=R*V,c.push(P.x,P.y,P.z),h.push(0,M,0),A.x=V*.5+.5,A.y=X*.5*M+.5,d.push(A.x,A.y),m++}for(let B=0;B<i;B++){const H=E+B,j=k+B;w===!0?f.push(j,j+1,H):f.push(j+1,j,H),I+=3}u.addGroup(y,I,w===!0?1:2),y+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $y(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vy extends $y{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Vy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bu extends $t{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),u(r),f(),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(s.slice(),3)),this.setAttribute("uv",new Ct(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const b=new J,w=new J,E=new J;for(let A=0;A<n.length;A+=3)d(n[A+0],b),d(n[A+1],w),d(n[A+2],E),l(b,w,E,_)}function l(_,b,w,E){const A=E+1,P=[];for(let I=0;I<=A;I++){P[I]=[];const R=_.clone().lerp(w,I/A),M=b.clone().lerp(w,I/A),k=A-I;for(let B=0;B<=k;B++)B===0&&I===A?P[I][B]=R:P[I][B]=R.clone().lerp(M,B/k)}for(let I=0;I<A;I++)for(let R=0;R<2*(A-I)-1;R++){const M=Math.floor(R/2);R%2===0?(h(P[I][M+1]),h(P[I+1][M]),h(P[I][M])):(h(P[I][M+1]),h(P[I+1][M+1]),h(P[I+1][M]))}}function u(_){const b=new J;for(let w=0;w<s.length;w+=3)b.x=s[w+0],b.y=s[w+1],b.z=s[w+2],b.normalize().multiplyScalar(_),s[w+0]=b.x,s[w+1]=b.y,s[w+2]=b.z}function f(){const _=new J;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const w=v(_)/2/Math.PI+.5,E=y(_)/Math.PI+.5;a.push(w,1-E)}m(),c()}function c(){for(let _=0;_<a.length;_+=6){const b=a[_+0],w=a[_+2],E=a[_+4],A=Math.max(b,w,E),P=Math.min(b,w,E);A>.9&&P<.1&&(b<.2&&(a[_+0]+=1),w<.2&&(a[_+2]+=1),E<.2&&(a[_+4]+=1))}}function h(_){s.push(_.x,_.y,_.z)}function d(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function m(){const _=new J,b=new J,w=new J,E=new J,A=new ze,P=new ze,I=new ze;for(let R=0,M=0;R<s.length;R+=9,M+=6){_.set(s[R+0],s[R+1],s[R+2]),b.set(s[R+3],s[R+4],s[R+5]),w.set(s[R+6],s[R+7],s[R+8]),A.set(a[M+0],a[M+1]),P.set(a[M+2],a[M+3]),I.set(a[M+4],a[M+5]),E.copy(_).add(b).add(w).divideScalar(3);const k=v(E);x(A,M+0,_,k),x(P,M+2,b,k),x(I,M+4,w,k)}}function x(_,b,w,E){E<0&&_.x===1&&(a[b]=_.x-1),w.x===0&&w.z===0&&(a[b]=E/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function y(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bu(e.vertices,e.indices,e.radius,e.details)}}class ww extends Bu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ww(e.radius,e.detail)}}const Z0=new J,Q0=new J,ZE=new J,ex=new Zi;class l9 extends $t{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos($c*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],f=["a","b","c"],c=new Array(3),h={},d=[];for(let m=0;m<l;m+=3){a?(u[0]=a.getX(m),u[1]=a.getX(m+1),u[2]=a.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:x,b:v,c:y}=ex;if(x.fromBufferAttribute(o,u[0]),v.fromBufferAttribute(o,u[1]),y.fromBufferAttribute(o,u[2]),ex.getNormal(ZE),c[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,c[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,c[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(c[0]===c[1]||c[1]===c[2]||c[2]===c[0]))for(let _=0;_<3;_++){const b=(_+1)%3,w=c[_],E=c[b],A=ex[f[_]],P=ex[f[b]],I=`${w}_${E}`,R=`${E}_${w}`;R in h&&h[R]?(ZE.dot(h[R].normal)<=s&&(d.push(A.x,A.y,A.z),d.push(P.x,P.y,P.z)),h[R]=null):I in h||(h[I]={index0:u[_],index1:u[b],normal:ZE.clone()})}}for(const m in h)if(h[m]){const{index0:x,index1:v}=h[m];Z0.fromBufferAttribute(o,x),Q0.fromBufferAttribute(o,v),d.push(Z0.x,Z0.y,Z0.z),d.push(Q0.x,Q0.y,Q0.z)}this.setAttribute("position",new Ct(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let $a=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-a,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const f=r[i],h=r[i+1]-f,d=(a-f)/h;return(i+d)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new ze:new J);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new J,i=[],s=[],a=[],o=new J,l=new Ut;for(let d=0;d<=e;d++){const m=d/e;i[d]=this.getTangentAt(m,new J)}s[0]=new J,a[0]=new J;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),c=Math.abs(i[0].y),h=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),c<=u&&(u=c,r.set(0,1,0)),h<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(i[d-1],i[d]),o.length()>Number.EPSILON){o.normalize();const m=Math.acos(Gt(i[d-1].dot(i[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(o,m))}a[d].crossVectors(i[d],s[d])}if(n===!0){let d=Math.acos(Gt(s[0].dot(s[e]),-1,1));d/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(d=-d);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(i[m],d*m)),a[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class Sw extends $a{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new ze){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const f=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*f-d*c+this.aX,u=h*c+d*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class u9 extends Sw{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function yI(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){i(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,f,c){let h=(a-s)/u-(o-s)/(u+f)+(o-a)/f,d=(o-a)/f-(l-a)/(f+c)+(l-o)/c;h*=f,d*=f,i(a,o,h,d)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const tx=new J,QE=new yI,eM=new yI,tM=new yI;class c9 extends $a{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,f;this.closed||o>0?u=i[(o-1)%s]:(tx.subVectors(i[0],i[1]).add(i[0]),u=tx);const c=i[o%s],h=i[(o+1)%s];if(this.closed||o+2<s?f=i[(o+2)%s]:(tx.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=tx),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(c),d),x=Math.pow(c.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(f),d);x<1e-4&&(x=1),m<1e-4&&(m=x),v<1e-4&&(v=x),QE.initNonuniformCatmullRom(u.x,c.x,h.x,f.x,m,x,v),eM.initNonuniformCatmullRom(u.y,c.y,h.y,f.y,m,x,v),tM.initNonuniformCatmullRom(u.z,c.z,h.z,f.z,m,x,v)}else this.curveType==="catmullrom"&&(QE.initCatmullRom(u.x,c.x,h.x,f.x,this.tension),eM.initCatmullRom(u.y,c.y,h.y,f.y,this.tension),tM.initCatmullRom(u.z,c.z,h.z,f.z,this.tension));return r.set(QE.calc(l),eM.calc(l),tM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function E3(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function wfe(t,e){const n=1-t;return n*n*e}function Sfe(t,e){return 2*(1-t)*t*e}function Afe(t,e){return t*t*e}function Km(t,e,n,r){return wfe(t,e)+Sfe(t,n)+Afe(t,r)}function Efe(t,e){const n=1-t;return n*n*n*e}function Mfe(t,e){const n=1-t;return 3*n*n*t*e}function Cfe(t,e){return 3*(1-t)*t*t*e}function Tfe(t,e){return t*t*t*e}function Jm(t,e,n,r,i){return Efe(t,e)+Mfe(t,n)+Cfe(t,r)+Tfe(t,i)}class vI extends $a{constructor(e=new ze,n=new ze,r=new ze,i=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Jm(e,i.x,s.x,a.x,o.x),Jm(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class f9 extends $a{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Jm(e,i.x,s.x,a.x,o.x),Jm(e,i.y,s.y,a.y,o.y),Jm(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xI extends $a{constructor(e=new ze,n=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ze){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ze){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class h9 extends $a{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bI extends $a{constructor(e=new ze,n=new ze,r=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Km(e,i.x,s.x,a.x),Km(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _I extends $a{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Km(e,i.x,s.x,a.x),Km(e,i.y,s.y,a.y),Km(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wI extends $a{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ze){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],u=i[a],f=i[a>i.length-2?i.length-1:a+1],c=i[a>i.length-3?i.length-1:a+2];return r.set(E3(o,l.x,u.x,f.x,c.x),E3(o,l.y,u.y,f.y,c.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ze().fromArray(i))}return this}}var Ab=Object.freeze({__proto__:null,ArcCurve:u9,CatmullRomCurve3:c9,CubicBezierCurve:vI,CubicBezierCurve3:f9,EllipseCurve:Sw,LineCurve:xI,LineCurve3:h9,QuadraticBezierCurve:bI,QuadraticBezierCurve3:_I,SplineCurve:wI});class d9 extends $a{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ab[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Ab[i.type]().fromJSON(i))}return this}}let Eb=class extends d9{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new xI(this.currentPoint.clone(),new ze(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new bI(this.currentPoint.clone(),new ze(e,n),new ze(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new vI(this.currentPoint.clone(),new ze(e,n),new ze(r,i),new ze(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new wI(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const u=new Sw(e,n,r,i,s,a,o,l);if(this.curves.length>0){const c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Wc=class extends Eb{constructor(e){super(e),this.uuid=Cs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Eb().fromJSON(i))}return this}};function Pfe(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=p9(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(r&&(s=Nfe(t,e,s,n)),t.length>80*n){o=1/0,l=1/0;let f=-1/0,c=-1/0;for(let h=n;h<i;h+=n){const d=t[h],m=t[h+1];d<o&&(o=d),m<l&&(l=m),d>f&&(f=d),m>c&&(c=m)}u=Math.max(f-o,c-l),u=u!==0?32767/u:0}return Rg(s,a,n,o,l,u,0),a}function p9(t,e,n,r,i){let s;if(i===Vfe(t,e,n,r)>0)for(let a=e;a<n;a+=r)s=M3(a/r|0,t[a],t[a+1],s);else for(let a=n-r;a>=e;a-=r)s=M3(a/r|0,t[a],t[a+1],s);return s&&vd(s,s.next)&&(Og(s),s=s.next),s}function sf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(vd(n,n.next)||ir(n.prev,n,n.next)===0)){if(Og(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Rg(t,e,n,r,i,s,a){if(!t)return;!a&&s&&Ufe(t,r,i,s);let o=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(s?Ife(t,r,i,s):Rfe(t)){e.push(l.i,t.i,u.i),Og(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=Ofe(sf(t),e),Rg(t,e,n,r,i,s,2)):a===2&&kfe(t,e,n,r,i,s):Rg(sf(t),e,n,r,i,s,1);break}}}function Rfe(t){const e=t.prev,n=t,r=t.next;if(ir(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,u=r.y,f=Math.min(i,s,a),c=Math.min(o,l,u),h=Math.max(i,s,a),d=Math.max(o,l,u);let m=r.next;for(;m!==e;){if(m.x>=f&&m.x<=h&&m.y>=c&&m.y<=d&&Mm(i,o,s,l,a,u,m.x,m.y)&&ir(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Ife(t,e,n,r){const i=t.prev,s=t,a=t.next;if(ir(i,s,a)>=0)return!1;const o=i.x,l=s.x,u=a.x,f=i.y,c=s.y,h=a.y,d=Math.min(o,l,u),m=Math.min(f,c,h),x=Math.max(o,l,u),v=Math.max(f,c,h),y=zT(d,m,e,n,r),_=zT(x,v,e,n,r);let b=t.prevZ,w=t.nextZ;for(;b&&b.z>=y&&w&&w.z<=_;){if(b.x>=d&&b.x<=x&&b.y>=m&&b.y<=v&&b!==i&&b!==a&&Mm(o,f,l,c,u,h,b.x,b.y)&&ir(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=d&&w.x<=x&&w.y>=m&&w.y<=v&&w!==i&&w!==a&&Mm(o,f,l,c,u,h,w.x,w.y)&&ir(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=y;){if(b.x>=d&&b.x<=x&&b.y>=m&&b.y<=v&&b!==i&&b!==a&&Mm(o,f,l,c,u,h,b.x,b.y)&&ir(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=d&&w.x<=x&&w.y>=m&&w.y<=v&&w!==i&&w!==a&&Mm(o,f,l,c,u,h,w.x,w.y)&&ir(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Ofe(t,e){let n=t;do{const r=n.prev,i=n.next.next;!vd(r,i)&&g9(r,n,n.next,i)&&Ig(r,i)&&Ig(i,r)&&(e.push(r.i,n.i,i.i),Og(n),Og(n.next),n=t=i),n=n.next}while(n!==t);return sf(n)}function kfe(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Hfe(a,o)){let l=y9(a,o);a=sf(a,a.next),l=sf(l,l.next),Rg(a,e,n,r,i,s,0),Rg(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function Nfe(t,e,n,r){const i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,u=p9(t,o,l,r,!1);u===u.next&&(u.steiner=!0),i.push(jfe(u))}i.sort(Bfe);for(let s=0;s<i.length;s++)n=Dfe(i[s],n);return n}function Bfe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function Dfe(t,e){const n=Lfe(t,e);if(!n)return e;const r=y9(n,t);return sf(r,r.next),sf(n,n.next)}function Lfe(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,a;if(vd(t,n))return n;do{if(vd(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const c=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(c<=r&&c>s&&(s=c,a=n.x<n.next.x?n:n.next,c===r))return a}n=n.next}while(n!==e);if(!a)return null;const o=a,l=a.x,u=a.y;let f=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&m9(i<u?r:s,i,l,u,i<u?s:r,i,n.x,n.y)){const c=Math.abs(i-n.y)/(r-n.x);Ig(n,t)&&(c<f||c===f&&(n.x>a.x||n.x===a.x&&Ffe(a,n)))&&(a=n,f=c)}n=n.next}while(n!==o);return a}function Ffe(t,e){return ir(t.prev,t,e.prev)<0&&ir(e.next,t,t.next)<0}function Ufe(t,e,n,r){let i=t;do i.z===0&&(i.z=zT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,zfe(i)}function zfe(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let a=r,o=0;for(let u=0;u<n&&(o++,a=a.nextZ,!!a);u++);let l=n;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,o--):(i=a,a=a.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=a}s.nextZ=null,n*=2}while(e>1);return t}function zT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jfe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function m9(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function Mm(t,e,n,r,i,s,a,o){return!(t===a&&e===o)&&m9(t,e,n,r,i,s,a,o)}function Hfe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Gfe(t,e)&&(Ig(t,e)&&Ig(e,t)&&$fe(t,e)&&(ir(t.prev,t,e.prev)||ir(t,e.prev,e))||vd(t,e)&&ir(t.prev,t,t.next)>0&&ir(e.prev,e,e.next)>0)}function ir(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function vd(t,e){return t.x===e.x&&t.y===e.y}function g9(t,e,n,r){const i=rx(ir(t,e,n)),s=rx(ir(t,e,r)),a=rx(ir(n,r,t)),o=rx(ir(n,r,e));return!!(i!==s&&a!==o||i===0&&nx(t,n,e)||s===0&&nx(t,r,e)||a===0&&nx(n,t,r)||o===0&&nx(n,e,r))}function nx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function rx(t){return t>0?1:t<0?-1:0}function Gfe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&g9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Ig(t,e){return ir(t.prev,t,t.next)<0?ir(t,e,t.next)>=0&&ir(t,t.prev,e)>=0:ir(t,e,t.prev)<0||ir(t,t.next,e)<0}function $fe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function y9(t,e){const n=jT(t.i,t.x,t.y),r=jT(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function M3(t,e,n,r){const i=jT(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Og(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function jT(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Vfe(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class Wfe{static triangulate(e,n,r=2){return Pfe(e,n,r)}}class Ba{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ba.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];C3(e),T3(r,e);let a=e.length;n.forEach(C3);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,T3(r,n[l]);const o=Wfe.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function C3(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function T3(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Aw extends $t{constructor(e=new Wc([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Ct(i,3)),this.setAttribute("uv",new Ct(s,2)),this.computeVertexNormals();function a(o){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,c=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:d-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:Xfe;let b,w=!1,E,A,P,I;y&&(b=y.getSpacedPoints(f),w=!0,h=!1,E=y.computeFrenetFrames(f,!1),A=new J,P=new J,I=new J),h||(v=0,d=0,m=0,x=0);const R=o.extractPoints(u);let M=R.shape;const k=R.holes;if(!Ba.isClockWise(M)){M=M.reverse();for(let Me=0,Re=k.length;Me<Re;Me++){const Ce=k[Me];Ba.isClockWise(Ce)&&(k[Me]=Ce.reverse())}}function H(Me){const Ce=10000000000000001e-36;let Ee=Me[0];for(let Ye=1;Ye<=Me.length;Ye++){const qe=Ye%Me.length,Qe=Me[qe],wt=Qe.x-Ee.x,bt=Qe.y-Ee.y,Y=wt*wt+bt*bt,$=Math.max(Math.abs(Qe.x),Math.abs(Qe.y),Math.abs(Ee.x),Math.abs(Ee.y)),ye=Ce*$*$;if(Y<=ye){Me.splice(qe,1),Ye--;continue}Ee=Qe}}H(M),k.forEach(H);const j=k.length,V=M;for(let Me=0;Me<j;Me++){const Re=k[Me];M=M.concat(Re)}function X(Me,Re,Ce){return Re||console.error("THREE.ExtrudeGeometry: vec does not exist"),Me.clone().addScaledVector(Re,Ce)}const Z=M.length;function L(Me,Re,Ce){let Ee,Ye,qe;const Qe=Me.x-Re.x,wt=Me.y-Re.y,bt=Ce.x-Me.x,Y=Ce.y-Me.y,$=Qe*Qe+wt*wt,ye=Qe*Y-wt*bt;if(Math.abs(ye)>Number.EPSILON){const ne=Math.sqrt($),de=Math.sqrt(bt*bt+Y*Y),ge=Re.x-wt/ne,oe=Re.y+Qe/ne,pe=Ce.x-Y/de,$e=Ce.y+bt/de,nt=((pe-ge)*Y-($e-oe)*bt)/(Qe*Y-wt*bt);Ee=ge+Qe*nt-Me.x,Ye=oe+wt*nt-Me.y;const We=Ee*Ee+Ye*Ye;if(We<=2)return new ze(Ee,Ye);qe=Math.sqrt(We/2)}else{let ne=!1;Qe>Number.EPSILON?bt>Number.EPSILON&&(ne=!0):Qe<-Number.EPSILON?bt<-Number.EPSILON&&(ne=!0):Math.sign(wt)===Math.sign(Y)&&(ne=!0),ne?(Ee=-wt,Ye=Qe,qe=Math.sqrt($)):(Ee=Qe,Ye=wt,qe=Math.sqrt($/2))}return new ze(Ee/qe,Ye/qe)}const W=[];for(let Me=0,Re=V.length,Ce=Re-1,Ee=Me+1;Me<Re;Me++,Ce++,Ee++)Ce===Re&&(Ce=0),Ee===Re&&(Ee=0),W[Me]=L(V[Me],V[Ce],V[Ee]);const N=[];let q,te=W.concat();for(let Me=0,Re=j;Me<Re;Me++){const Ce=k[Me];q=[];for(let Ee=0,Ye=Ce.length,qe=Ye-1,Qe=Ee+1;Ee<Ye;Ee++,qe++,Qe++)qe===Ye&&(qe=0),Qe===Ye&&(Qe=0),q[Ee]=L(Ce[Ee],Ce[qe],Ce[Qe]);N.push(q),te=te.concat(q)}let G;if(v===0)G=Ba.triangulateShape(V,k);else{const Me=[],Re=[];for(let Ce=0;Ce<v;Ce++){const Ee=Ce/v,Ye=d*Math.cos(Ee*Math.PI/2),qe=m*Math.sin(Ee*Math.PI/2)+x;for(let Qe=0,wt=V.length;Qe<wt;Qe++){const bt=X(V[Qe],W[Qe],qe);we(bt.x,bt.y,-Ye),Ee===0&&Me.push(bt)}for(let Qe=0,wt=j;Qe<wt;Qe++){const bt=k[Qe];q=N[Qe];const Y=[];for(let $=0,ye=bt.length;$<ye;$++){const ne=X(bt[$],q[$],qe);we(ne.x,ne.y,-Ye),Ee===0&&Y.push(ne)}Ee===0&&Re.push(Y)}}G=Ba.triangulateShape(Me,Re)}const Ie=G.length,Oe=m+x;for(let Me=0;Me<Z;Me++){const Re=h?X(M[Me],te[Me],Oe):M[Me];w?(P.copy(E.normals[0]).multiplyScalar(Re.x),A.copy(E.binormals[0]).multiplyScalar(Re.y),I.copy(b[0]).add(P).add(A),we(I.x,I.y,I.z)):we(Re.x,Re.y,0)}for(let Me=1;Me<=f;Me++)for(let Re=0;Re<Z;Re++){const Ce=h?X(M[Re],te[Re],Oe):M[Re];w?(P.copy(E.normals[Me]).multiplyScalar(Ce.x),A.copy(E.binormals[Me]).multiplyScalar(Ce.y),I.copy(b[Me]).add(P).add(A),we(I.x,I.y,I.z)):we(Ce.x,Ce.y,c/f*Me)}for(let Me=v-1;Me>=0;Me--){const Re=Me/v,Ce=d*Math.cos(Re*Math.PI/2),Ee=m*Math.sin(Re*Math.PI/2)+x;for(let Ye=0,qe=V.length;Ye<qe;Ye++){const Qe=X(V[Ye],W[Ye],Ee);we(Qe.x,Qe.y,c+Ce)}for(let Ye=0,qe=k.length;Ye<qe;Ye++){const Qe=k[Ye];q=N[Ye];for(let wt=0,bt=Qe.length;wt<bt;wt++){const Y=X(Qe[wt],q[wt],Ee);w?we(Y.x,Y.y+b[f-1].y,b[f-1].x+Ce):we(Y.x,Y.y,c+Ce)}}}ae(),_e();function ae(){const Me=i.length/3;if(h){let Re=0,Ce=Z*Re;for(let Ee=0;Ee<Ie;Ee++){const Ye=G[Ee];Le(Ye[2]+Ce,Ye[1]+Ce,Ye[0]+Ce)}Re=f+v*2,Ce=Z*Re;for(let Ee=0;Ee<Ie;Ee++){const Ye=G[Ee];Le(Ye[0]+Ce,Ye[1]+Ce,Ye[2]+Ce)}}else{for(let Re=0;Re<Ie;Re++){const Ce=G[Re];Le(Ce[2],Ce[1],Ce[0])}for(let Re=0;Re<Ie;Re++){const Ce=G[Re];Le(Ce[0]+Z*f,Ce[1]+Z*f,Ce[2]+Z*f)}}r.addGroup(Me,i.length/3-Me,0)}function _e(){const Me=i.length/3;let Re=0;Ge(V,Re),Re+=V.length;for(let Ce=0,Ee=k.length;Ce<Ee;Ce++){const Ye=k[Ce];Ge(Ye,Re),Re+=Ye.length}r.addGroup(Me,i.length/3-Me,1)}function Ge(Me,Re){let Ce=Me.length;for(;--Ce>=0;){const Ee=Ce;let Ye=Ce-1;Ye<0&&(Ye=Me.length-1);for(let qe=0,Qe=f+v*2;qe<Qe;qe++){const wt=Z*qe,bt=Z*(qe+1),Y=Re+Ee+wt,$=Re+Ye+wt,ye=Re+Ye+bt,ne=Re+Ee+bt;Je(Y,$,ye,ne)}}}function we(Me,Re,Ce){l.push(Me),l.push(Re),l.push(Ce)}function Le(Me,Re,Ce){Pe(Me),Pe(Re),Pe(Ce);const Ee=i.length/3,Ye=_.generateTopUV(r,i,Ee-3,Ee-2,Ee-1);Q(Ye[0]),Q(Ye[1]),Q(Ye[2])}function Je(Me,Re,Ce,Ee){Pe(Me),Pe(Re),Pe(Ee),Pe(Re),Pe(Ce),Pe(Ee);const Ye=i.length/3,qe=_.generateSideWallUV(r,i,Ye-6,Ye-3,Ye-2,Ye-1);Q(qe[0]),Q(qe[1]),Q(qe[3]),Q(qe[1]),Q(qe[2]),Q(qe[3])}function Pe(Me){i.push(l[Me*3+0]),i.push(l[Me*3+1]),i.push(l[Me*3+2])}function Q(Me){s.push(Me.x),s.push(Me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return qfe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ab[i.type]().fromJSON(i)),new Aw(r,e.options)}}const Xfe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new ze(s,a),new ze(o,l),new ze(u,f)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],c=e[r*3+2],h=e[i*3],d=e[i*3+1],m=e[i*3+2],x=e[s*3],v=e[s*3+1],y=e[s*3+2];return Math.abs(o-f)<Math.abs(a-u)?[new ze(a,1-l),new ze(u,1-c),new ze(h,1-m),new ze(x,1-y)]:[new ze(o,1-l),new ze(f,1-c),new ze(d,1-m),new ze(v,1-y)]}};function qfe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Wy extends Bu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Wy(e.radius,e.detail)}}class Ew extends $t{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Gt(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],f=1/n,c=new J,h=new ze,d=new J,m=new J,x=new J;let v=0,y=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,d.x=y*1,d.y=-v,d.z=y*0,x.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:v=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,d.x=y*1,d.y=-v,d.z=y*0,m.copy(d),d.x+=x.x,d.y+=x.y,d.z+=x.z,d.normalize(),l.push(d.x,d.y,d.z),x.copy(m)}for(let _=0;_<=n;_++){const b=r+_*f*i,w=Math.sin(b),E=Math.cos(b);for(let A=0;A<=e.length-1;A++){c.x=e[A].x*w,c.y=e[A].y,c.z=e[A].x*E,a.push(c.x,c.y,c.z),h.x=_/n,h.y=A/(e.length-1),o.push(h.x,h.y);const P=l[3*A+0]*w,I=l[3*A+1],R=l[3*A+0]*E;u.push(P,I,R)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,E=w,A=w+e.length,P=w+e.length+1,I=w+1;s.push(E,A,I),s.push(P,I,A)}this.setIndex(s),this.setAttribute("position",new Ct(a,3)),this.setAttribute("uv",new Ct(o,2)),this.setAttribute("normal",new Ct(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ew(e.points,e.segments,e.phiStart,e.phiLength)}}class Xy extends Bu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Xy(e.radius,e.detail)}}class _l extends $t{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),u=o+1,f=l+1,c=e/o,h=n/l,d=[],m=[],x=[],v=[];for(let y=0;y<f;y++){const _=y*h-a;for(let b=0;b<u;b++){const w=b*c-s;m.push(w,-_,0),x.push(0,0,1),v.push(b/o),v.push(1-y/l)}}for(let y=0;y<l;y++)for(let _=0;_<o;_++){const b=_+u*y,w=_+u*(y+1),E=_+1+u*(y+1),A=_+1+u*y;d.push(b,w,A),d.push(w,E,A)}this.setIndex(d),this.setAttribute("position",new Ct(m,3)),this.setAttribute("normal",new Ct(x,3)),this.setAttribute("uv",new Ct(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _l(e.width,e.height,e.widthSegments,e.heightSegments)}}class Mw extends $t{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],f=[];let c=e;const h=(n-e)/i,d=new J,m=new ze;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const y=s+v/r*a;d.x=c*Math.cos(y),d.y=c*Math.sin(y),l.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(d.x/n+1)/2,m.y=(d.y/n+1)/2,f.push(m.x,m.y)}c+=h}for(let x=0;x<i;x++){const v=x*(r+1);for(let y=0;y<r;y++){const _=y+v,b=_,w=_+r+1,E=_+r+2,A=_+1;o.push(b,w,A),o.push(w,E,A)}}this.setIndex(o),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Cw extends $t{constructor(e=new Wc([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(o,l,f),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ct(i,3)),this.setAttribute("normal",new Ct(s,3)),this.setAttribute("uv",new Ct(a,2));function u(f){const c=i.length/3,h=f.extractPoints(n);let d=h.shape;const m=h.holes;Ba.isClockWise(d)===!1&&(d=d.reverse());for(let v=0,y=m.length;v<y;v++){const _=m[v];Ba.isClockWise(_)===!0&&(m[v]=_.reverse())}const x=Ba.triangulateShape(d,m);for(let v=0,y=m.length;v<y;v++){const _=m[v];d=d.concat(_)}for(let v=0,y=d.length;v<y;v++){const _=d[v];i.push(_.x,_.y,0),s.push(0,0,1),a.push(_.x,_.y)}for(let v=0,y=x.length;v<y;v++){const _=x[v],b=_[0]+c,w=_[1]+c,E=_[2]+c;r.push(b,w,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Kfe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new Cw(r,e.curveSegments)}}function Kfe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class qy extends $t{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let u=0;const f=[],c=new J,h=new J,d=[],m=[],x=[],v=[];for(let y=0;y<=r;y++){const _=[],b=y/r;let w=0;y===0&&a===0?w=.5/n:y===r&&l===Math.PI&&(w=-.5/n);for(let E=0;E<=n;E++){const A=E/n;c.x=-e*Math.cos(i+A*s)*Math.sin(a+b*o),c.y=e*Math.cos(a+b*o),c.z=e*Math.sin(i+A*s)*Math.sin(a+b*o),m.push(c.x,c.y,c.z),h.copy(c).normalize(),x.push(h.x,h.y,h.z),v.push(A+w,1-b),_.push(u++)}f.push(_)}for(let y=0;y<r;y++)for(let _=0;_<n;_++){const b=f[y][_+1],w=f[y][_],E=f[y+1][_],A=f[y+1][_+1];(y!==0||a>0)&&d.push(b,w,A),(y!==r-1||l<Math.PI)&&d.push(w,E,A)}this.setIndex(d),this.setAttribute("position",new Ct(m,3)),this.setAttribute("normal",new Ct(x,3)),this.setAttribute("uv",new Ct(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Tw extends Bu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Tw(e.radius,e.detail)}}class Pw extends $t{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],u=[],f=new J,c=new J,h=new J;for(let d=0;d<=r;d++)for(let m=0;m<=i;m++){const x=m/i*s,v=d/r*Math.PI*2;c.x=(e+n*Math.cos(v))*Math.cos(x),c.y=(e+n*Math.cos(v))*Math.sin(x),c.z=n*Math.sin(v),o.push(c.x,c.y,c.z),f.x=e*Math.cos(x),f.y=e*Math.sin(x),h.subVectors(c,f).normalize(),l.push(h.x,h.y,h.z),u.push(m/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let m=1;m<=i;m++){const x=(i+1)*d+m-1,v=(i+1)*(d-1)+m-1,y=(i+1)*(d-1)+m,_=(i+1)*d+m;a.push(x,v,_),a.push(v,y,_)}this.setIndex(a),this.setAttribute("position",new Ct(o,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Rw extends $t{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],f=[],c=new J,h=new J,d=new J,m=new J,x=new J,v=new J,y=new J;for(let b=0;b<=r;++b){const w=b/r*s*Math.PI*2;_(w,s,a,e,d),_(w+.01,s,a,e,m),v.subVectors(m,d),y.addVectors(m,d),x.crossVectors(v,y),y.crossVectors(x,v),x.normalize(),y.normalize();for(let E=0;E<=i;++E){const A=E/i*Math.PI*2,P=-n*Math.cos(A),I=n*Math.sin(A);c.x=d.x+(P*y.x+I*x.x),c.y=d.y+(P*y.y+I*x.y),c.z=d.z+(P*y.z+I*x.z),l.push(c.x,c.y,c.z),h.subVectors(c,d).normalize(),u.push(h.x,h.y,h.z),f.push(b/r),f.push(E/i)}}for(let b=1;b<=r;b++)for(let w=1;w<=i;w++){const E=(i+1)*(b-1)+(w-1),A=(i+1)*b+(w-1),P=(i+1)*b+w,I=(i+1)*(b-1)+w;o.push(E,A,I),o.push(A,P,I)}this.setIndex(o),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(f,2));function _(b,w,E,A,P){const I=Math.cos(b),R=Math.sin(b),M=E/w*b,k=Math.cos(M);P.x=A*(2+k)*.5*I,P.y=A*(2+k)*R*.5,P.z=A*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Iw extends $t{constructor(e=new _I(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new J,l=new J,u=new ze;let f=new J;const c=[],h=[],d=[],m=[];x(),this.setIndex(m),this.setAttribute("position",new Ct(c,3)),this.setAttribute("normal",new Ct(h,3)),this.setAttribute("uv",new Ct(d,2));function x(){for(let b=0;b<n;b++)v(b);v(s===!1?n:0),_(),y()}function v(b){f=e.getPointAt(b/n,f);const w=a.normals[b],E=a.binormals[b];for(let A=0;A<=i;A++){const P=A/i*Math.PI*2,I=Math.sin(P),R=-Math.cos(P);l.x=R*w.x+I*E.x,l.y=R*w.y+I*E.y,l.z=R*w.z+I*E.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=f.x+r*l.x,o.y=f.y+r*l.y,o.z=f.z+r*l.z,c.push(o.x,o.y,o.z)}}function y(){for(let b=1;b<=n;b++)for(let w=1;w<=i;w++){const E=(i+1)*(b-1)+(w-1),A=(i+1)*b+(w-1),P=(i+1)*b+w,I=(i+1)*(b-1)+w;m.push(E,A,I),m.push(A,P,I)}}function _(){for(let b=0;b<=n;b++)for(let w=0;w<=i;w++)u.x=b/n,u.y=w/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Iw(new Ab[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class v9 extends $t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,s=new J;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const c=l[u],h=c.start,d=c.count;for(let m=h,x=h+d;m<x;m+=3)for(let v=0;v<3;v++){const y=o.getX(m+v),_=o.getX(m+(v+1)%3);i.fromBufferAttribute(a,y),s.fromBufferAttribute(a,_),P3(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const f=3*o+u,c=3*o+(u+1)%3;i.fromBufferAttribute(a,f),s.fromBufferAttribute(a,c),P3(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ct(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function P3(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var R3=Object.freeze({__proto__:null,BoxGeometry:xf,CapsuleGeometry:bw,CircleGeometry:_w,ConeGeometry:Vy,CylinderGeometry:$y,DodecahedronGeometry:ww,EdgesGeometry:l9,ExtrudeGeometry:Aw,IcosahedronGeometry:Wy,LatheGeometry:Ew,OctahedronGeometry:Xy,PlaneGeometry:_l,PolyhedronGeometry:Bu,RingGeometry:Mw,ShapeGeometry:Cw,SphereGeometry:qy,TetrahedronGeometry:Tw,TorusGeometry:Pw,TorusKnotGeometry:Rw,TubeGeometry:Iw,WireframeGeometry:v9});class x9 extends Fr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new dt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class b9 extends Mi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ky extends Fr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new dt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oa extends Ky{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Gt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new dt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new dt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new dt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _9 extends Fr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new dt(16777215),this.specular=new dt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=By,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class w9 extends Fr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new dt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class S9 extends Fr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class A9 extends Fr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=By,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ow extends Fr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=U6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class SI extends Fr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class E9 extends Fr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new dt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class M9 extends Ti{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function kc(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function C9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function T9(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function HT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function AI(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push(...a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function Jfe(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),c=[],h=[];for(let d=0;d<u.times.length;++d){const m=u.times[d]*i;if(!(m<n||m>=r)){c.push(u.times[d]);for(let x=0;x<f;++x)h.push(u.values[d*f+x])}}c.length!==0&&(u.times=kc(c,u.times.constructor),u.values=kc(h,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function Yfe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(y){return y.name===o.name&&y.ValueTypeName===l});if(u===void 0)continue;let f=0;const c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=c/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const m=o.times.length-1;let x;if(s<=o.times[0]){const y=f,_=c-f;x=o.values.slice(y,_)}else if(s>=o.times[m]){const y=m*c+f,_=y+c-f;x=o.values.slice(y,_)}else{const y=o.createInterpolant(),_=f,b=c-f;y.evaluate(s),x=y.resultBuffer.slice(_,b)}l==="quaternion"&&new Yr().fromArray(x).normalize().conjugate().toArray(x);const v=u.times.length;for(let y=0;y<v;++y){const _=y*d+h;if(l==="quaternion")Yr.multiplyQuaternionsFlat(u.values,_,x,0,u.values,_);else{const b=d-h*2;for(let w=0;w<b;++w)u.values[_+w]-=x[w]}}}return t.blendMode=nI,t}class Zfe{static convertArray(e,n){return kc(e,n)}static isTypedArray(e){return C9(e)}static getKeyframeOrder(e){return T9(e)}static sortedArray(e,n,r){return HT(e,n,r)}static flattenJSON(e,n,r,i){AI(e,n,r,i)}static subclip(e,n,r,i,s=30){return Jfe(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return Yfe(e,n,r,i)}}class np{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class P9 extends np{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Rc,endingEnd:Rc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Ic:s=e,o=2*n-r;break;case Eg:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ic:a=e,l=2*r-n;break;case Eg:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-o),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=a*f}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,f=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,m=(r-n)/(i-n),x=m*m,v=x*m,y=-h*v+2*h*x-h*m,_=(1+h)*v+(-1.5-2*h)*x+(-.5+h)*m+1,b=(-1-d)*v+(1.5+d)*x+.5*m,w=d*v-d*x;for(let E=0;E!==o;++E)s[E]=y*a[f+E]+_*a[u+E]+b*a[l+E]+w*a[c+E];return s}}class EI extends np{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,f=(r-n)/(i-n),c=1-f;for(let h=0;h!==o;++h)s[h]=a[u+h]*c+a[l+h]*f;return s}}class R9 extends np{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class la{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=kc(n,this.TimeBufferType),this.values=kc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:kc(e.times,Array),values:kc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new R9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new EI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new P9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case dd:n=this.InterpolantFactoryMethodDiscrete;break;case pd:n=this.InterpolantFactoryMethodLinear;break;case e1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dd;case this.InterpolantFactoryMethodLinear:return pd;case this.InterpolantFactoryMethodSmooth:return e1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&C9(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===e1,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],f=e[o+1];if(u!==f&&(o!==1||u!==e[0]))if(i)l=!0;else{const c=o*r,h=c-r,d=c+r;for(let m=0;m!==r;++m){const x=n[c+m];if(x!==n[h+m]||x!==n[d+m]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const c=o*r,h=a*r;for(let d=0;d!==r;++d)n[h+d]=n[c+d]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}la.prototype.ValueTypeName="";la.prototype.TimeBufferType=Float32Array;la.prototype.ValueBufferType=Float32Array;la.prototype.DefaultInterpolation=pd;class bf extends la{constructor(e,n,r){super(e,n,r)}}bf.prototype.ValueTypeName="bool";bf.prototype.ValueBufferType=Array;bf.prototype.DefaultInterpolation=dd;bf.prototype.InterpolantFactoryMethodLinear=void 0;bf.prototype.InterpolantFactoryMethodSmooth=void 0;class MI extends la{constructor(e,n,r,i){super(e,n,r,i)}}MI.prototype.ValueTypeName="color";class af extends la{constructor(e,n,r,i){super(e,n,r,i)}}af.prototype.ValueTypeName="number";class I9 extends np{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let u=e*o;for(let f=u+o;u!==f;u+=4)Yr.slerpFlat(s,0,a,u-o,a,u,l);return s}}class of extends la{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new I9(this.times,this.values,this.getValueSize(),e)}}of.prototype.ValueTypeName="quaternion";of.prototype.InterpolantFactoryMethodSmooth=void 0;class _f extends la{constructor(e,n,r){super(e,n,r)}}_f.prototype.ValueTypeName="string";_f.prototype.ValueBufferType=Array;_f.prototype.DefaultInterpolation=dd;_f.prototype.InterpolantFactoryMethodLinear=void 0;_f.prototype.InterpolantFactoryMethodSmooth=void 0;class lf extends la{constructor(e,n,r,i){super(e,n,r,i)}}lf.prototype.ValueTypeName="vector";class xd{constructor(e="",n=-1,r=[],i=fw){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Cs(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(ehe(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=r.length;s!==a;++s)n.push(la.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const f=T9(l);l=HT(l,1,f),u=HT(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new af(".morphTargetInfluences["+n[o].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],f=u.name.match(s);if(f&&f.length>1){const c=f[1];let h=i[c];h||(i[c]=h=[]),h.push(u)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(c,h,d,m,x){if(d.length!==0){const v=[],y=[];AI(d,v,y,m),v.length!==0&&x.push(new c(h,v,y))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let c=0;c<u.length;c++){const h=u[c].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let x=0;x<h[m].morphTargets.length;x++)d[h[m].morphTargets[x]]=-1;for(const x in d){const v=[],y=[];for(let _=0;_!==h[m].morphTargets.length;++_){const b=h[m];v.push(b.time),y.push(b.morphTarget===x?1:0)}i.push(new af(".morphTargetInfluence["+x+"]",v,y))}l=d.length*a}else{const d=".bones["+n[c].name+"]";r(lf,d+".position",h,"pos",i),r(of,d+".quaternion",h,"rot",i),r(lf,d+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Qfe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return af;case"vector":case"vector2":case"vector3":case"vector4":return lf;case"color":return MI;case"quaternion":return of;case"bool":case"boolean":return bf;case"string":return _f}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ehe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Qfe(t.type);if(t.times===void 0){const n=[],r=[];AI(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const lo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class kw{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.abortController=new AbortController,this.itemStart=function(f){o++,s===!1&&i.onStart!==void 0&&i.onStart(f,a,o),s=!0},this.itemEnd=function(f){a++,i.onProgress!==void 0&&i.onProgress(f,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,c){return u.push(f,c),this},this.removeHandler=function(f){const c=u.indexOf(f);return c!==-1&&u.splice(c,2),this},this.getHandler=function(f){for(let c=0,h=u.length;c<h;c+=2){const d=u[c],m=u[c+1];if(d.global&&(d.lastIndex=0),d.test(f))return m}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const O9=new kw;class li{constructor(e){this.manager=e!==void 0?e:O9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}li.DEFAULT_MATERIAL_NAME="__DEFAULT";const jo={};class the extends Error{constructor(e,n){super(e),this.response=n}}class ai extends li{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=lo.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(jo[e]!==void 0){jo[e].push({onLoad:n,onProgress:r,onError:i});return}jo[e]=[],jo[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=jo[e],c=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),d=h?parseInt(h):0,m=d!==0;let x=0;const v=new ReadableStream({start(y){_();function _(){c.read().then(({done:b,value:w})=>{if(b)y.close();else{x+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:m,loaded:x,total:d});for(let A=0,P=f.length;A<P;A++){const I=f[A];I.onProgress&&I.onProgress(E)}y.enqueue(w),_()}},b=>{y.error(b)})}}});return new Response(v)}else throw new the(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,o));case"json":return u.json();default:if(o==="")return u.text();{const c=/charset="?([^;"\s]*)"?/i.exec(o),h=c&&c[1]?c[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(m=>d.decode(m))}}}).then(u=>{lo.add(`file:${e}`,u);const f=jo[e];delete jo[e];for(let c=0,h=f.length;c<h;c++){const d=f[c];d.onLoad&&d.onLoad(u)}}).catch(u=>{const f=jo[e];if(f===void 0)throw this.manager.itemError(e),u;delete jo[e];for(let c=0,h=f.length;c<h;c++){const d=f[c];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class nhe extends li{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ai(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=xd.parse(e[r]);n.push(i)}return n}}class rhe extends li{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new xw,l=new ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(c){l.load(e[c],function(h){const d=s.parse(h,!0);a[c]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(o.minFilter=Pn),o.image=a,o.format=d.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let c=0,h=e.length;c<h;++c)f(c);else l.load(e,function(c){const h=s.parse(c,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let m=0;m<d;m++){a[m]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)a[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+x]),a[m].format=h.format,a[m].width=h.width,a[m].height=h.height}o.image=a}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=Pn),o.format=h.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}const ah=new WeakMap;class kg extends li{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=lo.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0);else{let c=ah.get(a);c===void 0&&(c=[],ah.set(a,c)),c.push({onLoad:n,onError:i})}return a}const o=Tg("img");function l(){f(),n&&n(this);const c=ah.get(this)||[];for(let h=0;h<c.length;h++){const d=c[h];d.onLoad&&d.onLoad(this)}ah.delete(this),s.manager.itemEnd(e)}function u(c){f(),i&&i(c),lo.remove(`image:${e}`);const h=ah.get(this)||[];for(let d=0;d<h.length;d++){const m=h[d];m.onError&&m.onError(c)}ah.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),lo.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class k9 extends li{constructor(e){super(e)}load(e,n,r,i){const s=new zy;s.colorSpace=Bi;const a=new kg(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(f){s.images[u]=f,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class CI extends li{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new za,o=new ai(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:vr,a.wrapT=u.wrapT!==void 0?u.wrapT:vr,a.magFilter=u.magFilter!==void 0?u.magFilter:Pn,a.minFilter=u.minFilter!==void 0?u.minFilter:Pn,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Qs),u.mipmapCount===1&&(a.minFilter=Pn),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class N9 extends li{constructor(e){super(e)}load(e,n,r,i){const s=new In,a=new kg(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Du extends pn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new dt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class B9 extends Du{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new dt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const nM=new Ut,I3=new J,O3=new J;class TI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.mapType=ji,this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tp,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;I3.setFromMatrixPosition(e.matrixWorld),n.position.copy(I3),O3.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(O3),n.updateMatrixWorld(),nM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nM,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(nM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ihe extends TI{constructor(){super(new dr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=gd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PI extends Du{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new ihe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const k3=new Ut,im=new J,rM=new J;class she extends TI{constructor(){super(new dr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new xn(2,1,1,1),new xn(0,1,1,1),new xn(3,1,1,1),new xn(1,1,1,1),new xn(3,0,1,1),new xn(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),im.setFromMatrixPosition(e.matrixWorld),r.position.copy(im),rM.copy(r.position),rM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(rM),r.updateMatrixWorld(),i.makeTranslation(-im.x,-im.y,-im.z),k3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(k3,r.coordinateSystem,r.reversedDepth)}}class RI extends Du{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new she}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class mo extends Uy{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=f*this.view.offsetY,l=o-f*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class ahe extends TI{constructor(){super(new mo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class II extends Du{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.shadow=new ahe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class D9 extends Du{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class L9 extends Du{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class F9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class U9 extends Du{constructor(e=new F9,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Nw extends li{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new ai(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new dt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new dt().setHex(a.value);break;case"v2":i.uniforms[s].value=new ze().fromArray(a.value);break;case"v3":i.uniforms[s].value=new J().fromArray(a.value);break;case"v4":i.uniforms[s].value=new xn().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Xt().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Ut().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ze().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Nw.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:x9,SpriteMaterial:cI,RawShaderMaterial:b9,ShaderMaterial:Mi,PointsMaterial:vw,MeshPhysicalMaterial:oa,MeshStandardMaterial:Ky,MeshPhongMaterial:_9,MeshToonMaterial:w9,MeshNormalMaterial:S9,MeshLambertMaterial:A9,MeshDepthMaterial:Ow,MeshDistanceMaterial:SI,MeshBasicMaterial:es,MeshMatcapMaterial:E9,LineDashedMaterial:M9,LineBasicMaterial:Ti,Material:Fr};return new n[e]}}class vu{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class z9 extends $t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class j9 extends li{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ai(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(d,m){if(n[m]!==void 0)return n[m];const v=d.interleavedBuffers[m],y=s(d,v.buffer),_=Rh(v.type,y),b=new Hy(_,v.stride);return b.uuid=v.uuid,n[m]=b,b}function s(d,m){if(r[m]!==void 0)return r[m];const v=d.arrayBuffers[m],y=new Uint32Array(v).buffer;return r[m]=y,y}const a=e.isInstancedBufferGeometry?new z9:new $t,o=e.data.index;if(o!==void 0){const d=Rh(o.type,o.array);a.setIndex(new wn(d,1))}const l=e.data.attributes;for(const d in l){const m=l[d];let x;if(m.isInterleavedBufferAttribute){const v=i(e.data,m.data);x=new Mu(v,m.itemSize,m.offset,m.normalized)}else{const v=Rh(m.type,m.array),y=m.isInstancedBufferAttribute?rf:wn;x=new y(v,m.itemSize,m.normalized)}m.name!==void 0&&(x.name=m.name),m.usage!==void 0&&x.setUsage(m.usage),a.setAttribute(d,x)}const u=e.data.morphAttributes;if(u)for(const d in u){const m=u[d],x=[];for(let v=0,y=m.length;v<y;v++){const _=m[v];let b;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);b=new Mu(w,_.itemSize,_.offset,_.normalized)}else{const w=Rh(_.type,_.array);b=new wn(w,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),x.push(b)}a.morphAttributes[d]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let d=0,m=c.length;d!==m;++d){const x=c[d];a.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(a.boundingSphere=new Qr().fromJSON(h)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class ohe extends li{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?vu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new ai(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(c){i!==void 0&&i(c),console.error("THREE:ObjectLoader: Can't parse "+e+".",c.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?vu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ai(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),this.bindLightTargets(u),n!==void 0){let c=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){c=!0;break}c===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Wc().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new Gy().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new j9;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in R3?o=R3[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Nw;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=xd.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(f)}else return l.data?{data:Rh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new kw(n);s=new kg(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const c=e[u],h=c.url;if(Array.isArray(h)){const d=[];for(let m=0,x=h.length;m<x;m++){const v=h[m],y=o(v);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new za(y.data,y.width,y.height)))}i[c.uuid]=new su(d)}else{const d=o(c.url);i[c.uuid]=new su(d)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:Rh(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new kg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const f=[];for(let c=0,h=u.length;c<h;c++){const d=u[c],m=await s(d);m!==null&&(m instanceof HTMLImageElement?f.push(m):f.push(new za(m.data,m.width,m.height)))}r[l.uuid]=new su(f)}else{const f=await s(l.url);r[l.uuid]=new su(f)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],u=l.data;let f;Array.isArray(u)?(f=new zy,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new za:f=new In,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=o.uuid,o.name!==void 0&&(f.name=o.name),o.mapping!==void 0&&(f.mapping=r(o.mapping,lhe)),o.channel!==void 0&&(f.channel=o.channel),o.offset!==void 0&&f.offset.fromArray(o.offset),o.repeat!==void 0&&f.repeat.fromArray(o.repeat),o.center!==void 0&&f.center.fromArray(o.center),o.rotation!==void 0&&(f.rotation=o.rotation),o.wrap!==void 0&&(f.wrapS=r(o.wrap[0],N3),f.wrapT=r(o.wrap[1],N3)),o.format!==void 0&&(f.format=o.format),o.internalFormat!==void 0&&(f.internalFormat=o.internalFormat),o.type!==void 0&&(f.type=o.type),o.colorSpace!==void 0&&(f.colorSpace=o.colorSpace),o.minFilter!==void 0&&(f.minFilter=r(o.minFilter,B3)),o.magFilter!==void 0&&(f.magFilter=r(o.magFilter,B3)),o.anisotropy!==void 0&&(f.anisotropy=o.anisotropy),o.flipY!==void 0&&(f.flipY=o.flipY),o.generateMipmaps!==void 0&&(f.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(f.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(f.compareFunction=o.compareFunction),o.userData!==void 0&&(f.userData=o.userData),i[o.uuid]=f}return i}parseObject(e,n,r,i,s){let a;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let m=0,x=h.length;m<x;m++){const v=h[m];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),d.push(r[v])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let f,c;switch(e.type){case"Scene":a=new jy,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new dt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new mw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new pw(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new dr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new mo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new D9(e.color,e.intensity);break;case"DirectionalLight":a=new II(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new RI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new L9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new PI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new B9(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new U9().fromJSON(e);break;case"SkinnedMesh":f=o(e.geometry),c=l(e.material),a=new fI(f,c),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":f=o(e.geometry),c=l(e.material),a=new Yn(f,c);break;case"InstancedMesh":f=o(e.geometry),c=l(e.material);const h=e.count,d=e.instanceMatrix,m=e.instanceColor;a=new hI(f,c,h),a.instanceMatrix=new rf(new Float32Array(d.array),16),m!==void 0&&(a.instanceColor=new rf(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":f=o(e.geometry),c=l(e.material),a=new a9(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,c),a.geometry=f,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(x=>{let v=null,y=null;return x.boundingBox!==void 0&&(v=new Zr().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(y=new Qr().fromJSON(x.boundingSphere)),{...x,boundingBox:v,boundingSphere:y}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Qr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Zr().fromJSON(e.boundingBox));break;case"LOD":a=new s9;break;case"Line":a=new dl(o(e.geometry),l(e.material));break;case"LineLoop":a=new dI(o(e.geometry),l(e.material));break;case"LineSegments":a=new Ga(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new pI(o(e.geometry),l(e.material));break;case"Sprite":a=new i9(l(e.material));break;case"Group":a=new Zo;break;case"Bone":a=new gw;break;default:a=new pn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)a.add(this.parseObject(h[d],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const m=h[d];a.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const m=h[d],x=a.getObjectByProperty("uuid",m.object);x!==void 0&&a.addLevel(x,m.distance,m.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new pn}})}}const lhe={UVMapping:Su,CubeReflectionMapping:xo,CubeRefractionMapping:Au,EquirectangularReflectionMapping:od,EquirectangularRefractionMapping:Ag,CubeUVReflectionMapping:ep},N3={RepeatWrapping:Eu,ClampToEdgeWrapping:vr,MirroredRepeatWrapping:ld},B3={NearestFilter:Jr,NearestMipmapNearestFilter:iw,NearestMipmapLinearFilter:Pc,LinearFilter:Pn,LinearMipmapNearestFilter:Gh,LinearMipmapLinearFilter:Qs},iM=new WeakMap;class H9 extends li{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=lo.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{if(iM.has(a)===!0)i&&i(iM.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return lo.add(`image-bitmap:${e}`,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),iM.set(l,u),lo.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});lo.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let ix;class OI{static getContext(){return ix===void 0&&(ix=new(window.AudioContext||window.webkitAudioContext)),ix}static setContext(e){ix=e}}class uhe extends li{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ai(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);OI.getContext().decodeAudioData(u,function(c){n(c)}).catch(o)}catch(u){o(u)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const D3=new Ut,L3=new Ut,ic=new Ut;class che{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,ic.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan($c*n.fov*.5)/n.zoom;let o,l;L3.elements[12]=-i,D3.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,ic.elements[0]=2*n.near/(l-o),ic.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(ic),o=-a*n.aspect-s,l=a*n.aspect-s,ic.elements[0]=2*n.near/(l-o),ic.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(ic)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(L3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(D3)}}class G9 extends dr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class kI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const sc=new J,sM=new Yr,fhe=new J,ac=new J,oc=new J;class hhe extends pn{constructor(){super(),this.type="AudioListener",this.context=OI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sc,sM,fhe),ac.set(0,0,-1).applyQuaternion(sM),oc.set(0,1,0).applyQuaternion(sM),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(sc.x,r),n.positionY.linearRampToValueAtTime(sc.y,r),n.positionZ.linearRampToValueAtTime(sc.z,r),n.forwardX.linearRampToValueAtTime(ac.x,r),n.forwardY.linearRampToValueAtTime(ac.y,r),n.forwardZ.linearRampToValueAtTime(ac.z,r),n.upX.linearRampToValueAtTime(oc.x,r),n.upY.linearRampToValueAtTime(oc.y,r),n.upZ.linearRampToValueAtTime(oc.z,r)}else n.setPosition(sc.x,sc.y,sc.z),n.setOrientation(ac.x,ac.y,ac.z,oc.x,oc.y,oc.z)}}class $9 extends pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const lc=new J,F3=new Yr,dhe=new J,uc=new J;class phe extends $9{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(lc,F3,dhe),uc.set(0,0,1).applyQuaternion(F3);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(lc.x,r),n.positionY.linearRampToValueAtTime(lc.y,r),n.positionZ.linearRampToValueAtTime(lc.z,r),n.orientationX.linearRampToValueAtTime(uc.x,r),n.orientationY.linearRampToValueAtTime(uc.y,r),n.orientationZ.linearRampToValueAtTime(uc.z,r)}else n.setPosition(lc.x,lc.y,lc.z),n.setOrientation(uc.x,uc.y,uc.z)}}class mhe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class V9{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Yr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;Yr.multiplyQuaternionsFlat(e,a,e,n,e,r),Yr.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const NI="\\[\\]\\.:\\/",ghe=new RegExp("["+NI+"]","g"),BI="[^"+NI+"]",yhe="[^"+NI.replace("\\.","")+"]",vhe=/((?:WC+[\/:])*)/.source.replace("WC",BI),xhe=/(WCOD+)?/.source.replace("WCOD",yhe),bhe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",BI),_he=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",BI),whe=new RegExp("^"+vhe+xhe+bhe+_he+"$"),She=["material","materials","bones","map"];class Ahe{constructor(e,n,r){const i=r||mn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class mn{constructor(e,n,r){this.path=n,this.parsedPath=r||mn.parseTrackName(n),this.node=mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new mn.Composite(e,n,r):new mn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ghe,"")}static parseTrackName(e){const n=whe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);She.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=mn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mn.Composite=Ahe;mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};mn.prototype.GetterByBindingType=[mn.prototype._getValue_direct,mn.prototype._getValue_array,mn.prototype._getValue_arrayElement,mn.prototype._getValue_toArray];mn.prototype.SetterByBindingTypeAndVersioning=[[mn.prototype._setValue_direct,mn.prototype._setValue_direct_setNeedsUpdate,mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_array,mn.prototype._setValue_array_setNeedsUpdate,mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_arrayElement,mn.prototype._setValue_arrayElement_setNeedsUpdate,mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_fromArray,mn.prototype._setValue_fromArray_setNeedsUpdate,mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ehe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let f=0,c=arguments.length;f!==c;++f){const h=arguments[f],d=h.uuid;let m=n[d];if(m===void 0){m=l++,n[d]=m,e.push(h);for(let x=0,v=a;x!==v;++x)s[x].push(new mn(h,r[x],i[x]))}else if(m<u){o=e[m];const x=--u,v=e[x];n[v.uuid]=m,e[m]=v,n[d]=x,e[x]=h;for(let y=0,_=a;y!==_;++y){const b=s[y],w=b[x];let E=b[m];b[m]=w,E===void 0&&(E=new mn(h,r[y],i[y])),b[x]=E}}else e[m]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,f=n[u];if(f!==void 0&&f>=s){const c=s++,h=e[c];n[h.uuid]=f,e[f]=h,n[u]=c,e[c]=l;for(let d=0,m=i;d!==m;++d){const x=r[d],v=x[c],y=x[f];x[f]=v,x[c]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],f=u.uuid,c=n[f];if(c!==void 0)if(delete n[f],c<s){const h=--s,d=e[h],m=--a,x=e[m];n[d.uuid]=c,e[c]=d,n[x.uuid]=h,e[h]=x,e.pop();for(let v=0,y=i;v!==y;++v){const _=r[v],b=_[h],w=_[m];_[c]=b,_[h]=w,_.pop()}}else{const h=--a,d=e[h];h>0&&(n[d.uuid]=c),e[c]=d,e.pop();for(let m=0,x=i;m!==x;++m){const v=r[m];v[c]=v[h],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,c=new Array(u);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(c);for(let h=f,d=l.length;h!==d;++h){const m=l[h];c[h]=new mn(m,e,n)}return c}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];n[u]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class W9{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:Rc,endingEnd:Rc};for(let u=0;u!==a;++u){const f=s[u].createInterpolant(null);o[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case nI:for(let f=0,c=l.length;f!==c;++f)l[f].evaluate(a),u[f].accumulateAdditive(o);break;case fw:default:for(let f=0,c=l.length;f!==c;++f)l[f].evaluate(a),u[f].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===L6;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===D6){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Ic,i.endingEnd=Ic):(e?i.endingStart=this.zeroSlopeAtStart?Ic:Rc:i.endingStart=Eg,n?i.endingEnd=this.zeroSlopeAtEnd?Ic:Rc:i.endingEnd=Eg)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const Mhe=new Float32Array(1);class X9 extends Ao{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let c=0;c!==s;++c){const h=i[c],d=h.name;let m=f[d];if(m!==void 0)++m.referenceCount,a[c]=m;else{if(m=a[c],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,d));continue}const x=n&&n._propertyBindings[c].binding.parsedPath;m=new V9(mn.create(r,d,x),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,d),a[c]=m}o[c].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const c=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new EI(new Float32Array(2),new Float32Array(2),1,Mhe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?xd.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=fw),l!==void 0){const c=l.actionByRoot[s];if(c!==void 0&&c.blendMode===r)return c;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const f=new W9(this,a,n,r);return this._bindAction(f,u),this._addInactiveAction(f,o,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?xd.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const f=u._cacheIndex,c=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=f,n[f]=c,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Che extends aI{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new dw(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class DI{constructor(e){this.value=e}clone(){return new DI(this.value.clone===void 0?this.value:this.value.clone())}}let The=0;class Phe extends Ao{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:The++}),this.name="",this.usage=Cg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Rhe extends Hy{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Ihe{constructor(e,n,r,i,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const U3=new Ut;class LI{constructor(e,n,r=0,i=1/0){this.ray=new vf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Vc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return U3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(U3),this}intersectObject(e,n=!0,r=[]){return GT(e,this,r,n),r.sort(z3),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)GT(e[i],this,r,n);return r.sort(z3),r}}function z3(t,e){return t.distance-e.distance}function GT(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)GT(s[a],e,n,!0)}}class Ohe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=khe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function khe(){this._document.hidden===!1&&this.reset()}class $T{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Gt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Nhe{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class FI{constructor(e,n,r,i){FI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const j3=new ze;class Bhe{constructor(e=new ze(1/0,1/0),n=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=j3.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,j3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const H3=new J,sx=new J,oh=new J,lh=new J,aM=new J,Dhe=new J,Lhe=new J;class Fhe{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){H3.subVectors(e,this.start),sx.subVectors(this.end,this.start);const r=sx.dot(sx);let s=sx.dot(H3)/r;return n&&(s=Gt(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=Dhe,r=Lhe){const i=10000000000000001e-32;let s,a;const o=this.start,l=e.start,u=this.end,f=e.end;oh.subVectors(u,o),lh.subVectors(f,l),aM.subVectors(o,l);const c=oh.dot(oh),h=lh.dot(lh),d=lh.dot(aM);if(c<=i&&h<=i)return n.copy(o),r.copy(l),n.sub(r),n.dot(n);if(c<=i)s=0,a=d/h,a=Gt(a,0,1);else{const m=oh.dot(aM);if(h<=i)a=0,s=Gt(-m/c,0,1);else{const x=oh.dot(lh),v=c*h-x*x;v!==0?s=Gt((x*d-m*h)/v,0,1):s=0,a=(x*s+d)/h,a<0?(a=0,s=Gt(-m/c,0,1)):a>1&&(a=1,s=Gt((x-m)/c,0,1))}}return n.copy(o).add(oh.multiplyScalar(s)),r.copy(l).add(lh.multiplyScalar(a)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const G3=new J;class Uhe extends pn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new $t,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,f=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Ct(i,3));const s=new Ti({fog:!1,toneMapped:!1});this.cone=new Ga(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),G3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(G3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Gl=new J,ax=new Ut,oM=new Ut;class zhe extends Ga{constructor(e){const n=q9(e),r=new $t,i=[],s=[];for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Ct(i,3)),r.setAttribute("color",new Ct(s,3));const a=new Ti({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new dt(255),l=new dt(65280);this.setColors(o,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");oM.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(ax.multiplyMatrices(oM,o.matrixWorld),Gl.setFromMatrixPosition(ax),i.setXYZ(a,Gl.x,Gl.y,Gl.z),ax.multiplyMatrices(oM,o.parent.matrixWorld),Gl.setFromMatrixPosition(ax),i.setXYZ(a+1,Gl.x,Gl.y,Gl.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function q9(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...q9(t.children[n]));return e}class jhe extends Yn{constructor(e,n,r){const i=new qy(n,4,2),s=new es({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Hhe=new J,$3=new dt,V3=new dt;class Ghe extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Xy(n);i.rotateY(Math.PI*.5),this.material=new es({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new wn(a,3)),this.add(new Yn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");$3.copy(this.light.color),V3.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?$3:V3;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Hhe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $he extends Ga{constructor(e=10,n=10,r=4473924,i=8947848){r=new dt(r),i=new dt(i);const s=n/2,a=e/n,o=e/2,l=[],u=[];for(let h=0,d=0,m=-o;h<=n;h++,m+=a){l.push(-o,0,m,o,0,m),l.push(m,0,-o,m,0,o);const x=h===s?r:i;x.toArray(u,d),d+=3,x.toArray(u,d),d+=3,x.toArray(u,d),d+=3,x.toArray(u,d),d+=3}const f=new $t;f.setAttribute("position",new Ct(l,3)),f.setAttribute("color",new Ct(u,3));const c=new Ti({vertexColors:!0,toneMapped:!1});super(f,c),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vhe extends Ga{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new dt(s),a=new dt(a);const o=[],l=[];if(n>1)for(let c=0;c<n;c++){const h=c/n*(Math.PI*2),d=Math.sin(h)*e,m=Math.cos(h)*e;o.push(0,0,0),o.push(d,0,m);const x=c&1?s:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let c=0;c<r;c++){const h=c&1?s:a,d=e-e/r*c;for(let m=0;m<i;m++){let x=m/i*(Math.PI*2),v=Math.sin(x)*d,y=Math.cos(x)*d;o.push(v,0,y),l.push(h.r,h.g,h.b),x=(m+1)/i*(Math.PI*2),v=Math.sin(x)*d,y=Math.cos(x)*d,o.push(v,0,y),l.push(h.r,h.g,h.b)}}const u=new $t;u.setAttribute("position",new Ct(o,3)),u.setAttribute("color",new Ct(l,3));const f=new Ti({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const W3=new J,ox=new J,X3=new J;class Whe extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new $t;i.setAttribute("position",new Ct([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ti({fog:!1,toneMapped:!1});this.lightPlane=new dl(i,s),this.add(this.lightPlane),i=new $t,i.setAttribute("position",new Ct([0,0,0,0,0,1],3)),this.targetLine=new dl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),W3.setFromMatrixPosition(this.light.matrixWorld),ox.setFromMatrixPosition(this.light.target.matrixWorld),X3.subVectors(ox,W3),this.lightPlane.lookAt(ox),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ox),this.targetLine.scale.z=X3.length()}}const lx=new J,cr=new Uy;class Xhe extends Ga{constructor(e){const n=new $t,r=new Ti({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,x){l(m),l(x)}function l(m){i.push(0,0,0),s.push(0,0,0),a[m]===void 0&&(a[m]=[]),a[m].push(i.length/3-1)}n.setAttribute("position",new Ct(i,3)),n.setAttribute("color",new Ct(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new dt(16755200),f=new dt(16711680),c=new dt(43775),h=new dt(16777215),d=new dt(3355443);this.setColors(u,f,c,h,d)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,a;if(cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===As)s=-1,a=1;else if(this.camera.coordinateSystem===md)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);mr("c",n,e,cr,0,0,s),mr("t",n,e,cr,0,0,a),mr("n1",n,e,cr,-r,-i,s),mr("n2",n,e,cr,r,-i,s),mr("n3",n,e,cr,-r,i,s),mr("n4",n,e,cr,r,i,s),mr("f1",n,e,cr,-r,-i,a),mr("f2",n,e,cr,r,-i,a),mr("f3",n,e,cr,-r,i,a),mr("f4",n,e,cr,r,i,a),mr("u1",n,e,cr,r*.7,i*1.1,s),mr("u2",n,e,cr,-r*.7,i*1.1,s),mr("u3",n,e,cr,0,i*2,s),mr("cf1",n,e,cr,-r,0,a),mr("cf2",n,e,cr,r,0,a),mr("cf3",n,e,cr,0,-i,a),mr("cf4",n,e,cr,0,i,a),mr("cn1",n,e,cr,-r,0,s),mr("cn2",n,e,cr,r,0,s),mr("cn3",n,e,cr,0,-i,s),mr("cn4",n,e,cr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mr(t,e,n,r,i,s,a){lx.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let u=0,f=o.length;u<f;u++)l.setXYZ(o[u],lx.x,lx.y,lx.z)}}const ux=new Zr;class qhe extends Ga{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new $t;s.setIndex(new wn(r,1)),s.setAttribute("position",new wn(i,3)),super(s,new Ti({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ux.setFromObject(this.object),ux.isEmpty())return;const e=ux.min,n=ux.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Khe extends Ga{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new $t;s.setIndex(new wn(r,1)),s.setAttribute("position",new Ct(i,3)),super(s,new Ti({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jhe extends dl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new $t;a.setAttribute("position",new Ct(s,3)),a.computeBoundingSphere(),super(a,new Ti({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new $t;l.setAttribute("position",new Ct(o,3)),l.computeBoundingSphere(),this.add(new Yn(l,new es({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const q3=new J;let cx,lM;class Yhe extends pn{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",cx===void 0&&(cx=new $t,cx.setAttribute("position",new Ct([0,0,0,0,1,0],3)),lM=new Vy(.5,1,5,1),lM.translate(0,-.5,0)),this.position.copy(n),this.line=new dl(cx,new Ti({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yn(lM,new es({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{q3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(q3,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Zhe extends Ga{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new $t;i.setAttribute("position",new Ct(n,3)),i.setAttribute("color",new Ct(r,3));const s=new Ti({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new dt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qhe{constructor(){this.type="ShapePath",this.color=new dt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Eb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const _=[];for(let b=0,w=y.length;b<w;b++){const E=y[b],A=new Wc;A.curves=E.curves,_.push(A)}return _}function r(y,_){const b=_.length;let w=!1;for(let E=b-1,A=0;A<b;E=A++){let P=_[E],I=_[A],R=I.x-P.x,M=I.y-P.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(P=_[A],R=-R,I=_[E],M=-M),y.y<P.y||y.y>I.y)continue;if(y.y===P.y){if(y.x===P.x)return!0}else{const k=M*(y.x-P.x)-R*(y.y-P.y);if(k===0)return!0;if(k<0)continue;w=!w}}else{if(y.y!==P.y)continue;if(I.x<=y.x&&y.x<=P.x||P.x<=y.x&&y.x<=I.x)return!0}}return w}const i=Ba.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new Wc,l.curves=o.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const c=[],h=[];let d=[],m=0,x;h[m]=void 0,d[m]=[];for(let y=0,_=s.length;y<_;y++)o=s[y],x=o.getPoints(),a=i(x),a=e?!a:a,a?(!f&&h[m]&&m++,h[m]={s:new Wc,p:x},h[m].s.curves=o.curves,f&&m++,d[m]=[]):d[m].push({h:o,p:x[0]});if(!h[0])return n(s);if(h.length>1){let y=!1,_=0;for(let b=0,w=h.length;b<w;b++)c[b]=[];for(let b=0,w=h.length;b<w;b++){const E=d[b];for(let A=0;A<E.length;A++){const P=E[A];let I=!0;for(let R=0;R<h.length;R++)r(P.p,h[R].p)&&(b!==R&&_++,I?(I=!1,c[R].push(P)):y=!0);I&&c[b].push(P)}}_>0&&y===!1&&(d=c)}let v;for(let y=0,_=h.length;y<_;y++){l=h[y].s,u.push(l),v=d[y];for(let b=0,w=v.length;b<w;b++)l.holes.push(v[b].h)}return u}}class ede extends Ao{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function tde(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function nde(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function rde(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function VT(t,e,n,r){const i=ide(r);switch(n){case ZR:return t*e;case Ly:return t*e/i.components*i.byteLength;case Fy:return t*e/i.components*i.byteLength;case eI:return t*e*2/i.components*i.byteLength;case uw:return t*e*2/i.components*i.byteLength;case QR:return t*e*3/i.components*i.byteLength;case xr:return t*e*4/i.components*i.byteLength;case cw:return t*e*4/i.components*i.byteLength;case $m:case Vm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Wm:case Xm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case q1:case J1:return Math.max(t,16)*Math.max(e,8)/4;case X1:case K1:return Math.max(t,8)*Math.max(e,8)/2;case Y1:case Z1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Q1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case eb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case tb:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case nb:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case rb:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case ib:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case sb:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case ab:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case ob:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case lb:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case ub:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case cb:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case fb:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case hb:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case db:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case pb:case mb:case gb:return Math.ceil(t/4)*Math.ceil(e/4)*16;case yb:case vb:return Math.ceil(t/4)*Math.ceil(e/4)*8;case xb:case bb:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function ide(t){switch(t){case ji:case sw:return{byteLength:1,components:1};case ud:case aw:case qr:return{byteLength:2,components:1};case ow:case lw:return{byteLength:2,components:4};case bo:case Dy:case sr:return{byteLength:4,components:1};case JR:case YR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class sde{static contain(e,n){return tde(e,n)}static cover(e,n){return nde(e,n)}static fill(e){return rde(e)}static getByteLength(e,n,r,i){return VT(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ny}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ny);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function K9(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function ade(t){const e=new WeakMap;function n(o,l){const u=o.array,f=o.usage,c=u.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,u,f),o.onUploadCallback();let d;if(u instanceof Float32Array)d=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)d=t.HALF_FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?d=t.HALF_FLOAT:d=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)d=t.SHORT;else if(u instanceof Uint32Array)d=t.UNSIGNED_INT;else if(u instanceof Int32Array)d=t.INT;else if(u instanceof Int8Array)d=t.BYTE;else if(u instanceof Uint8Array)d=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)d=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:d,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:c}}function r(o,l,u){const f=l.array,c=l.updateRanges;if(t.bindBuffer(u,o),c.length===0)t.bufferSubData(u,0,f);else{c.sort((d,m)=>d.start-m.start);let h=0;for(let d=1;d<c.length;d++){const m=c[h],x=c[d];x.start<=m.start+m.count+1?m.count=Math.max(m.count,x.start+x.count-m.start):(++h,c[h]=x)}c.length=h+1;for(let d=0,m=c.length;d<m;d++){const x=c[d];t.bufferSubData(u,x.start*f.BYTES_PER_ELEMENT,f,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const f=e.get(o);(!f||f.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,n(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,o,l),u.version=o.version}}return{get:i,remove:s,update:a}}var ode=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lde=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ude=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,cde=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fde=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hde=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dde=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pde=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mde=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,gde=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,yde=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,vde=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xde=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,bde=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,_de=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,wde=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Sde=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ade=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ede=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mde=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Cde=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Tde=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Pde=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Rde=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Ide=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ode=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kde=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Nde=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Bde=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Dde=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Lde="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fde=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Ude=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zde=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jde=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Hde=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Gde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$de=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Vde=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Wde=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xde=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qde=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kde=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Jde=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Yde=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Zde=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Qde=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,epe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,npe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ipe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,spe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ape=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ope=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,upe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,cpe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fpe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hpe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,dpe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ppe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gpe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ype=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,vpe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xpe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,bpe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,_pe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wpe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Spe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ape=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Epe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Mpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Tpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ppe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Rpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Ipe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ope=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,kpe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Npe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Bpe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Dpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Lpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Fpe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Upe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zpe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Hpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Gpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$pe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Vpe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Wpe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Xpe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,qpe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Kpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Jpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ype=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Zpe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Qpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ime=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sme=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ame=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ome=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ume=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fme=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,dme=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,pme=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mme=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,gme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,yme=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vme=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xme=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_me=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wme=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sme=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ame=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Eme=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Cme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Tme=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pme=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rme=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ime=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ome=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kme=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nme=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Bme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dme=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lme=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ume=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zt={alphahash_fragment:ode,alphahash_pars_fragment:lde,alphamap_fragment:ude,alphamap_pars_fragment:cde,alphatest_fragment:fde,alphatest_pars_fragment:hde,aomap_fragment:dde,aomap_pars_fragment:pde,batching_pars_vertex:mde,batching_vertex:gde,begin_vertex:yde,beginnormal_vertex:vde,bsdfs:xde,iridescence_fragment:bde,bumpmap_pars_fragment:_de,clipping_planes_fragment:wde,clipping_planes_pars_fragment:Sde,clipping_planes_pars_vertex:Ade,clipping_planes_vertex:Ede,color_fragment:Mde,color_pars_fragment:Cde,color_pars_vertex:Tde,color_vertex:Pde,common:Rde,cube_uv_reflection_fragment:Ide,defaultnormal_vertex:Ode,displacementmap_pars_vertex:kde,displacementmap_vertex:Nde,emissivemap_fragment:Bde,emissivemap_pars_fragment:Dde,colorspace_fragment:Lde,colorspace_pars_fragment:Fde,envmap_fragment:Ude,envmap_common_pars_fragment:zde,envmap_pars_fragment:jde,envmap_pars_vertex:Hde,envmap_physical_pars_fragment:Qde,envmap_vertex:Gde,fog_vertex:$de,fog_pars_vertex:Vde,fog_fragment:Wde,fog_pars_fragment:Xde,gradientmap_pars_fragment:qde,lightmap_pars_fragment:Kde,lights_lambert_fragment:Jde,lights_lambert_pars_fragment:Yde,lights_pars_begin:Zde,lights_toon_fragment:epe,lights_toon_pars_fragment:tpe,lights_phong_fragment:npe,lights_phong_pars_fragment:rpe,lights_physical_fragment:ipe,lights_physical_pars_fragment:spe,lights_fragment_begin:ape,lights_fragment_maps:ope,lights_fragment_end:lpe,logdepthbuf_fragment:upe,logdepthbuf_pars_fragment:cpe,logdepthbuf_pars_vertex:fpe,logdepthbuf_vertex:hpe,map_fragment:dpe,map_pars_fragment:ppe,map_particle_fragment:mpe,map_particle_pars_fragment:gpe,metalnessmap_fragment:ype,metalnessmap_pars_fragment:vpe,morphinstance_vertex:xpe,morphcolor_vertex:bpe,morphnormal_vertex:_pe,morphtarget_pars_vertex:wpe,morphtarget_vertex:Spe,normal_fragment_begin:Ape,normal_fragment_maps:Epe,normal_pars_fragment:Mpe,normal_pars_vertex:Cpe,normal_vertex:Tpe,normalmap_pars_fragment:Ppe,clearcoat_normal_fragment_begin:Rpe,clearcoat_normal_fragment_maps:Ipe,clearcoat_pars_fragment:Ope,iridescence_pars_fragment:kpe,opaque_fragment:Npe,packing:Bpe,premultiplied_alpha_fragment:Dpe,project_vertex:Lpe,dithering_fragment:Fpe,dithering_pars_fragment:Upe,roughnessmap_fragment:zpe,roughnessmap_pars_fragment:jpe,shadowmap_pars_fragment:Hpe,shadowmap_pars_vertex:Gpe,shadowmap_vertex:$pe,shadowmask_pars_fragment:Vpe,skinbase_vertex:Wpe,skinning_pars_vertex:Xpe,skinning_vertex:qpe,skinnormal_vertex:Kpe,specularmap_fragment:Jpe,specularmap_pars_fragment:Ype,tonemapping_fragment:Zpe,tonemapping_pars_fragment:Qpe,transmission_fragment:eme,transmission_pars_fragment:tme,uv_pars_fragment:nme,uv_pars_vertex:rme,uv_vertex:ime,worldpos_vertex:sme,background_vert:ame,background_frag:ome,backgroundCube_vert:lme,backgroundCube_frag:ume,cube_vert:cme,cube_frag:fme,depth_vert:hme,depth_frag:dme,distanceRGBA_vert:pme,distanceRGBA_frag:mme,equirect_vert:gme,equirect_frag:yme,linedashed_vert:vme,linedashed_frag:xme,meshbasic_vert:bme,meshbasic_frag:_me,meshlambert_vert:wme,meshlambert_frag:Sme,meshmatcap_vert:Ame,meshmatcap_frag:Eme,meshnormal_vert:Mme,meshnormal_frag:Cme,meshphong_vert:Tme,meshphong_frag:Pme,meshphysical_vert:Rme,meshphysical_frag:Ime,meshtoon_vert:Ome,meshtoon_frag:kme,points_vert:Nme,points_frag:Bme,shadow_vert:Dme,shadow_frag:Lme,sprite_vert:Fme,sprite_frag:Ume},mt={common:{diffuse:{value:new dt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xt},alphaMap:{value:null},alphaMapTransform:{value:new Xt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xt}},envmap:{envMap:{value:null},envMapRotation:{value:new Xt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xt},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xt},alphaTest:{value:0},uvTransform:{value:new Xt}},sprite:{diffuse:{value:new dt(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xt},alphaMap:{value:null},alphaMapTransform:{value:new Xt},alphaTest:{value:0}}},Ra={basic:{uniforms:Oi([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.fog]),vertexShader:Zt.meshbasic_vert,fragmentShader:Zt.meshbasic_frag},lambert:{uniforms:Oi([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new dt(0)}}]),vertexShader:Zt.meshlambert_vert,fragmentShader:Zt.meshlambert_frag},phong:{uniforms:Oi([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new dt(0)},specular:{value:new dt(1118481)},shininess:{value:30}}]),vertexShader:Zt.meshphong_vert,fragmentShader:Zt.meshphong_frag},standard:{uniforms:Oi([mt.common,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.roughnessmap,mt.metalnessmap,mt.fog,mt.lights,{emissive:{value:new dt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag},toon:{uniforms:Oi([mt.common,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.gradientmap,mt.fog,mt.lights,{emissive:{value:new dt(0)}}]),vertexShader:Zt.meshtoon_vert,fragmentShader:Zt.meshtoon_frag},matcap:{uniforms:Oi([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,{matcap:{value:null}}]),vertexShader:Zt.meshmatcap_vert,fragmentShader:Zt.meshmatcap_frag},points:{uniforms:Oi([mt.points,mt.fog]),vertexShader:Zt.points_vert,fragmentShader:Zt.points_frag},dashed:{uniforms:Oi([mt.common,mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zt.linedashed_vert,fragmentShader:Zt.linedashed_frag},depth:{uniforms:Oi([mt.common,mt.displacementmap]),vertexShader:Zt.depth_vert,fragmentShader:Zt.depth_frag},normal:{uniforms:Oi([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,{opacity:{value:1}}]),vertexShader:Zt.meshnormal_vert,fragmentShader:Zt.meshnormal_frag},sprite:{uniforms:Oi([mt.sprite,mt.fog]),vertexShader:Zt.sprite_vert,fragmentShader:Zt.sprite_frag},background:{uniforms:{uvTransform:{value:new Xt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Zt.background_vert,fragmentShader:Zt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xt}},vertexShader:Zt.backgroundCube_vert,fragmentShader:Zt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zt.cube_vert,fragmentShader:Zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zt.equirect_vert,fragmentShader:Zt.equirect_frag},distanceRGBA:{uniforms:Oi([mt.common,mt.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zt.distanceRGBA_vert,fragmentShader:Zt.distanceRGBA_frag},shadow:{uniforms:Oi([mt.lights,mt.fog,{color:{value:new dt(0)},opacity:{value:1}}]),vertexShader:Zt.shadow_vert,fragmentShader:Zt.shadow_frag}};Ra.physical={uniforms:Oi([Ra.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xt},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xt},sheen:{value:0},sheenColor:{value:new dt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xt},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xt},attenuationDistance:{value:0},attenuationColor:{value:new dt(0)},specularColor:{value:new dt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xt},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xt}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag};const fx={r:0,b:0,g:0},cc=new Ps,zme=new Ut;function jme(t,e,n,r,i,s,a){const o=new dt(0);let l=s===!0?0:1,u,f,c=null,h=0,d=null;function m(b){let w=b.isScene===!0?b.background:null;return w&&w.isTexture&&(w=(b.backgroundBlurriness>0?n:e).get(w)),w}function x(b){let w=!1;const E=m(b);E===null?y(o,l):E&&E.isColor&&(y(E,1),w=!0);const A=t.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,a):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(b,w){const E=m(w);E&&(E.isCubeTexture||E.mapping===ep)?(f===void 0&&(f=new Yn(new xf(1,1,1),new Mi({name:"BackgroundCubeMaterial",uniforms:yd(Ra.backgroundCube.uniforms),vertexShader:Ra.backgroundCube.vertexShader,fragmentShader:Ra.backgroundCube.fragmentShader,side:zi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(A,P,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),cc.copy(w.backgroundRotation),cc.x*=-1,cc.y*=-1,cc.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(cc.y*=-1,cc.z*=-1),f.material.uniforms.envMap.value=E,f.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(zme.makeRotationFromEuler(cc)),f.material.toneMapped=gn.getTransfer(E.colorSpace)!==kn,(c!==E||h!==E.version||d!==t.toneMapping)&&(f.material.needsUpdate=!0,c=E,h=E.version,d=t.toneMapping),f.layers.enableAll(),b.unshift(f,f.geometry,f.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new Yn(new _l(2,2),new Mi({name:"BackgroundMaterial",uniforms:yd(Ra.background.uniforms),vertexShader:Ra.background.vertexShader,fragmentShader:Ra.background.fragmentShader,side:vo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=gn.getTransfer(E.colorSpace)!==kn,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(c!==E||h!==E.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,c=E,h=E.version,d=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null))}function y(b,w){b.getRGB(fx,e9(t)),r.buffers.color.setClear(fx.r,fx.g,fx.b,w,a)}function _(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(b,w=1){o.set(b),l=w,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,y(o,l)},render:x,addToRenderList:v,dispose:_}}function Hme(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,a=!1;function o(M,k,B,H,j){let V=!1;const X=c(H,B,k);s!==X&&(s=X,u(s.object)),V=d(M,H,B,j),V&&m(M,H,B,j),j!==null&&e.update(j,t.ELEMENT_ARRAY_BUFFER),(V||a)&&(a=!1,w(M,k,B,H),j!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(j).buffer))}function l(){return t.createVertexArray()}function u(M){return t.bindVertexArray(M)}function f(M){return t.deleteVertexArray(M)}function c(M,k,B){const H=B.wireframe===!0;let j=r[M.id];j===void 0&&(j={},r[M.id]=j);let V=j[k.id];V===void 0&&(V={},j[k.id]=V);let X=V[H];return X===void 0&&(X=h(l()),V[H]=X),X}function h(M){const k=[],B=[],H=[];for(let j=0;j<n;j++)k[j]=0,B[j]=0,H[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:B,attributeDivisors:H,object:M,attributes:{},index:null}}function d(M,k,B,H){const j=s.attributes,V=k.attributes;let X=0;const Z=B.getAttributes();for(const L in Z)if(Z[L].location>=0){const N=j[L];let q=V[L];if(q===void 0&&(L==="instanceMatrix"&&M.instanceMatrix&&(q=M.instanceMatrix),L==="instanceColor"&&M.instanceColor&&(q=M.instanceColor)),N===void 0||N.attribute!==q||q&&N.data!==q.data)return!0;X++}return s.attributesNum!==X||s.index!==H}function m(M,k,B,H){const j={},V=k.attributes;let X=0;const Z=B.getAttributes();for(const L in Z)if(Z[L].location>=0){let N=V[L];N===void 0&&(L==="instanceMatrix"&&M.instanceMatrix&&(N=M.instanceMatrix),L==="instanceColor"&&M.instanceColor&&(N=M.instanceColor));const q={};q.attribute=N,N&&N.data&&(q.data=N.data),j[L]=q,X++}s.attributes=j,s.attributesNum=X,s.index=H}function x(){const M=s.newAttributes;for(let k=0,B=M.length;k<B;k++)M[k]=0}function v(M){y(M,0)}function y(M,k){const B=s.newAttributes,H=s.enabledAttributes,j=s.attributeDivisors;B[M]=1,H[M]===0&&(t.enableVertexAttribArray(M),H[M]=1),j[M]!==k&&(t.vertexAttribDivisor(M,k),j[M]=k)}function _(){const M=s.newAttributes,k=s.enabledAttributes;for(let B=0,H=k.length;B<H;B++)k[B]!==M[B]&&(t.disableVertexAttribArray(B),k[B]=0)}function b(M,k,B,H,j,V,X){X===!0?t.vertexAttribIPointer(M,k,B,j,V):t.vertexAttribPointer(M,k,B,H,j,V)}function w(M,k,B,H){x();const j=H.attributes,V=B.getAttributes(),X=k.defaultAttributeValues;for(const Z in V){const L=V[Z];if(L.location>=0){let W=j[Z];if(W===void 0&&(Z==="instanceMatrix"&&M.instanceMatrix&&(W=M.instanceMatrix),Z==="instanceColor"&&M.instanceColor&&(W=M.instanceColor)),W!==void 0){const N=W.normalized,q=W.itemSize,te=e.get(W);if(te===void 0)continue;const G=te.buffer,Ie=te.type,Oe=te.bytesPerElement,ae=Ie===t.INT||Ie===t.UNSIGNED_INT||W.gpuType===Dy;if(W.isInterleavedBufferAttribute){const _e=W.data,Ge=_e.stride,we=W.offset;if(_e.isInstancedInterleavedBuffer){for(let Le=0;Le<L.locationSize;Le++)y(L.location+Le,_e.meshPerAttribute);M.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let Le=0;Le<L.locationSize;Le++)v(L.location+Le);t.bindBuffer(t.ARRAY_BUFFER,G);for(let Le=0;Le<L.locationSize;Le++)b(L.location+Le,q/L.locationSize,Ie,N,Ge*Oe,(we+q/L.locationSize*Le)*Oe,ae)}else{if(W.isInstancedBufferAttribute){for(let _e=0;_e<L.locationSize;_e++)y(L.location+_e,W.meshPerAttribute);M.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let _e=0;_e<L.locationSize;_e++)v(L.location+_e);t.bindBuffer(t.ARRAY_BUFFER,G);for(let _e=0;_e<L.locationSize;_e++)b(L.location+_e,q/L.locationSize,Ie,N,q*Oe,q/L.locationSize*_e*Oe,ae)}}else if(X!==void 0){const N=X[Z];if(N!==void 0)switch(N.length){case 2:t.vertexAttrib2fv(L.location,N);break;case 3:t.vertexAttrib3fv(L.location,N);break;case 4:t.vertexAttrib4fv(L.location,N);break;default:t.vertexAttrib1fv(L.location,N)}}}}_()}function E(){I();for(const M in r){const k=r[M];for(const B in k){const H=k[B];for(const j in H)f(H[j].object),delete H[j];delete k[B]}delete r[M]}}function A(M){if(r[M.id]===void 0)return;const k=r[M.id];for(const B in k){const H=k[B];for(const j in H)f(H[j].object),delete H[j];delete k[B]}delete r[M.id]}function P(M){for(const k in r){const B=r[k];if(B[M.id]===void 0)continue;const H=B[M.id];for(const j in H)f(H[j].object),delete H[j];delete B[M.id]}}function I(){R(),a=!0,s!==i&&(s=i,u(s.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:I,resetDefaultState:R,dispose:E,releaseStatesOfGeometry:A,releaseStatesOfProgram:P,initAttributes:x,enableAttribute:v,disableUnusedAttributes:_}}function Gme(t,e,n){let r;function i(u){r=u}function s(u,f){t.drawArrays(r,u,f),n.update(f,r,1)}function a(u,f,c){c!==0&&(t.drawArraysInstanced(r,u,f,c),n.update(f,r,c))}function o(u,f,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,f,0,c);let d=0;for(let m=0;m<c;m++)d+=f[m];n.update(d,r,1)}function l(u,f,c,h){if(c===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let m=0;m<u.length;m++)a(u[m],f[m],h[m]);else{d.multiDrawArraysInstancedWEBGL(r,u,0,f,0,h,0,c);let m=0;for(let x=0;x<c;x++)m+=f[x]*h[x];n.update(m,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function $me(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(P){return!(P!==xr&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(P){const I=P===qr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==ji&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==sr&&!I)}function l(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const f=l(u);f!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const c=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:c,reversedDepthBuffer:h,maxTextures:d,maxVertexTextures:m,maxTextureSize:x,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:_,maxVaryings:b,maxFragmentUniforms:w,vertexTextures:E,maxSamples:A}}function Vme(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new Xo,o=new Xt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(c,h){const d=c.length!==0||h||r!==0||i;return i=h,r=c.length,d},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(c,h){n=f(c,h,0)},this.setState=function(c,h,d){const m=c.clippingPlanes,x=c.clipIntersection,v=c.clipShadows,y=t.get(c);if(!i||m===null||m.length===0||s&&!v)s?f(null):u();else{const _=s?0:r,b=_*4;let w=y.clippingState||null;l.value=w,w=f(m,h,b,d);for(let E=0;E!==b;++E)w[E]=n[E];y.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(c,h,d,m){const x=c!==null?c.length:0;let v=null;if(x!==0){if(v=l.value,m!==!0||v===null){const y=d+x*4,_=h.matrixWorldInverse;o.getNormalMatrix(_),(v===null||v.length<y)&&(v=new Float32Array(y));for(let b=0,w=d;b!==x;++b,w+=4)a.copy(c[b]).applyMatrix4(_,o),a.normal.toArray(v,w),v[w+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function Wme(t){let e=new WeakMap;function n(a,o){return o===od?a.mapping=xo:o===Ag&&(a.mapping=Au),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===od||o===Ag)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new uI(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Ih=4,K3=[.125,.215,.35,.446,.526,.582],Ac=20,uM=new mo,J3=new dt;let cM=null,fM=0,hM=0,dM=!1;const xc=(1+Math.sqrt(5))/2,uh=1/xc,Y3=[new J(-xc,uh,0),new J(xc,uh,0),new J(-uh,0,xc),new J(uh,0,xc),new J(0,xc,-uh),new J(0,xc,uh),new J(-1,1,-1),new J(1,1,-1),new J(-1,1,1),new J(1,1,1)],Xme=new J;class WT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:a=256,position:o=Xme}=s;cM=this._renderer.getRenderTarget(),fM=this._renderer.getActiveCubeFace(),hM=this._renderer.getActiveMipmapLevel(),dM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Q3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(cM,fM,hM),this._renderer.xr.enabled=dM,e.scissorTest=!1,hx(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===xo||e.mapping===Au?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),cM=this._renderer.getRenderTarget(),fM=this._renderer.getActiveCubeFace(),hM=this._renderer.getActiveMipmapLevel(),dM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Pn,minFilter:Pn,generateMipmaps:!1,type:qr,format:xr,colorSpace:_o,depthBuffer:!1},i=Z3(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Z3(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qme(s)),this._blurMaterial=Kme(s,e,n)}return i}_compileMaterial(e){const n=new Yn(this._lodPlanes[0],e);this._renderer.compile(n,uM)}_sceneToCubeUV(e,n,r,i,s){const l=new dr(90,1,n,r),u=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,d=c.toneMapping;c.getClearColor(J3),c.toneMapping=po,c.autoClear=!1,c.state.buffers.depth.getReversed()&&(c.setRenderTarget(i),c.clearDepth(),c.setRenderTarget(null));const x=new es({name:"PMREM.Background",side:zi,depthWrite:!1,depthTest:!1}),v=new Yn(new xf,x);let y=!1;const _=e.background;_?_.isColor&&(x.color.copy(_),e.background=null,y=!0):(x.color.copy(J3),y=!0);for(let b=0;b<6;b++){const w=b%3;w===0?(l.up.set(0,u[b],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[b],s.y,s.z)):w===1?(l.up.set(0,0,u[b]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[b],s.z)):(l.up.set(0,u[b],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[b]));const E=this._cubeSize;hx(i,w*E,b>2?E:0,E,E),c.setRenderTarget(i),y&&c.render(v,l),c.render(e,l)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=d,c.autoClear=h,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===xo||e.mapping===Au;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=eF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Q3());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Yn(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;hx(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,uM)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=Y3[(i-s-1)%Y3.length];this._blur(e,s-1,s,a,o)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,c=new Yn(this._lodPlanes[i],u),h=u.uniforms,d=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Ac-1),x=s/m,v=isFinite(s)?1+Math.floor(f*x):Ac;v>Ac&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Ac}`);const y=[];let _=0;for(let P=0;P<Ac;++P){const I=P/x,R=Math.exp(-I*I/2);y.push(R),P===0?_+=R:P<v&&(_+=2*R)}for(let P=0;P<y.length;P++)y[P]=y[P]/_;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=y,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:b}=this;h.dTheta.value=m,h.mipInt.value=b-r;const w=this._sizeLods[i],E=3*w*(i>b-Ih?i-b+Ih:0),A=4*(this._cubeSize-w);hx(n,E,A,3*w,2*w),l.setRenderTarget(n),l.render(c,uM)}}function qme(t){const e=[],n=[],r=[];let i=t;const s=t-Ih+1+K3.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-Ih?l=K3[a-t+Ih-1]:a===0&&(l=0),r.push(l);const u=1/(o-2),f=-u,c=1+u,h=[f,f,c,f,c,c,f,f,c,c,f,c],d=6,m=6,x=3,v=2,y=1,_=new Float32Array(x*m*d),b=new Float32Array(v*m*d),w=new Float32Array(y*m*d);for(let A=0;A<d;A++){const P=A%3*2/3-1,I=A>2?0:-1,R=[P,I,0,P+2/3,I,0,P+2/3,I+1,0,P,I,0,P+2/3,I+1,0,P,I+1,0];_.set(R,x*m*A),b.set(h,v*m*A);const M=[A,A,A,A,A,A];w.set(M,y*m*A)}const E=new $t;E.setAttribute("position",new wn(_,x)),E.setAttribute("uv",new wn(b,v)),E.setAttribute("faceIndex",new wn(w,y)),e.push(E),i>Ih&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Z3(t,e,n){const r=new os(t,e,n);return r.texture.mapping=ep,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function hx(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Kme(t,e,n){const r=new Float32Array(Ac),i=new J(0,1,0);return new Mi({name:"SphericalGaussianBlur",defines:{n:Ac,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:UI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ho,depthTest:!1,depthWrite:!1})}function Q3(){return new Mi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:UI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ho,depthTest:!1,depthWrite:!1})}function eF(){return new Mi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:UI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ho,depthTest:!1,depthWrite:!1})}function UI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Jme(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===od||l===Ag,f=l===xo||l===Au;if(u||f){let c=e.get(o);const h=c!==void 0?c.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return n===null&&(n=new WT(t)),c=u?n.fromEquirectangular(o,c):n.fromCubemap(o,c),c.texture.pmremVersion=o.pmremVersion,e.set(o,c),c.texture;if(c!==void 0)return c.texture;{const d=o.image;return u&&d&&d.height>0||f&&d&&i(d)?(n===null&&(n=new WT(t)),c=u?n.fromEquirectangular(o):n.fromCubemap(o),c.texture.pmremVersion=o.pmremVersion,e.set(o,c),o.addEventListener("dispose",s),c.texture):null}}}return o}function i(o){let l=0;const u=6;for(let f=0;f<u;f++)o[f]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Yme(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Pg("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Zme(t,e,n,r){const i={},s=new WeakMap;function a(c){const h=c.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",a),delete i[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(c,h){return i[h.id]===!0||(h.addEventListener("dispose",a),i[h.id]=!0,n.memory.geometries++),h}function l(c){const h=c.attributes;for(const d in h)e.update(h[d],t.ARRAY_BUFFER)}function u(c){const h=[],d=c.index,m=c.attributes.position;let x=0;if(d!==null){const _=d.array;x=d.version;for(let b=0,w=_.length;b<w;b+=3){const E=_[b+0],A=_[b+1],P=_[b+2];h.push(E,A,A,P,P,E)}}else if(m!==void 0){const _=m.array;x=m.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const E=b+0,A=b+1,P=b+2;h.push(E,A,A,P,P,E)}}else return;const v=new(J6(h)?lI:oI)(h,1);v.version=x;const y=s.get(c);y&&e.remove(y),s.set(c,v)}function f(c){const h=s.get(c);if(h){const d=c.index;d!==null&&h.version<d.version&&u(c)}else u(c);return s.get(c)}return{get:o,update:l,getWireframeAttribute:f}}function Qme(t,e,n){let r;function i(h){r=h}let s,a;function o(h){s=h.type,a=h.bytesPerElement}function l(h,d){t.drawElements(r,d,s,h*a),n.update(d,r,1)}function u(h,d,m){m!==0&&(t.drawElementsInstanced(r,d,s,h*a,m),n.update(d,r,m))}function f(h,d,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,d,0,s,h,0,m);let v=0;for(let y=0;y<m;y++)v+=d[y];n.update(v,r,1)}function c(h,d,m,x){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<h.length;y++)u(h[y]/a,d[y],x[y]);else{v.multiDrawElementsInstancedWEBGL(r,d,0,s,h,0,x,0,m);let y=0;for(let _=0;_<m;_++)y+=d[_]*x[_];n.update(y,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=f,this.renderMultiDrawInstances=c}function ege(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function tge(t,e,n){const r=new WeakMap,i=new xn;function s(a,o,l){const u=a.morphTargetInfluences,f=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,c=f!==void 0?f.length:0;let h=r.get(o);if(h===void 0||h.count!==c){let M=function(){I.dispose(),r.delete(o),o.removeEventListener("dispose",M)};var d=M;h!==void 0&&h.texture.dispose();const m=o.morphAttributes.position!==void 0,x=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,y=o.morphAttributes.position||[],_=o.morphAttributes.normal||[],b=o.morphAttributes.color||[];let w=0;m===!0&&(w=1),x===!0&&(w=2),v===!0&&(w=3);let E=o.attributes.position.count*w,A=1;E>e.maxTextureSize&&(A=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const P=new Float32Array(E*A*4*c),I=new hw(P,E,A,c);I.type=sr,I.needsUpdate=!0;const R=w*4;for(let k=0;k<c;k++){const B=y[k],H=_[k],j=b[k],V=E*A*4*k;for(let X=0;X<B.count;X++){const Z=X*R;m===!0&&(i.fromBufferAttribute(B,X),P[V+Z+0]=i.x,P[V+Z+1]=i.y,P[V+Z+2]=i.z,P[V+Z+3]=0),x===!0&&(i.fromBufferAttribute(H,X),P[V+Z+4]=i.x,P[V+Z+5]=i.y,P[V+Z+6]=i.z,P[V+Z+7]=0),v===!0&&(i.fromBufferAttribute(j,X),P[V+Z+8]=i.x,P[V+Z+9]=i.y,P[V+Z+10]=i.z,P[V+Z+11]=j.itemSize===4?i.w:1)}}h={count:c,texture:I,size:new ze(E,A)},r.set(o,h),o.addEventListener("dispose",M)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let m=0;for(let v=0;v<u.length;v++)m+=u[v];const x=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function nge(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,c=e.get(l,f);if(i.get(c)!==u&&(e.update(c),i.set(c,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return c}function a(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}const J9=new In,tF=new mI(1,1),Y9=new hw,Z9=new dw,Q9=new zy,nF=[],rF=[],iF=new Float32Array(16),sF=new Float32Array(9),aF=new Float32Array(4);function rp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=nF[i];if(s===void 0&&(s=new Float32Array(i),nF[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Ur(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function zr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Bw(t,e){let n=rF[e];n===void 0&&(n=new Int32Array(e),rF[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function rge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ige(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ur(n,e))return;t.uniform2fv(this.addr,e),zr(n,e)}}function sge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ur(n,e))return;t.uniform3fv(this.addr,e),zr(n,e)}}function age(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ur(n,e))return;t.uniform4fv(this.addr,e),zr(n,e)}}function oge(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ur(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),zr(n,e)}else{if(Ur(n,r))return;aF.set(r),t.uniformMatrix2fv(this.addr,!1,aF),zr(n,r)}}function lge(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ur(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),zr(n,e)}else{if(Ur(n,r))return;sF.set(r),t.uniformMatrix3fv(this.addr,!1,sF),zr(n,r)}}function uge(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ur(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),zr(n,e)}else{if(Ur(n,r))return;iF.set(r),t.uniformMatrix4fv(this.addr,!1,iF),zr(n,r)}}function cge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function fge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ur(n,e))return;t.uniform2iv(this.addr,e),zr(n,e)}}function hge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ur(n,e))return;t.uniform3iv(this.addr,e),zr(n,e)}}function dge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ur(n,e))return;t.uniform4iv(this.addr,e),zr(n,e)}}function pge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function mge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ur(n,e))return;t.uniform2uiv(this.addr,e),zr(n,e)}}function gge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ur(n,e))return;t.uniform3uiv(this.addr,e),zr(n,e)}}function yge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ur(n,e))return;t.uniform4uiv(this.addr,e),zr(n,e)}}function vge(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(tF.compareFunction=iI,s=tF):s=J9,n.setTexture2D(e||s,i)}function xge(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Z9,i)}function bge(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Q9,i)}function _ge(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Y9,i)}function wge(t){switch(t){case 5126:return rge;case 35664:return ige;case 35665:return sge;case 35666:return age;case 35674:return oge;case 35675:return lge;case 35676:return uge;case 5124:case 35670:return cge;case 35667:case 35671:return fge;case 35668:case 35672:return hge;case 35669:case 35673:return dge;case 5125:return pge;case 36294:return mge;case 36295:return gge;case 36296:return yge;case 35678:case 36198:case 36298:case 36306:case 35682:return vge;case 35679:case 36299:case 36307:return xge;case 35680:case 36300:case 36308:case 36293:return bge;case 36289:case 36303:case 36311:case 36292:return _ge}}function Sge(t,e){t.uniform1fv(this.addr,e)}function Age(t,e){const n=rp(e,this.size,2);t.uniform2fv(this.addr,n)}function Ege(t,e){const n=rp(e,this.size,3);t.uniform3fv(this.addr,n)}function Mge(t,e){const n=rp(e,this.size,4);t.uniform4fv(this.addr,n)}function Cge(t,e){const n=rp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Tge(t,e){const n=rp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Pge(t,e){const n=rp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Rge(t,e){t.uniform1iv(this.addr,e)}function Ige(t,e){t.uniform2iv(this.addr,e)}function Oge(t,e){t.uniform3iv(this.addr,e)}function kge(t,e){t.uniform4iv(this.addr,e)}function Nge(t,e){t.uniform1uiv(this.addr,e)}function Bge(t,e){t.uniform2uiv(this.addr,e)}function Dge(t,e){t.uniform3uiv(this.addr,e)}function Lge(t,e){t.uniform4uiv(this.addr,e)}function Fge(t,e,n){const r=this.cache,i=e.length,s=Bw(n,i);Ur(r,s)||(t.uniform1iv(this.addr,s),zr(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||J9,s[a])}function Uge(t,e,n){const r=this.cache,i=e.length,s=Bw(n,i);Ur(r,s)||(t.uniform1iv(this.addr,s),zr(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Z9,s[a])}function zge(t,e,n){const r=this.cache,i=e.length,s=Bw(n,i);Ur(r,s)||(t.uniform1iv(this.addr,s),zr(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Q9,s[a])}function jge(t,e,n){const r=this.cache,i=e.length,s=Bw(n,i);Ur(r,s)||(t.uniform1iv(this.addr,s),zr(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Y9,s[a])}function Hge(t){switch(t){case 5126:return Sge;case 35664:return Age;case 35665:return Ege;case 35666:return Mge;case 35674:return Cge;case 35675:return Tge;case 35676:return Pge;case 5124:case 35670:return Rge;case 35667:case 35671:return Ige;case 35668:case 35672:return Oge;case 35669:case 35673:return kge;case 5125:return Nge;case 36294:return Bge;case 36295:return Dge;case 36296:return Lge;case 35678:case 36198:case 36298:case 36306:case 35682:return Fge;case 35679:case 36299:case 36307:return Uge;case 35680:case 36300:case 36308:case 36293:return zge;case 36289:case 36303:case 36311:case 36292:return jge}}class Gge{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=wge(n.type)}}class $ge{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Hge(n.type)}}class Vge{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const pM=/(\w+)(\])?(\[|\.)?/g;function oF(t,e){t.seq.push(e),t.map[e.id]=e}function Wge(t,e,n){const r=t.name,i=r.length;for(pM.lastIndex=0;;){const s=pM.exec(r),a=pM.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===i){oF(n,u===void 0?new Gge(o,t,e):new $ge(o,t,e));break}else{let c=n.map[o];c===void 0&&(c=new Vge(o),oF(n,c)),n=c}}}class n1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);Wge(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function lF(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Xge=37297;let qge=0;function Kge(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}const uF=new Xt;function Jge(t){gn._getMatrix(uF,gn.workingColorSpace,t);const e=`mat3( ${uF.elements.map(n=>n.toFixed(4))} )`;switch(gn.getTransfer(t)){case Mg:return[e,"LinearTransferOETF"];case kn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function cF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+Kge(t.getShaderSource(e),o)}else return s}function Yge(t,e){const n=Jge(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Zge(t,e){let n;switch(e){case P6:n="Linear";break;case R6:n="Reinhard";break;case I6:n="Cineon";break;case KR:n="ACESFilmic";break;case k6:n="AgX";break;case N6:n="Neutral";break;case O6:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const dx=new J;function Qge(){gn.getLuminanceCoefficients(dx);const t=dx.x.toFixed(4),e=dx.y.toFixed(4),n=dx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function eye(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cm).join(`
`)}function tye(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function nye(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function Cm(t){return t!==""}function fF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const rye=/^[ \t]*#include +<([\w\d./]+)>/gm;function XT(t){return t.replace(rye,sye)}const iye=new Map;function sye(t,e){let n=Zt[e];if(n===void 0){const r=iye.get(e);if(r!==void 0)n=Zt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return XT(n)}const aye=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function dF(t){return t.replace(aye,oye)}function oye(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function pF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lye(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===rw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Gm?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Aa&&(e="SHADOWMAP_TYPE_VSM"),e}function uye(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case xo:case Au:e="ENVMAP_TYPE_CUBE";break;case ep:e="ENVMAP_TYPE_CUBE_UV";break}return e}function cye(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Au:e="ENVMAP_MODE_REFRACTION";break}return e}function fye(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case By:e="ENVMAP_BLENDING_MULTIPLY";break;case C6:e="ENVMAP_BLENDING_MIX";break;case T6:e="ENVMAP_BLENDING_ADD";break}return e}function hye(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function dye(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=lye(n),u=uye(n),f=cye(n),c=fye(n),h=hye(n),d=eye(n),m=tye(s),x=i.createProgram();let v,y,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Cm).join(`
`),v.length>0&&(v+=`
`),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Cm).join(`
`),y.length>0&&(y+=`
`)):(v=[pF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cm).join(`
`),y=[pF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+c:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==po?"#define TONE_MAPPING":"",n.toneMapping!==po?Zt.tonemapping_pars_fragment:"",n.toneMapping!==po?Zge("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Zt.colorspace_pars_fragment,Yge("linearToOutputTexel",n.outputColorSpace),Qge(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Cm).join(`
`)),a=XT(a),a=fF(a,n),a=hF(a,n),o=XT(o),o=fF(o,n),o=hF(o,n),a=dF(a),o=dF(o),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,y=["#define varying in",n.glslVersion===FT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===FT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const b=_+v+a,w=_+y+o,E=lF(i,i.VERTEX_SHADER,b),A=lF(i,i.FRAGMENT_SHADER,w);i.attachShader(x,E),i.attachShader(x,A),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function P(k){if(t.debug.checkShaderErrors){const B=i.getProgramInfoLog(x)||"",H=i.getShaderInfoLog(E)||"",j=i.getShaderInfoLog(A)||"",V=B.trim(),X=H.trim(),Z=j.trim();let L=!0,W=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(L=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,E,A);else{const N=cF(i,E,"vertex"),q=cF(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+V+`
`+N+`
`+q)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(X===""||Z==="")&&(W=!1);W&&(k.diagnostics={runnable:L,programLog:V,vertexShader:{log:X,prefix:v},fragmentShader:{log:Z,prefix:y}})}i.deleteShader(E),i.deleteShader(A),I=new n1(i,x),R=nye(i,x)}let I;this.getUniforms=function(){return I===void 0&&P(this),I};let R;this.getAttributes=function(){return R===void 0&&P(this),R};let M=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=i.getProgramParameter(x,Xge)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=qge++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=E,this.fragmentShader=A,this}let pye=0;class mye{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new gye(e),n.set(e,r)),r}}class gye{constructor(e){this.id=pye++,this.code=e,this.usedTimes=0}}function yye(t,e,n,r,i,s,a){const o=new Vc,l=new mye,u=new Set,f=[],c=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return u.add(R),R===0?"uv":`uv${R}`}function v(R,M,k,B,H){const j=B.fog,V=H.geometry,X=R.isMeshStandardMaterial?B.environment:null,Z=(R.isMeshStandardMaterial?n:e).get(R.envMap||X),L=Z&&Z.mapping===ep?Z.image.height:null,W=m[R.type];R.precision!==null&&(d=i.getMaxPrecision(R.precision),d!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",d,"instead."));const N=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,q=N!==void 0?N.length:0;let te=0;V.morphAttributes.position!==void 0&&(te=1),V.morphAttributes.normal!==void 0&&(te=2),V.morphAttributes.color!==void 0&&(te=3);let G,Ie,Oe,ae;if(W){const Jt=Ra[W];G=Jt.vertexShader,Ie=Jt.fragmentShader}else G=R.vertexShader,Ie=R.fragmentShader,l.update(R),Oe=l.getVertexShaderID(R),ae=l.getFragmentShaderID(R);const _e=t.getRenderTarget(),Ge=t.state.buffers.depth.getReversed(),we=H.isInstancedMesh===!0,Le=H.isBatchedMesh===!0,Je=!!R.map,Pe=!!R.matcap,Q=!!Z,Me=!!R.aoMap,Re=!!R.lightMap,Ce=!!R.bumpMap,Ee=!!R.normalMap,Ye=!!R.displacementMap,qe=!!R.emissiveMap,Qe=!!R.metalnessMap,wt=!!R.roughnessMap,bt=R.anisotropy>0,Y=R.clearcoat>0,$=R.dispersion>0,ye=R.iridescence>0,ne=R.sheen>0,de=R.transmission>0,ge=bt&&!!R.anisotropyMap,oe=Y&&!!R.clearcoatMap,pe=Y&&!!R.clearcoatNormalMap,$e=Y&&!!R.clearcoatRoughnessMap,nt=ye&&!!R.iridescenceMap,We=ye&&!!R.iridescenceThicknessMap,Ze=ne&&!!R.sheenColorMap,_t=ne&&!!R.sheenRoughnessMap,se=!!R.specularMap,be=!!R.specularColorMap,Ve=!!R.specularIntensityMap,le=de&&!!R.transmissionMap,xe=de&&!!R.thicknessMap,et=!!R.gradientMap,pt=!!R.alphaMap,tt=R.alphaTest>0,Xe=!!R.alphaHash,gt=!!R.extensions;let Rt=po;R.toneMapped&&(_e===null||_e.isXRRenderTarget===!0)&&(Rt=t.toneMapping);const sn={shaderID:W,shaderType:R.type,shaderName:R.name,vertexShader:G,fragmentShader:Ie,defines:R.defines,customVertexShaderID:Oe,customFragmentShaderID:ae,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:d,batching:Le,batchingColor:Le&&H._colorsTexture!==null,instancing:we,instancingColor:we&&H.instanceColor!==null,instancingMorph:we&&H.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:_e===null?t.outputColorSpace:_e.isXRRenderTarget===!0?_e.texture.colorSpace:_o,alphaToCoverage:!!R.alphaToCoverage,map:Je,matcap:Pe,envMap:Q,envMapMode:Q&&Z.mapping,envMapCubeUVHeight:L,aoMap:Me,lightMap:Re,bumpMap:Ce,normalMap:Ee,displacementMap:h&&Ye,emissiveMap:qe,normalMapObjectSpace:Ee&&R.normalMapType===j6,normalMapTangentSpace:Ee&&R.normalMapType===Nu,metalnessMap:Qe,roughnessMap:wt,anisotropy:bt,anisotropyMap:ge,clearcoat:Y,clearcoatMap:oe,clearcoatNormalMap:pe,clearcoatRoughnessMap:$e,dispersion:$,iridescence:ye,iridescenceMap:nt,iridescenceThicknessMap:We,sheen:ne,sheenColorMap:Ze,sheenRoughnessMap:_t,specularMap:se,specularColorMap:be,specularIntensityMap:Ve,transmission:de,transmissionMap:le,thicknessMap:xe,gradientMap:et,opaque:R.transparent===!1&&R.blending===Gc&&R.alphaToCoverage===!1,alphaMap:pt,alphaTest:tt,alphaHash:Xe,combine:R.combine,mapUv:Je&&x(R.map.channel),aoMapUv:Me&&x(R.aoMap.channel),lightMapUv:Re&&x(R.lightMap.channel),bumpMapUv:Ce&&x(R.bumpMap.channel),normalMapUv:Ee&&x(R.normalMap.channel),displacementMapUv:Ye&&x(R.displacementMap.channel),emissiveMapUv:qe&&x(R.emissiveMap.channel),metalnessMapUv:Qe&&x(R.metalnessMap.channel),roughnessMapUv:wt&&x(R.roughnessMap.channel),anisotropyMapUv:ge&&x(R.anisotropyMap.channel),clearcoatMapUv:oe&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:pe&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:nt&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:We&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ze&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:_t&&x(R.sheenRoughnessMap.channel),specularMapUv:se&&x(R.specularMap.channel),specularColorMapUv:be&&x(R.specularColorMap.channel),specularIntensityMapUv:Ve&&x(R.specularIntensityMap.channel),transmissionMapUv:le&&x(R.transmissionMap.channel),thicknessMapUv:xe&&x(R.thicknessMap.channel),alphaMapUv:pt&&x(R.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(Ee||bt),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!V.attributes.uv&&(Je||pt),fog:!!j,useFog:R.fog===!0,fogExp2:!!j&&j.isFogExp2,flatShading:R.flatShading===!0&&R.wireframe===!1,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:c,reversedDepthBuffer:Ge,skinning:H.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:te,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Rt,decodeVideoTexture:Je&&R.map.isVideoTexture===!0&&gn.getTransfer(R.map.colorSpace)===kn,decodeVideoTextureEmissive:qe&&R.emissiveMap.isVideoTexture===!0&&gn.getTransfer(R.emissiveMap.colorSpace)===kn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Js,flipSided:R.side===zi,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:gt&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(gt&&R.extensions.multiDraw===!0||Le)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return sn.vertexUv1s=u.has(1),sn.vertexUv2s=u.has(2),sn.vertexUv3s=u.has(3),u.clear(),sn}function y(R){const M=[];if(R.shaderID?M.push(R.shaderID):(M.push(R.customVertexShaderID),M.push(R.customFragmentShaderID)),R.defines!==void 0)for(const k in R.defines)M.push(k),M.push(R.defines[k]);return R.isRawShaderMaterial===!1&&(_(M,R),b(M,R),M.push(t.outputColorSpace)),M.push(R.customProgramCacheKey),M.join()}function _(R,M){R.push(M.precision),R.push(M.outputColorSpace),R.push(M.envMapMode),R.push(M.envMapCubeUVHeight),R.push(M.mapUv),R.push(M.alphaMapUv),R.push(M.lightMapUv),R.push(M.aoMapUv),R.push(M.bumpMapUv),R.push(M.normalMapUv),R.push(M.displacementMapUv),R.push(M.emissiveMapUv),R.push(M.metalnessMapUv),R.push(M.roughnessMapUv),R.push(M.anisotropyMapUv),R.push(M.clearcoatMapUv),R.push(M.clearcoatNormalMapUv),R.push(M.clearcoatRoughnessMapUv),R.push(M.iridescenceMapUv),R.push(M.iridescenceThicknessMapUv),R.push(M.sheenColorMapUv),R.push(M.sheenRoughnessMapUv),R.push(M.specularMapUv),R.push(M.specularColorMapUv),R.push(M.specularIntensityMapUv),R.push(M.transmissionMapUv),R.push(M.thicknessMapUv),R.push(M.combine),R.push(M.fogExp2),R.push(M.sizeAttenuation),R.push(M.morphTargetsCount),R.push(M.morphAttributeCount),R.push(M.numDirLights),R.push(M.numPointLights),R.push(M.numSpotLights),R.push(M.numSpotLightMaps),R.push(M.numHemiLights),R.push(M.numRectAreaLights),R.push(M.numDirLightShadows),R.push(M.numPointLightShadows),R.push(M.numSpotLightShadows),R.push(M.numSpotLightShadowsWithMaps),R.push(M.numLightProbes),R.push(M.shadowMapType),R.push(M.toneMapping),R.push(M.numClippingPlanes),R.push(M.numClipIntersection),R.push(M.depthPacking)}function b(R,M){o.disableAll(),M.supportsVertexTextures&&o.enable(0),M.instancing&&o.enable(1),M.instancingColor&&o.enable(2),M.instancingMorph&&o.enable(3),M.matcap&&o.enable(4),M.envMap&&o.enable(5),M.normalMapObjectSpace&&o.enable(6),M.normalMapTangentSpace&&o.enable(7),M.clearcoat&&o.enable(8),M.iridescence&&o.enable(9),M.alphaTest&&o.enable(10),M.vertexColors&&o.enable(11),M.vertexAlphas&&o.enable(12),M.vertexUv1s&&o.enable(13),M.vertexUv2s&&o.enable(14),M.vertexUv3s&&o.enable(15),M.vertexTangents&&o.enable(16),M.anisotropy&&o.enable(17),M.alphaHash&&o.enable(18),M.batching&&o.enable(19),M.dispersion&&o.enable(20),M.batchingColor&&o.enable(21),M.gradientMap&&o.enable(22),R.push(o.mask),o.disableAll(),M.fog&&o.enable(0),M.useFog&&o.enable(1),M.flatShading&&o.enable(2),M.logarithmicDepthBuffer&&o.enable(3),M.reversedDepthBuffer&&o.enable(4),M.skinning&&o.enable(5),M.morphTargets&&o.enable(6),M.morphNormals&&o.enable(7),M.morphColors&&o.enable(8),M.premultipliedAlpha&&o.enable(9),M.shadowMapEnabled&&o.enable(10),M.doubleSided&&o.enable(11),M.flipSided&&o.enable(12),M.useDepthPacking&&o.enable(13),M.dithering&&o.enable(14),M.transmission&&o.enable(15),M.sheen&&o.enable(16),M.opaque&&o.enable(17),M.pointsUvs&&o.enable(18),M.decodeVideoTexture&&o.enable(19),M.decodeVideoTextureEmissive&&o.enable(20),M.alphaToCoverage&&o.enable(21),R.push(o.mask)}function w(R){const M=m[R.type];let k;if(M){const B=Ra[M];k=t9.clone(B.uniforms)}else k=R.uniforms;return k}function E(R,M){let k;for(let B=0,H=f.length;B<H;B++){const j=f[B];if(j.cacheKey===M){k=j,++k.usedTimes;break}}return k===void 0&&(k=new dye(t,M,R,s),f.push(k)),k}function A(R){if(--R.usedTimes===0){const M=f.indexOf(R);f[M]=f[f.length-1],f.pop(),R.destroy()}}function P(R){l.remove(R)}function I(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:E,releaseProgram:A,releaseShaderCache:P,programs:f,dispose:I}}function vye(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,l){t.get(a)[o]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function xye(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function mF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function gF(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(c,h,d,m,x,v){let y=t[e];return y===void 0?(y={id:c.id,object:c,geometry:h,material:d,groupOrder:m,renderOrder:c.renderOrder,z:x,group:v},t[e]=y):(y.id=c.id,y.object=c,y.geometry=h,y.material=d,y.groupOrder=m,y.renderOrder=c.renderOrder,y.z=x,y.group=v),e++,y}function o(c,h,d,m,x,v){const y=a(c,h,d,m,x,v);d.transmission>0?r.push(y):d.transparent===!0?i.push(y):n.push(y)}function l(c,h,d,m,x,v){const y=a(c,h,d,m,x,v);d.transmission>0?r.unshift(y):d.transparent===!0?i.unshift(y):n.unshift(y)}function u(c,h){n.length>1&&n.sort(c||xye),r.length>1&&r.sort(h||mF),i.length>1&&i.sort(h||mF)}function f(){for(let c=e,h=t.length;c<h;c++){const d=t[c];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:f,sort:u}}function bye(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new gF,t.set(r,[a])):i>=s.length?(a=new gF,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function _ye(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new dt};break;case"SpotLight":n={position:new J,direction:new J,color:new dt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new dt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new dt,groundColor:new dt};break;case"RectAreaLight":n={color:new dt,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function wye(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Sye=0;function Aye(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Eye(t){const e=new _ye,n=wye(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new J);const i=new J,s=new Ut,a=new Ut;function o(u){let f=0,c=0,h=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let d=0,m=0,x=0,v=0,y=0,_=0,b=0,w=0,E=0,A=0,P=0;u.sort(Aye);for(let R=0,M=u.length;R<M;R++){const k=u[R],B=k.color,H=k.intensity,j=k.distance,V=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)f+=B.r*H,c+=B.g*H,h+=B.b*H;else if(k.isLightProbe){for(let X=0;X<9;X++)r.probe[X].addScaledVector(k.sh.coefficients[X],H);P++}else if(k.isDirectionalLight){const X=e.get(k);if(X.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const Z=k.shadow,L=n.get(k);L.shadowIntensity=Z.intensity,L.shadowBias=Z.bias,L.shadowNormalBias=Z.normalBias,L.shadowRadius=Z.radius,L.shadowMapSize=Z.mapSize,r.directionalShadow[d]=L,r.directionalShadowMap[d]=V,r.directionalShadowMatrix[d]=k.shadow.matrix,_++}r.directional[d]=X,d++}else if(k.isSpotLight){const X=e.get(k);X.position.setFromMatrixPosition(k.matrixWorld),X.color.copy(B).multiplyScalar(H),X.distance=j,X.coneCos=Math.cos(k.angle),X.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),X.decay=k.decay,r.spot[x]=X;const Z=k.shadow;if(k.map&&(r.spotLightMap[E]=k.map,E++,Z.updateMatrices(k),k.castShadow&&A++),r.spotLightMatrix[x]=Z.matrix,k.castShadow){const L=n.get(k);L.shadowIntensity=Z.intensity,L.shadowBias=Z.bias,L.shadowNormalBias=Z.normalBias,L.shadowRadius=Z.radius,L.shadowMapSize=Z.mapSize,r.spotShadow[x]=L,r.spotShadowMap[x]=V,w++}x++}else if(k.isRectAreaLight){const X=e.get(k);X.color.copy(B).multiplyScalar(H),X.halfWidth.set(k.width*.5,0,0),X.halfHeight.set(0,k.height*.5,0),r.rectArea[v]=X,v++}else if(k.isPointLight){const X=e.get(k);if(X.color.copy(k.color).multiplyScalar(k.intensity),X.distance=k.distance,X.decay=k.decay,k.castShadow){const Z=k.shadow,L=n.get(k);L.shadowIntensity=Z.intensity,L.shadowBias=Z.bias,L.shadowNormalBias=Z.normalBias,L.shadowRadius=Z.radius,L.shadowMapSize=Z.mapSize,L.shadowCameraNear=Z.camera.near,L.shadowCameraFar=Z.camera.far,r.pointShadow[m]=L,r.pointShadowMap[m]=V,r.pointShadowMatrix[m]=k.shadow.matrix,b++}r.point[m]=X,m++}else if(k.isHemisphereLight){const X=e.get(k);X.skyColor.copy(k.color).multiplyScalar(H),X.groundColor.copy(k.groundColor).multiplyScalar(H),r.hemi[y]=X,y++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=mt.LTC_FLOAT_1,r.rectAreaLTC2=mt.LTC_FLOAT_2):(r.rectAreaLTC1=mt.LTC_HALF_1,r.rectAreaLTC2=mt.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=c,r.ambient[2]=h;const I=r.hash;(I.directionalLength!==d||I.pointLength!==m||I.spotLength!==x||I.rectAreaLength!==v||I.hemiLength!==y||I.numDirectionalShadows!==_||I.numPointShadows!==b||I.numSpotShadows!==w||I.numSpotMaps!==E||I.numLightProbes!==P)&&(r.directional.length=d,r.spot.length=x,r.rectArea.length=v,r.point.length=m,r.hemi.length=y,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=w+E-A,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=P,I.directionalLength=d,I.pointLength=m,I.spotLength=x,I.rectAreaLength=v,I.hemiLength=y,I.numDirectionalShadows=_,I.numPointShadows=b,I.numSpotShadows=w,I.numSpotMaps=E,I.numLightProbes=P,r.version=Sye++)}function l(u,f){let c=0,h=0,d=0,m=0,x=0;const v=f.matrixWorldInverse;for(let y=0,_=u.length;y<_;y++){const b=u[y];if(b.isDirectionalLight){const w=r.directional[c];w.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(v),c++}else if(b.isSpotLight){const w=r.spot[d];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(v),d++}else if(b.isRectAreaLight){const w=r.rectArea[m];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),a.identity(),s.copy(b.matrixWorld),s.premultiply(v),a.extractRotation(s),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),m++}else if(b.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),h++}else if(b.isHemisphereLight){const w=r.hemi[x];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),x++}}}return{setup:o,setupView:l,state:r}}function yF(t){const e=new Eye(t),n=[],r=[];function i(f){u.camera=f,n.length=0,r.length=0}function s(f){n.push(f)}function a(f){r.push(f)}function o(){e.setup(n)}function l(f){e.setupView(n,f)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function Mye(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new yF(t),e.set(i,[o])):s>=a.length?(o=new yF(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}const Cye=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Tye=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Pye(t,e,n){let r=new tp;const i=new ze,s=new ze,a=new xn,o=new Ow({depthPacking:z6}),l=new SI,u={},f=n.maxTextureSize,c={[vo]:zi,[zi]:vo,[Js]:Js},h=new Mi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:Cye,fragmentShader:Tye}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const m=new $t;m.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Yn(m,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rw;let y=this.type;this.render=function(A,P,I){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||A.length===0)return;const R=t.getRenderTarget(),M=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),B=t.state;B.setBlending(ho),B.buffers.depth.getReversed()===!0?B.buffers.color.setClear(0,0,0,0):B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const H=y!==Aa&&this.type===Aa,j=y===Aa&&this.type!==Aa;for(let V=0,X=A.length;V<X;V++){const Z=A[V],L=Z.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;i.copy(L.mapSize);const W=L.getFrameExtents();if(i.multiply(W),s.copy(L.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/W.x),i.x=s.x*W.x,L.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/W.y),i.y=s.y*W.y,L.mapSize.y=s.y)),L.map===null||H===!0||j===!0){const q=this.type!==Aa?{minFilter:Jr,magFilter:Jr}:{};L.map!==null&&L.map.dispose(),L.map=new os(i.x,i.y,q),L.map.texture.name=Z.name+".shadowMap",L.camera.updateProjectionMatrix()}t.setRenderTarget(L.map),t.clear();const N=L.getViewportCount();for(let q=0;q<N;q++){const te=L.getViewport(q);a.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),B.viewport(a),L.updateMatrices(Z,q),r=L.getFrustum(),w(P,I,L.camera,Z,this.type)}L.isPointLightShadow!==!0&&this.type===Aa&&_(L,I),L.needsUpdate=!1}y=this.type,v.needsUpdate=!1,t.setRenderTarget(R,M,k)};function _(A,P){const I=e.update(x);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,d.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new os(i.x,i.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(P,null,I,h,x,null),d.uniforms.shadow_pass.value=A.mapPass.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(P,null,I,d,x,null)}function b(A,P,I,R){let M=null;const k=I.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(k!==void 0)M=k;else if(M=I.isPointLight===!0?l:o,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const B=M.uuid,H=P.uuid;let j=u[B];j===void 0&&(j={},u[B]=j);let V=j[H];V===void 0&&(V=M.clone(),j[H]=V,P.addEventListener("dispose",E)),M=V}if(M.visible=P.visible,M.wireframe=P.wireframe,R===Aa?M.side=P.shadowSide!==null?P.shadowSide:P.side:M.side=P.shadowSide!==null?P.shadowSide:c[P.side],M.alphaMap=P.alphaMap,M.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,M.map=P.map,M.clipShadows=P.clipShadows,M.clippingPlanes=P.clippingPlanes,M.clipIntersection=P.clipIntersection,M.displacementMap=P.displacementMap,M.displacementScale=P.displacementScale,M.displacementBias=P.displacementBias,M.wireframeLinewidth=P.wireframeLinewidth,M.linewidth=P.linewidth,I.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const B=t.properties.get(M);B.light=I}return M}function w(A,P,I,R,M){if(A.visible===!1)return;if(A.layers.test(P.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&M===Aa)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,A.matrixWorld);const H=e.update(A),j=A.material;if(Array.isArray(j)){const V=H.groups;for(let X=0,Z=V.length;X<Z;X++){const L=V[X],W=j[L.materialIndex];if(W&&W.visible){const N=b(A,W,R,M);A.onBeforeShadow(t,A,P,I,H,N,L),t.renderBufferDirect(I,null,H,N,A,L),A.onAfterShadow(t,A,P,I,H,N,L)}}}else if(j.visible){const V=b(A,j,R,M);A.onBeforeShadow(t,A,P,I,H,V,null),t.renderBufferDirect(I,null,H,V,A,null),A.onAfterShadow(t,A,P,I,H,V,null)}}const B=A.children;for(let H=0,j=B.length;H<j;H++)w(B[H],P,I,R,M)}function E(A){A.target.removeEventListener("dispose",E);for(const I in u){const R=u[I],M=A.target.uuid;M in R&&(R[M].dispose(),delete R[M])}}}const Rye={[z1]:j1,[H1]:V1,[G1]:W1,[nf]:$1,[j1]:z1,[V1]:H1,[W1]:G1,[$1]:nf};function Iye(t,e){function n(){let le=!1;const xe=new xn;let et=null;const pt=new xn(0,0,0,0);return{setMask:function(tt){et!==tt&&!le&&(t.colorMask(tt,tt,tt,tt),et=tt)},setLocked:function(tt){le=tt},setClear:function(tt,Xe,gt,Rt,sn){sn===!0&&(tt*=Rt,Xe*=Rt,gt*=Rt),xe.set(tt,Xe,gt,Rt),pt.equals(xe)===!1&&(t.clearColor(tt,Xe,gt,Rt),pt.copy(xe))},reset:function(){le=!1,et=null,pt.set(-1,0,0,0)}}}function r(){let le=!1,xe=!1,et=null,pt=null,tt=null;return{setReversed:function(Xe){if(xe!==Xe){const gt=e.get("EXT_clip_control");Xe?gt.clipControlEXT(gt.LOWER_LEFT_EXT,gt.ZERO_TO_ONE_EXT):gt.clipControlEXT(gt.LOWER_LEFT_EXT,gt.NEGATIVE_ONE_TO_ONE_EXT),xe=Xe;const Rt=tt;tt=null,this.setClear(Rt)}},getReversed:function(){return xe},setTest:function(Xe){Xe?_e(t.DEPTH_TEST):Ge(t.DEPTH_TEST)},setMask:function(Xe){et!==Xe&&!le&&(t.depthMask(Xe),et=Xe)},setFunc:function(Xe){if(xe&&(Xe=Rye[Xe]),pt!==Xe){switch(Xe){case z1:t.depthFunc(t.NEVER);break;case j1:t.depthFunc(t.ALWAYS);break;case H1:t.depthFunc(t.LESS);break;case nf:t.depthFunc(t.LEQUAL);break;case G1:t.depthFunc(t.EQUAL);break;case $1:t.depthFunc(t.GEQUAL);break;case V1:t.depthFunc(t.GREATER);break;case W1:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}pt=Xe}},setLocked:function(Xe){le=Xe},setClear:function(Xe){tt!==Xe&&(xe&&(Xe=1-Xe),t.clearDepth(Xe),tt=Xe)},reset:function(){le=!1,et=null,pt=null,tt=null,xe=!1}}}function i(){let le=!1,xe=null,et=null,pt=null,tt=null,Xe=null,gt=null,Rt=null,sn=null;return{setTest:function(Jt){le||(Jt?_e(t.STENCIL_TEST):Ge(t.STENCIL_TEST))},setMask:function(Jt){xe!==Jt&&!le&&(t.stencilMask(Jt),xe=Jt)},setFunc:function(Jt,wr,Rr){(et!==Jt||pt!==wr||tt!==Rr)&&(t.stencilFunc(Jt,wr,Rr),et=Jt,pt=wr,tt=Rr)},setOp:function(Jt,wr,Rr){(Xe!==Jt||gt!==wr||Rt!==Rr)&&(t.stencilOp(Jt,wr,Rr),Xe=Jt,gt=wr,Rt=Rr)},setLocked:function(Jt){le=Jt},setClear:function(Jt){sn!==Jt&&(t.clearStencil(Jt),sn=Jt)},reset:function(){le=!1,xe=null,et=null,pt=null,tt=null,Xe=null,gt=null,Rt=null,sn=null}}}const s=new n,a=new r,o=new i,l=new WeakMap,u=new WeakMap;let f={},c={},h=new WeakMap,d=[],m=null,x=!1,v=null,y=null,_=null,b=null,w=null,E=null,A=null,P=new dt(0,0,0),I=0,R=!1,M=null,k=null,B=null,H=null,j=null;const V=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Z=0;const L=t.getParameter(t.VERSION);L.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(L)[1]),X=Z>=1):L.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),X=Z>=2);let W=null,N={};const q=t.getParameter(t.SCISSOR_BOX),te=t.getParameter(t.VIEWPORT),G=new xn().fromArray(q),Ie=new xn().fromArray(te);function Oe(le,xe,et,pt){const tt=new Uint8Array(4),Xe=t.createTexture();t.bindTexture(le,Xe),t.texParameteri(le,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(le,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let gt=0;gt<et;gt++)le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY?t.texImage3D(xe,0,t.RGBA,1,1,pt,0,t.RGBA,t.UNSIGNED_BYTE,tt):t.texImage2D(xe+gt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,tt);return Xe}const ae={};ae[t.TEXTURE_2D]=Oe(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=Oe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=Oe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=Oe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),_e(t.DEPTH_TEST),a.setFunc(nf),Ce(!1),Ee(IT),_e(t.CULL_FACE),Me(ho);function _e(le){f[le]!==!0&&(t.enable(le),f[le]=!0)}function Ge(le){f[le]!==!1&&(t.disable(le),f[le]=!1)}function we(le,xe){return c[le]!==xe?(t.bindFramebuffer(le,xe),c[le]=xe,le===t.DRAW_FRAMEBUFFER&&(c[t.FRAMEBUFFER]=xe),le===t.FRAMEBUFFER&&(c[t.DRAW_FRAMEBUFFER]=xe),!0):!1}function Le(le,xe){let et=d,pt=!1;if(le){et=h.get(xe),et===void 0&&(et=[],h.set(xe,et));const tt=le.textures;if(et.length!==tt.length||et[0]!==t.COLOR_ATTACHMENT0){for(let Xe=0,gt=tt.length;Xe<gt;Xe++)et[Xe]=t.COLOR_ATTACHMENT0+Xe;et.length=tt.length,pt=!0}}else et[0]!==t.BACK&&(et[0]=t.BACK,pt=!0);pt&&t.drawBuffers(et)}function Je(le){return m!==le?(t.useProgram(le),m=le,!0):!1}const Pe={[Ql]:t.FUNC_ADD,[c6]:t.FUNC_SUBTRACT,[f6]:t.FUNC_REVERSE_SUBTRACT};Pe[h6]=t.MIN,Pe[d6]=t.MAX;const Q={[p6]:t.ZERO,[m6]:t.ONE,[g6]:t.SRC_COLOR,[F1]:t.SRC_ALPHA,[w6]:t.SRC_ALPHA_SATURATE,[b6]:t.DST_COLOR,[v6]:t.DST_ALPHA,[y6]:t.ONE_MINUS_SRC_COLOR,[U1]:t.ONE_MINUS_SRC_ALPHA,[_6]:t.ONE_MINUS_DST_COLOR,[x6]:t.ONE_MINUS_DST_ALPHA,[S6]:t.CONSTANT_COLOR,[A6]:t.ONE_MINUS_CONSTANT_COLOR,[E6]:t.CONSTANT_ALPHA,[M6]:t.ONE_MINUS_CONSTANT_ALPHA};function Me(le,xe,et,pt,tt,Xe,gt,Rt,sn,Jt){if(le===ho){x===!0&&(Ge(t.BLEND),x=!1);return}if(x===!1&&(_e(t.BLEND),x=!0),le!==u6){if(le!==v||Jt!==R){if((y!==Ql||w!==Ql)&&(t.blendEquation(t.FUNC_ADD),y=Ql,w=Ql),Jt)switch(le){case Gc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case OT:t.blendFunc(t.ONE,t.ONE);break;case kT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case NT:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case Gc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case OT:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case kT:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case NT:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}_=null,b=null,E=null,A=null,P.set(0,0,0),I=0,v=le,R=Jt}return}tt=tt||xe,Xe=Xe||et,gt=gt||pt,(xe!==y||tt!==w)&&(t.blendEquationSeparate(Pe[xe],Pe[tt]),y=xe,w=tt),(et!==_||pt!==b||Xe!==E||gt!==A)&&(t.blendFuncSeparate(Q[et],Q[pt],Q[Xe],Q[gt]),_=et,b=pt,E=Xe,A=gt),(Rt.equals(P)===!1||sn!==I)&&(t.blendColor(Rt.r,Rt.g,Rt.b,sn),P.copy(Rt),I=sn),v=le,R=!1}function Re(le,xe){le.side===Js?Ge(t.CULL_FACE):_e(t.CULL_FACE);let et=le.side===zi;xe&&(et=!et),Ce(et),le.blending===Gc&&le.transparent===!1?Me(ho):Me(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),a.setFunc(le.depthFunc),a.setTest(le.depthTest),a.setMask(le.depthWrite),s.setMask(le.colorWrite);const pt=le.stencilWrite;o.setTest(pt),pt&&(o.setMask(le.stencilWriteMask),o.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),o.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),qe(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?_e(t.SAMPLE_ALPHA_TO_COVERAGE):Ge(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ce(le){M!==le&&(le?t.frontFace(t.CW):t.frontFace(t.CCW),M=le)}function Ee(le){le!==a6?(_e(t.CULL_FACE),le!==k&&(le===IT?t.cullFace(t.BACK):le===o6?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ge(t.CULL_FACE),k=le}function Ye(le){le!==B&&(X&&t.lineWidth(le),B=le)}function qe(le,xe,et){le?(_e(t.POLYGON_OFFSET_FILL),(H!==xe||j!==et)&&(t.polygonOffset(xe,et),H=xe,j=et)):Ge(t.POLYGON_OFFSET_FILL)}function Qe(le){le?_e(t.SCISSOR_TEST):Ge(t.SCISSOR_TEST)}function wt(le){le===void 0&&(le=t.TEXTURE0+V-1),W!==le&&(t.activeTexture(le),W=le)}function bt(le,xe,et){et===void 0&&(W===null?et=t.TEXTURE0+V-1:et=W);let pt=N[et];pt===void 0&&(pt={type:void 0,texture:void 0},N[et]=pt),(pt.type!==le||pt.texture!==xe)&&(W!==et&&(t.activeTexture(et),W=et),t.bindTexture(le,xe||ae[le]),pt.type=le,pt.texture=xe)}function Y(){const le=N[W];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function $(){try{t.compressedTexImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ye(){try{t.compressedTexImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ne(){try{t.texSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function de(){try{t.texSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ge(){try{t.compressedTexSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function oe(){try{t.compressedTexSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function pe(){try{t.texStorage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function $e(){try{t.texStorage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function nt(){try{t.texImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function We(){try{t.texImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ze(le){G.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),G.copy(le))}function _t(le){Ie.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),Ie.copy(le))}function se(le,xe){let et=u.get(xe);et===void 0&&(et=new WeakMap,u.set(xe,et));let pt=et.get(le);pt===void 0&&(pt=t.getUniformBlockIndex(xe,le.name),et.set(le,pt))}function be(le,xe){const pt=u.get(xe).get(le);l.get(xe)!==pt&&(t.uniformBlockBinding(xe,pt,le.__bindingPointIndex),l.set(xe,pt))}function Ve(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},W=null,N={},c={},h=new WeakMap,d=[],m=null,x=!1,v=null,y=null,_=null,b=null,w=null,E=null,A=null,P=new dt(0,0,0),I=0,R=!1,M=null,k=null,B=null,H=null,j=null,G.set(0,0,t.canvas.width,t.canvas.height),Ie.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:_e,disable:Ge,bindFramebuffer:we,drawBuffers:Le,useProgram:Je,setBlending:Me,setMaterial:Re,setFlipSided:Ce,setCullFace:Ee,setLineWidth:Ye,setPolygonOffset:qe,setScissorTest:Qe,activeTexture:wt,bindTexture:bt,unbindTexture:Y,compressedTexImage2D:$,compressedTexImage3D:ye,texImage2D:nt,texImage3D:We,updateUBOMapping:se,uniformBlockBinding:be,texStorage2D:pe,texStorage3D:$e,texSubImage2D:ne,texSubImage3D:de,compressedTexSubImage2D:ge,compressedTexSubImage3D:oe,scissor:Ze,viewport:_t,reset:Ve}}function Oye(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new ze,f=new WeakMap;let c;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(Y,$){return d?new OffscreenCanvas(Y,$):Tg("canvas")}function x(Y,$,ye){let ne=1;const de=bt(Y);if((de.width>ye||de.height>ye)&&(ne=ye/Math.max(de.width,de.height)),ne<1)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap||typeof VideoFrame<"u"&&Y instanceof VideoFrame){const ge=Math.floor(ne*de.width),oe=Math.floor(ne*de.height);c===void 0&&(c=m(ge,oe));const pe=$?m(ge,oe):c;return pe.width=ge,pe.height=oe,pe.getContext("2d").drawImage(Y,0,0,ge,oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+de.width+"x"+de.height+") to ("+ge+"x"+oe+")."),pe}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+de.width+"x"+de.height+")."),Y;return Y}function v(Y){return Y.generateMipmaps}function y(Y){t.generateMipmap(Y)}function _(Y){return Y.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:Y.isWebGL3DRenderTarget?t.TEXTURE_3D:Y.isWebGLArrayRenderTarget||Y.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(Y,$,ye,ne,de=!1){if(Y!==null){if(t[Y]!==void 0)return t[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let ge=$;if($===t.RED&&(ye===t.FLOAT&&(ge=t.R32F),ye===t.HALF_FLOAT&&(ge=t.R16F),ye===t.UNSIGNED_BYTE&&(ge=t.R8)),$===t.RED_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ge=t.R8UI),ye===t.UNSIGNED_SHORT&&(ge=t.R16UI),ye===t.UNSIGNED_INT&&(ge=t.R32UI),ye===t.BYTE&&(ge=t.R8I),ye===t.SHORT&&(ge=t.R16I),ye===t.INT&&(ge=t.R32I)),$===t.RG&&(ye===t.FLOAT&&(ge=t.RG32F),ye===t.HALF_FLOAT&&(ge=t.RG16F),ye===t.UNSIGNED_BYTE&&(ge=t.RG8)),$===t.RG_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ge=t.RG8UI),ye===t.UNSIGNED_SHORT&&(ge=t.RG16UI),ye===t.UNSIGNED_INT&&(ge=t.RG32UI),ye===t.BYTE&&(ge=t.RG8I),ye===t.SHORT&&(ge=t.RG16I),ye===t.INT&&(ge=t.RG32I)),$===t.RGB_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ge=t.RGB8UI),ye===t.UNSIGNED_SHORT&&(ge=t.RGB16UI),ye===t.UNSIGNED_INT&&(ge=t.RGB32UI),ye===t.BYTE&&(ge=t.RGB8I),ye===t.SHORT&&(ge=t.RGB16I),ye===t.INT&&(ge=t.RGB32I)),$===t.RGBA_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ge=t.RGBA8UI),ye===t.UNSIGNED_SHORT&&(ge=t.RGBA16UI),ye===t.UNSIGNED_INT&&(ge=t.RGBA32UI),ye===t.BYTE&&(ge=t.RGBA8I),ye===t.SHORT&&(ge=t.RGBA16I),ye===t.INT&&(ge=t.RGBA32I)),$===t.RGB&&(ye===t.UNSIGNED_INT_5_9_9_9_REV&&(ge=t.RGB9_E5),ye===t.UNSIGNED_INT_10F_11F_11F_REV&&(ge=t.R11F_G11F_B10F)),$===t.RGBA){const oe=de?Mg:gn.getTransfer(ne);ye===t.FLOAT&&(ge=t.RGBA32F),ye===t.HALF_FLOAT&&(ge=t.RGBA16F),ye===t.UNSIGNED_BYTE&&(ge=oe===kn?t.SRGB8_ALPHA8:t.RGBA8),ye===t.UNSIGNED_SHORT_4_4_4_4&&(ge=t.RGBA4),ye===t.UNSIGNED_SHORT_5_5_5_1&&(ge=t.RGB5_A1)}return(ge===t.R16F||ge===t.R32F||ge===t.RG16F||ge===t.RG32F||ge===t.RGBA16F||ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function w(Y,$){let ye;return Y?$===null||$===bo||$===cd?ye=t.DEPTH24_STENCIL8:$===sr?ye=t.DEPTH32F_STENCIL8:$===ud&&(ye=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===bo||$===cd?ye=t.DEPTH_COMPONENT24:$===sr?ye=t.DEPTH_COMPONENT32F:$===ud&&(ye=t.DEPTH_COMPONENT16),ye}function E(Y,$){return v(Y)===!0||Y.isFramebufferTexture&&Y.minFilter!==Jr&&Y.minFilter!==Pn?Math.log2(Math.max($.width,$.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?$.mipmaps.length:1}function A(Y){const $=Y.target;$.removeEventListener("dispose",A),I($),$.isVideoTexture&&f.delete($)}function P(Y){const $=Y.target;$.removeEventListener("dispose",P),M($)}function I(Y){const $=r.get(Y);if($.__webglInit===void 0)return;const ye=Y.source,ne=h.get(ye);if(ne){const de=ne[$.__cacheKey];de.usedTimes--,de.usedTimes===0&&R(Y),Object.keys(ne).length===0&&h.delete(ye)}r.remove(Y)}function R(Y){const $=r.get(Y);t.deleteTexture($.__webglTexture);const ye=Y.source,ne=h.get(ye);delete ne[$.__cacheKey],a.memory.textures--}function M(Y){const $=r.get(Y);if(Y.depthTexture&&(Y.depthTexture.dispose(),r.remove(Y.depthTexture)),Y.isWebGLCubeRenderTarget)for(let ne=0;ne<6;ne++){if(Array.isArray($.__webglFramebuffer[ne]))for(let de=0;de<$.__webglFramebuffer[ne].length;de++)t.deleteFramebuffer($.__webglFramebuffer[ne][de]);else t.deleteFramebuffer($.__webglFramebuffer[ne]);$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[ne])}else{if(Array.isArray($.__webglFramebuffer))for(let ne=0;ne<$.__webglFramebuffer.length;ne++)t.deleteFramebuffer($.__webglFramebuffer[ne]);else t.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let ne=0;ne<$.__webglColorRenderbuffer.length;ne++)$.__webglColorRenderbuffer[ne]&&t.deleteRenderbuffer($.__webglColorRenderbuffer[ne]);$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer)}const ye=Y.textures;for(let ne=0,de=ye.length;ne<de;ne++){const ge=r.get(ye[ne]);ge.__webglTexture&&(t.deleteTexture(ge.__webglTexture),a.memory.textures--),r.remove(ye[ne])}r.remove(Y)}let k=0;function B(){k=0}function H(){const Y=k;return Y>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+i.maxTextures),k+=1,Y}function j(Y){const $=[];return $.push(Y.wrapS),$.push(Y.wrapT),$.push(Y.wrapR||0),$.push(Y.magFilter),$.push(Y.minFilter),$.push(Y.anisotropy),$.push(Y.internalFormat),$.push(Y.format),$.push(Y.type),$.push(Y.generateMipmaps),$.push(Y.premultiplyAlpha),$.push(Y.flipY),$.push(Y.unpackAlignment),$.push(Y.colorSpace),$.join()}function V(Y,$){const ye=r.get(Y);if(Y.isVideoTexture&&Qe(Y),Y.isRenderTargetTexture===!1&&Y.isExternalTexture!==!0&&Y.version>0&&ye.__version!==Y.version){const ne=Y.image;if(ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(ye,Y,$);return}}else Y.isExternalTexture&&(ye.__webglTexture=Y.sourceTexture?Y.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ye.__webglTexture,t.TEXTURE0+$)}function X(Y,$){const ye=r.get(Y);if(Y.isRenderTargetTexture===!1&&Y.version>0&&ye.__version!==Y.version){ae(ye,Y,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ye.__webglTexture,t.TEXTURE0+$)}function Z(Y,$){const ye=r.get(Y);if(Y.isRenderTargetTexture===!1&&Y.version>0&&ye.__version!==Y.version){ae(ye,Y,$);return}n.bindTexture(t.TEXTURE_3D,ye.__webglTexture,t.TEXTURE0+$)}function L(Y,$){const ye=r.get(Y);if(Y.version>0&&ye.__version!==Y.version){_e(ye,Y,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture,t.TEXTURE0+$)}const W={[Eu]:t.REPEAT,[vr]:t.CLAMP_TO_EDGE,[ld]:t.MIRRORED_REPEAT},N={[Jr]:t.NEAREST,[iw]:t.NEAREST_MIPMAP_NEAREST,[Pc]:t.NEAREST_MIPMAP_LINEAR,[Pn]:t.LINEAR,[Gh]:t.LINEAR_MIPMAP_NEAREST,[Qs]:t.LINEAR_MIPMAP_LINEAR},q={[H6]:t.NEVER,[q6]:t.ALWAYS,[G6]:t.LESS,[iI]:t.LEQUAL,[$6]:t.EQUAL,[X6]:t.GEQUAL,[V6]:t.GREATER,[W6]:t.NOTEQUAL};function te(Y,$){if($.type===sr&&e.has("OES_texture_float_linear")===!1&&($.magFilter===Pn||$.magFilter===Gh||$.magFilter===Pc||$.magFilter===Qs||$.minFilter===Pn||$.minFilter===Gh||$.minFilter===Pc||$.minFilter===Qs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Y,t.TEXTURE_WRAP_S,W[$.wrapS]),t.texParameteri(Y,t.TEXTURE_WRAP_T,W[$.wrapT]),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,W[$.wrapR]),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,N[$.magFilter]),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,N[$.minFilter]),$.compareFunction&&(t.texParameteri(Y,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Y,t.TEXTURE_COMPARE_FUNC,q[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Jr||$.minFilter!==Pc&&$.minFilter!==Qs||$.type===sr&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||r.get($).__currentAnisotropy){const ye=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Y,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy}}}function G(Y,$){let ye=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,$.addEventListener("dispose",A));const ne=$.source;let de=h.get(ne);de===void 0&&(de={},h.set(ne,de));const ge=j($);if(ge!==Y.__cacheKey){de[ge]===void 0&&(de[ge]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ye=!0),de[ge].usedTimes++;const oe=de[Y.__cacheKey];oe!==void 0&&(de[Y.__cacheKey].usedTimes--,oe.usedTimes===0&&R($)),Y.__cacheKey=ge,Y.__webglTexture=de[ge].texture}return ye}function Ie(Y,$,ye){return Math.floor(Math.floor(Y/ye)/$)}function Oe(Y,$,ye,ne){const ge=Y.updateRanges;if(ge.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,$.width,$.height,ye,ne,$.data);else{ge.sort((We,Ze)=>We.start-Ze.start);let oe=0;for(let We=1;We<ge.length;We++){const Ze=ge[oe],_t=ge[We],se=Ze.start+Ze.count,be=Ie(_t.start,$.width,4),Ve=Ie(Ze.start,$.width,4);_t.start<=se+1&&be===Ve&&Ie(_t.start+_t.count-1,$.width,4)===be?Ze.count=Math.max(Ze.count,_t.start+_t.count-Ze.start):(++oe,ge[oe]=_t)}ge.length=oe+1;const pe=t.getParameter(t.UNPACK_ROW_LENGTH),$e=t.getParameter(t.UNPACK_SKIP_PIXELS),nt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,$.width);for(let We=0,Ze=ge.length;We<Ze;We++){const _t=ge[We],se=Math.floor(_t.start/4),be=Math.ceil(_t.count/4),Ve=se%$.width,le=Math.floor(se/$.width),xe=be,et=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ve),t.pixelStorei(t.UNPACK_SKIP_ROWS,le),n.texSubImage2D(t.TEXTURE_2D,0,Ve,le,xe,et,ye,ne,$.data)}Y.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,pe),t.pixelStorei(t.UNPACK_SKIP_PIXELS,$e),t.pixelStorei(t.UNPACK_SKIP_ROWS,nt)}}function ae(Y,$,ye){let ne=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(ne=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(ne=t.TEXTURE_3D);const de=G(Y,$),ge=$.source;n.bindTexture(ne,Y.__webglTexture,t.TEXTURE0+ye);const oe=r.get(ge);if(ge.version!==oe.__version||de===!0){n.activeTexture(t.TEXTURE0+ye);const pe=gn.getPrimaries(gn.workingColorSpace),$e=$.colorSpace===qo?null:gn.getPrimaries($.colorSpace),nt=$.colorSpace===qo||pe===$e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,nt);let We=x($.image,!1,i.maxTextureSize);We=wt($,We);const Ze=s.convert($.format,$.colorSpace),_t=s.convert($.type);let se=b($.internalFormat,Ze,_t,$.colorSpace,$.isVideoTexture);te(ne,$);let be;const Ve=$.mipmaps,le=$.isVideoTexture!==!0,xe=oe.__version===void 0||de===!0,et=ge.dataReady,pt=E($,We);if($.isDepthTexture)se=w($.format===hd,$.type),xe&&(le?n.texStorage2D(t.TEXTURE_2D,1,se,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,se,We.width,We.height,0,Ze,_t,null));else if($.isDataTexture)if(Ve.length>0){le&&xe&&n.texStorage2D(t.TEXTURE_2D,pt,se,Ve[0].width,Ve[0].height);for(let tt=0,Xe=Ve.length;tt<Xe;tt++)be=Ve[tt],le?et&&n.texSubImage2D(t.TEXTURE_2D,tt,0,0,be.width,be.height,Ze,_t,be.data):n.texImage2D(t.TEXTURE_2D,tt,se,be.width,be.height,0,Ze,_t,be.data);$.generateMipmaps=!1}else le?(xe&&n.texStorage2D(t.TEXTURE_2D,pt,se,We.width,We.height),et&&Oe($,We,Ze,_t)):n.texImage2D(t.TEXTURE_2D,0,se,We.width,We.height,0,Ze,_t,We.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){le&&xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pt,se,Ve[0].width,Ve[0].height,We.depth);for(let tt=0,Xe=Ve.length;tt<Xe;tt++)if(be=Ve[tt],$.format!==xr)if(Ze!==null)if(le){if(et)if($.layerUpdates.size>0){const gt=VT(be.width,be.height,$.format,$.type);for(const Rt of $.layerUpdates){const sn=be.data.subarray(Rt*gt/be.data.BYTES_PER_ELEMENT,(Rt+1)*gt/be.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,tt,0,0,Rt,be.width,be.height,1,Ze,sn)}$.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,tt,0,0,0,be.width,be.height,We.depth,Ze,be.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,tt,se,be.width,be.height,We.depth,0,be.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else le?et&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,tt,0,0,0,be.width,be.height,We.depth,Ze,_t,be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,tt,se,be.width,be.height,We.depth,0,Ze,_t,be.data)}else{le&&xe&&n.texStorage2D(t.TEXTURE_2D,pt,se,Ve[0].width,Ve[0].height);for(let tt=0,Xe=Ve.length;tt<Xe;tt++)be=Ve[tt],$.format!==xr?Ze!==null?le?et&&n.compressedTexSubImage2D(t.TEXTURE_2D,tt,0,0,be.width,be.height,Ze,be.data):n.compressedTexImage2D(t.TEXTURE_2D,tt,se,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):le?et&&n.texSubImage2D(t.TEXTURE_2D,tt,0,0,be.width,be.height,Ze,_t,be.data):n.texImage2D(t.TEXTURE_2D,tt,se,be.width,be.height,0,Ze,_t,be.data)}else if($.isDataArrayTexture)if(le){if(xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pt,se,We.width,We.height,We.depth),et)if($.layerUpdates.size>0){const tt=VT(We.width,We.height,$.format,$.type);for(const Xe of $.layerUpdates){const gt=We.data.subarray(Xe*tt/We.data.BYTES_PER_ELEMENT,(Xe+1)*tt/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Xe,We.width,We.height,1,Ze,_t,gt)}$.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,Ze,_t,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,se,We.width,We.height,We.depth,0,Ze,_t,We.data);else if($.isData3DTexture)le?(xe&&n.texStorage3D(t.TEXTURE_3D,pt,se,We.width,We.height,We.depth),et&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,Ze,_t,We.data)):n.texImage3D(t.TEXTURE_3D,0,se,We.width,We.height,We.depth,0,Ze,_t,We.data);else if($.isFramebufferTexture){if(xe)if(le)n.texStorage2D(t.TEXTURE_2D,pt,se,We.width,We.height);else{let tt=We.width,Xe=We.height;for(let gt=0;gt<pt;gt++)n.texImage2D(t.TEXTURE_2D,gt,se,tt,Xe,0,Ze,_t,null),tt>>=1,Xe>>=1}}else if(Ve.length>0){if(le&&xe){const tt=bt(Ve[0]);n.texStorage2D(t.TEXTURE_2D,pt,se,tt.width,tt.height)}for(let tt=0,Xe=Ve.length;tt<Xe;tt++)be=Ve[tt],le?et&&n.texSubImage2D(t.TEXTURE_2D,tt,0,0,Ze,_t,be):n.texImage2D(t.TEXTURE_2D,tt,se,Ze,_t,be);$.generateMipmaps=!1}else if(le){if(xe){const tt=bt(We);n.texStorage2D(t.TEXTURE_2D,pt,se,tt.width,tt.height)}et&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ze,_t,We)}else n.texImage2D(t.TEXTURE_2D,0,se,Ze,_t,We);v($)&&y(ne),oe.__version=ge.version,$.onUpdate&&$.onUpdate($)}Y.__version=$.version}function _e(Y,$,ye){if($.image.length!==6)return;const ne=G(Y,$),de=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture,t.TEXTURE0+ye);const ge=r.get(de);if(de.version!==ge.__version||ne===!0){n.activeTexture(t.TEXTURE0+ye);const oe=gn.getPrimaries(gn.workingColorSpace),pe=$.colorSpace===qo?null:gn.getPrimaries($.colorSpace),$e=$.colorSpace===qo||oe===pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,$e);const nt=$.isCompressedTexture||$.image[0].isCompressedTexture,We=$.image[0]&&$.image[0].isDataTexture,Ze=[];for(let Xe=0;Xe<6;Xe++)!nt&&!We?Ze[Xe]=x($.image[Xe],!0,i.maxCubemapSize):Ze[Xe]=We?$.image[Xe].image:$.image[Xe],Ze[Xe]=wt($,Ze[Xe]);const _t=Ze[0],se=s.convert($.format,$.colorSpace),be=s.convert($.type),Ve=b($.internalFormat,se,be,$.colorSpace),le=$.isVideoTexture!==!0,xe=ge.__version===void 0||ne===!0,et=de.dataReady;let pt=E($,_t);te(t.TEXTURE_CUBE_MAP,$);let tt;if(nt){le&&xe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,pt,Ve,_t.width,_t.height);for(let Xe=0;Xe<6;Xe++){tt=Ze[Xe].mipmaps;for(let gt=0;gt<tt.length;gt++){const Rt=tt[gt];$.format!==xr?se!==null?le?et&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt,0,0,Rt.width,Rt.height,se,Rt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt,Ve,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt,0,0,Rt.width,Rt.height,se,be,Rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt,Ve,Rt.width,Rt.height,0,se,be,Rt.data)}}}else{if(tt=$.mipmaps,le&&xe){tt.length>0&&pt++;const Xe=bt(Ze[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,pt,Ve,Xe.width,Xe.height)}for(let Xe=0;Xe<6;Xe++)if(We){le?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,Ze[Xe].width,Ze[Xe].height,se,be,Ze[Xe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,Ve,Ze[Xe].width,Ze[Xe].height,0,se,be,Ze[Xe].data);for(let gt=0;gt<tt.length;gt++){const sn=tt[gt].image[Xe].image;le?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt+1,0,0,sn.width,sn.height,se,be,sn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt+1,Ve,sn.width,sn.height,0,se,be,sn.data)}}else{le?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,se,be,Ze[Xe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,Ve,se,be,Ze[Xe]);for(let gt=0;gt<tt.length;gt++){const Rt=tt[gt];le?et&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt+1,0,0,se,be,Rt.image[Xe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,gt+1,Ve,se,be,Rt.image[Xe])}}}v($)&&y(t.TEXTURE_CUBE_MAP),ge.__version=de.version,$.onUpdate&&$.onUpdate($)}Y.__version=$.version}function Ge(Y,$,ye,ne,de,ge){const oe=s.convert(ye.format,ye.colorSpace),pe=s.convert(ye.type),$e=b(ye.internalFormat,oe,pe,ye.colorSpace),nt=r.get($),We=r.get(ye);if(We.__renderTarget=$,!nt.__hasExternalTextures){const Ze=Math.max(1,$.width>>ge),_t=Math.max(1,$.height>>ge);de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY?n.texImage3D(de,ge,$e,Ze,_t,$.depth,0,oe,pe,null):n.texImage2D(de,ge,$e,Ze,_t,0,oe,pe,null)}n.bindFramebuffer(t.FRAMEBUFFER,Y),qe($)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ne,de,We.__webglTexture,0,Ye($)):(de===t.TEXTURE_2D||de>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&de<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ne,de,We.__webglTexture,ge),n.bindFramebuffer(t.FRAMEBUFFER,null)}function we(Y,$,ye){if(t.bindRenderbuffer(t.RENDERBUFFER,Y),$.depthBuffer){const ne=$.depthTexture,de=ne&&ne.isDepthTexture?ne.type:null,ge=w($.stencilBuffer,de),oe=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pe=Ye($);qe($)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,pe,ge,$.width,$.height):ye?t.renderbufferStorageMultisample(t.RENDERBUFFER,pe,ge,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,ge,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,oe,t.RENDERBUFFER,Y)}else{const ne=$.textures;for(let de=0;de<ne.length;de++){const ge=ne[de],oe=s.convert(ge.format,ge.colorSpace),pe=s.convert(ge.type),$e=b(ge.internalFormat,oe,pe,ge.colorSpace),nt=Ye($);ye&&qe($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,$e,$.width,$.height):qe($)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,$e,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,$e,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Le(Y,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Y),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ne=r.get($.depthTexture);ne.__renderTarget=$,(!ne.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),V($.depthTexture,0);const de=ne.__webglTexture,ge=Ye($);if($.depthTexture.format===fd)qe($)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,de,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,de,0);else if($.depthTexture.format===hd)qe($)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,de,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,de,0);else throw new Error("Unknown depthTexture format")}function Je(Y){const $=r.get(Y),ye=Y.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==Y.depthTexture){const ne=Y.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),ne){const de=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,ne.removeEventListener("dispose",de)};ne.addEventListener("dispose",de),$.__depthDisposeCallback=de}$.__boundDepthTexture=ne}if(Y.depthTexture&&!$.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");const ne=Y.texture.mipmaps;ne&&ne.length>0?Le($.__webglFramebuffer[0],Y):Le($.__webglFramebuffer,Y)}else if(ye){$.__webglDepthbuffer=[];for(let ne=0;ne<6;ne++)if(n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[ne]),$.__webglDepthbuffer[ne]===void 0)$.__webglDepthbuffer[ne]=t.createRenderbuffer(),we($.__webglDepthbuffer[ne],Y,!1);else{const de=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=$.__webglDepthbuffer[ne];t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,de,t.RENDERBUFFER,ge)}}else{const ne=Y.texture.mipmaps;if(ne&&ne.length>0?n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=t.createRenderbuffer(),we($.__webglDepthbuffer,Y,!1);else{const de=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=$.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,de,t.RENDERBUFFER,ge)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Pe(Y,$,ye){const ne=r.get(Y);$!==void 0&&Ge(ne.__webglFramebuffer,Y,Y.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ye!==void 0&&Je(Y)}function Q(Y){const $=Y.texture,ye=r.get(Y),ne=r.get($);Y.addEventListener("dispose",P);const de=Y.textures,ge=Y.isWebGLCubeRenderTarget===!0,oe=de.length>1;if(oe||(ne.__webglTexture===void 0&&(ne.__webglTexture=t.createTexture()),ne.__version=$.version,a.memory.textures++),ge){ye.__webglFramebuffer=[];for(let pe=0;pe<6;pe++)if($.mipmaps&&$.mipmaps.length>0){ye.__webglFramebuffer[pe]=[];for(let $e=0;$e<$.mipmaps.length;$e++)ye.__webglFramebuffer[pe][$e]=t.createFramebuffer()}else ye.__webglFramebuffer[pe]=t.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){ye.__webglFramebuffer=[];for(let pe=0;pe<$.mipmaps.length;pe++)ye.__webglFramebuffer[pe]=t.createFramebuffer()}else ye.__webglFramebuffer=t.createFramebuffer();if(oe)for(let pe=0,$e=de.length;pe<$e;pe++){const nt=r.get(de[pe]);nt.__webglTexture===void 0&&(nt.__webglTexture=t.createTexture(),a.memory.textures++)}if(Y.samples>0&&qe(Y)===!1){ye.__webglMultisampledFramebuffer=t.createFramebuffer(),ye.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let pe=0;pe<de.length;pe++){const $e=de[pe];ye.__webglColorRenderbuffer[pe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ye.__webglColorRenderbuffer[pe]);const nt=s.convert($e.format,$e.colorSpace),We=s.convert($e.type),Ze=b($e.internalFormat,nt,We,$e.colorSpace,Y.isXRRenderTarget===!0),_t=Ye(Y);t.renderbufferStorageMultisample(t.RENDERBUFFER,_t,Ze,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,ye.__webglColorRenderbuffer[pe])}t.bindRenderbuffer(t.RENDERBUFFER,null),Y.depthBuffer&&(ye.__webglDepthRenderbuffer=t.createRenderbuffer(),we(ye.__webglDepthRenderbuffer,Y,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ge){n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture),te(t.TEXTURE_CUBE_MAP,$);for(let pe=0;pe<6;pe++)if($.mipmaps&&$.mipmaps.length>0)for(let $e=0;$e<$.mipmaps.length;$e++)Ge(ye.__webglFramebuffer[pe][$e],Y,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+pe,$e);else Ge(ye.__webglFramebuffer[pe],Y,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+pe,0);v($)&&y(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(oe){for(let pe=0,$e=de.length;pe<$e;pe++){const nt=de[pe],We=r.get(nt);let Ze=t.TEXTURE_2D;(Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(Ze=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ze,We.__webglTexture),te(Ze,nt),Ge(ye.__webglFramebuffer,Y,nt,t.COLOR_ATTACHMENT0+pe,Ze,0),v(nt)&&y(Ze)}n.unbindTexture()}else{let pe=t.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(pe=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(pe,ne.__webglTexture),te(pe,$),$.mipmaps&&$.mipmaps.length>0)for(let $e=0;$e<$.mipmaps.length;$e++)Ge(ye.__webglFramebuffer[$e],Y,$,t.COLOR_ATTACHMENT0,pe,$e);else Ge(ye.__webglFramebuffer,Y,$,t.COLOR_ATTACHMENT0,pe,0);v($)&&y(pe),n.unbindTexture()}Y.depthBuffer&&Je(Y)}function Me(Y){const $=Y.textures;for(let ye=0,ne=$.length;ye<ne;ye++){const de=$[ye];if(v(de)){const ge=_(Y),oe=r.get(de).__webglTexture;n.bindTexture(ge,oe),y(ge),n.unbindTexture()}}}const Re=[],Ce=[];function Ee(Y){if(Y.samples>0){if(qe(Y)===!1){const $=Y.textures,ye=Y.width,ne=Y.height;let de=t.COLOR_BUFFER_BIT;const ge=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,oe=r.get(Y),pe=$.length>1;if(pe)for(let nt=0;nt<$.length;nt++)n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,oe.__webglMultisampledFramebuffer);const $e=Y.texture.mipmaps;$e&&$e.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,oe.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,oe.__webglFramebuffer);for(let nt=0;nt<$.length;nt++){if(Y.resolveDepthBuffer&&(Y.depthBuffer&&(de|=t.DEPTH_BUFFER_BIT),Y.stencilBuffer&&Y.resolveStencilBuffer&&(de|=t.STENCIL_BUFFER_BIT)),pe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,oe.__webglColorRenderbuffer[nt]);const We=r.get($[nt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,ye,ne,0,0,ye,ne,de,t.NEAREST),l===!0&&(Re.length=0,Ce.length=0,Re.push(t.COLOR_ATTACHMENT0+nt),Y.depthBuffer&&Y.resolveDepthBuffer===!1&&(Re.push(ge),Ce.push(ge),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ce)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Re))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),pe)for(let nt=0;nt<$.length;nt++){n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,oe.__webglColorRenderbuffer[nt]);const We=r.get($[nt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,We,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,oe.__webglMultisampledFramebuffer)}else if(Y.depthBuffer&&Y.resolveDepthBuffer===!1&&l){const $=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$])}}}function Ye(Y){return Math.min(i.maxSamples,Y.samples)}function qe(Y){const $=r.get(Y);return Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function Qe(Y){const $=a.render.frame;f.get(Y)!==$&&(f.set(Y,$),Y.update())}function wt(Y,$){const ye=Y.colorSpace,ne=Y.format,de=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||ye!==_o&&ye!==qo&&(gn.getTransfer(ye)===kn?(ne!==xr||de!==ji)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ye)),$}function bt(Y){return typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement?(u.width=Y.naturalWidth||Y.width,u.height=Y.naturalHeight||Y.height):typeof VideoFrame<"u"&&Y instanceof VideoFrame?(u.width=Y.displayWidth,u.height=Y.displayHeight):(u.width=Y.width,u.height=Y.height),u}this.allocateTextureUnit=H,this.resetTextureUnits=B,this.setTexture2D=V,this.setTexture2DArray=X,this.setTexture3D=Z,this.setTextureCube=L,this.rebindTextures=Pe,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=Je,this.setupFrameBufferTexture=Ge,this.useMultisampledRTT=qe}function e$(t,e){function n(r,i=qo){let s;const a=gn.getTransfer(i);if(r===ji)return t.UNSIGNED_BYTE;if(r===ow)return t.UNSIGNED_SHORT_4_4_4_4;if(r===lw)return t.UNSIGNED_SHORT_5_5_5_1;if(r===JR)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===YR)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===sw)return t.BYTE;if(r===aw)return t.SHORT;if(r===ud)return t.UNSIGNED_SHORT;if(r===Dy)return t.INT;if(r===bo)return t.UNSIGNED_INT;if(r===sr)return t.FLOAT;if(r===qr)return t.HALF_FLOAT;if(r===ZR)return t.ALPHA;if(r===QR)return t.RGB;if(r===xr)return t.RGBA;if(r===fd)return t.DEPTH_COMPONENT;if(r===hd)return t.DEPTH_STENCIL;if(r===Ly)return t.RED;if(r===Fy)return t.RED_INTEGER;if(r===eI)return t.RG;if(r===uw)return t.RG_INTEGER;if(r===cw)return t.RGBA_INTEGER;if(r===$m||r===Vm||r===Wm||r===Xm)if(a===kn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===$m)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Vm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Wm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Xm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===$m)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Vm)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Wm)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Xm)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===X1||r===q1||r===K1||r===J1)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===X1)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===q1)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===K1)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===J1)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Y1||r===Z1||r===Q1)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===Y1||r===Z1)return a===kn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===Q1)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===eb||r===tb||r===nb||r===rb||r===ib||r===sb||r===ab||r===ob||r===lb||r===ub||r===cb||r===fb||r===hb||r===db)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===eb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===tb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===nb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===rb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===ib)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===sb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===ab)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===ob)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===lb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===ub)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===cb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===fb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===hb)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===db)return a===kn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===pb||r===mb||r===gb)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===pb)return a===kn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===mb)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===gb)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===yb||r===vb||r===xb||r===bb)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===yb)return s.COMPRESSED_RED_RGTC1_EXT;if(r===vb)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===xb)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===bb)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===cd?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const kye=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Nye=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Bye{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new gI(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Mi({vertexShader:kye,fragmentShader:Nye,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Yn(new _l(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Dye extends Ao{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,u=null,f=null,c=null,h=null,d=null,m=null;const x=typeof XRWebGLBinding<"u",v=new Bye,y={},_=n.getContextAttributes();let b=null,w=null;const E=[],A=[],P=new ze;let I=null;const R=new dr;R.viewport=new xn;const M=new dr;M.viewport=new xn;const k=[R,M],B=new G9;let H=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let _e=E[ae];return _e===void 0&&(_e=new t1,E[ae]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ae){let _e=E[ae];return _e===void 0&&(_e=new t1,E[ae]=_e),_e.getGripSpace()},this.getHand=function(ae){let _e=E[ae];return _e===void 0&&(_e=new t1,E[ae]=_e),_e.getHandSpace()};function V(ae){const _e=A.indexOf(ae.inputSource);if(_e===-1)return;const Ge=E[_e];Ge!==void 0&&(Ge.update(ae.inputSource,ae.frame,u||a),Ge.dispatchEvent({type:ae.type,data:ae.inputSource}))}function X(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",X),i.removeEventListener("inputsourceschange",Z);for(let ae=0;ae<E.length;ae++){const _e=A[ae];_e!==null&&(A[ae]=null,E[ae].disconnect(_e))}H=null,j=null,v.reset();for(const ae in y)delete y[ae];e.setRenderTarget(b),d=null,h=null,c=null,i=null,w=null,Oe.stop(),r.isPresenting=!1,e.setPixelRatio(I),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){s=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){o=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ae){u=ae},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return c===null&&x&&(c=new XRWebGLBinding(i,n)),c},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",X),i.addEventListener("inputsourceschange",Z),_.xrCompatible!==!0&&await n.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(P),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ge=null,we=null,Le=null;_.depth&&(Le=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ge=_.stencil?hd:fd,we=_.stencil?cd:bo);const Je={colorFormat:n.RGBA8,depthFormat:Le,scaleFactor:s};c=this.getBinding(),h=c.createProjectionLayer(Je),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),w=new os(h.textureWidth,h.textureHeight,{format:xr,type:ji,depthTexture:new mI(h.textureWidth,h.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,Ge),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Ge={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,n,Ge),i.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),w=new os(d.framebufferWidth,d.framebufferHeight,{format:xr,type:ji,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(o),Oe.setContext(i),Oe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function Z(ae){for(let _e=0;_e<ae.removed.length;_e++){const Ge=ae.removed[_e],we=A.indexOf(Ge);we>=0&&(A[we]=null,E[we].disconnect(Ge))}for(let _e=0;_e<ae.added.length;_e++){const Ge=ae.added[_e];let we=A.indexOf(Ge);if(we===-1){for(let Je=0;Je<E.length;Je++)if(Je>=A.length){A.push(Ge),we=Je;break}else if(A[Je]===null){A[Je]=Ge,we=Je;break}if(we===-1)break}const Le=E[we];Le&&Le.connect(Ge)}}const L=new J,W=new J;function N(ae,_e,Ge){L.setFromMatrixPosition(_e.matrixWorld),W.setFromMatrixPosition(Ge.matrixWorld);const we=L.distanceTo(W),Le=_e.projectionMatrix.elements,Je=Ge.projectionMatrix.elements,Pe=Le[14]/(Le[10]-1),Q=Le[14]/(Le[10]+1),Me=(Le[9]+1)/Le[5],Re=(Le[9]-1)/Le[5],Ce=(Le[8]-1)/Le[0],Ee=(Je[8]+1)/Je[0],Ye=Pe*Ce,qe=Pe*Ee,Qe=we/(-Ce+Ee),wt=Qe*-Ce;if(_e.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(wt),ae.translateZ(Qe),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),Le[10]===-1)ae.projectionMatrix.copy(_e.projectionMatrix),ae.projectionMatrixInverse.copy(_e.projectionMatrixInverse);else{const bt=Pe+Qe,Y=Q+Qe,$=Ye-wt,ye=qe+(we-wt),ne=Me*Q/Y*bt,de=Re*Q/Y*bt;ae.projectionMatrix.makePerspective($,ye,ne,de,bt,Y),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function q(ae,_e){_e===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(_e.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let _e=ae.near,Ge=ae.far;v.texture!==null&&(v.depthNear>0&&(_e=v.depthNear),v.depthFar>0&&(Ge=v.depthFar)),B.near=M.near=R.near=_e,B.far=M.far=R.far=Ge,(H!==B.near||j!==B.far)&&(i.updateRenderState({depthNear:B.near,depthFar:B.far}),H=B.near,j=B.far),B.layers.mask=ae.layers.mask|6,R.layers.mask=B.layers.mask&3,M.layers.mask=B.layers.mask&5;const we=ae.parent,Le=B.cameras;q(B,we);for(let Je=0;Je<Le.length;Je++)q(Le[Je],we);Le.length===2?N(B,R,M):B.projectionMatrix.copy(R.projectionMatrix),te(ae,B,we)};function te(ae,_e,Ge){Ge===null?ae.matrix.copy(_e.matrixWorld):(ae.matrix.copy(Ge.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(_e.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(_e.projectionMatrix),ae.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=gd*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(ae){l=ae,h!==null&&(h.fixedFoveation=ae),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ae)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(B)},this.getCameraTexture=function(ae){return y[ae]};let G=null;function Ie(ae,_e){if(f=_e.getViewerPose(u||a),m=_e,f!==null){const Ge=f.views;d!==null&&(e.setRenderTargetFramebuffer(w,d.framebuffer),e.setRenderTarget(w));let we=!1;Ge.length!==B.cameras.length&&(B.cameras.length=0,we=!0);for(let Q=0;Q<Ge.length;Q++){const Me=Ge[Q];let Re=null;if(d!==null)Re=d.getViewport(Me);else{const Ee=c.getViewSubImage(h,Me);Re=Ee.viewport,Q===0&&(e.setRenderTargetTextures(w,Ee.colorTexture,Ee.depthStencilTexture),e.setRenderTarget(w))}let Ce=k[Q];Ce===void 0&&(Ce=new dr,Ce.layers.enable(Q),Ce.viewport=new xn,k[Q]=Ce),Ce.matrix.fromArray(Me.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(Me.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(Re.x,Re.y,Re.width,Re.height),Q===0&&(B.matrix.copy(Ce.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),we===!0&&B.cameras.push(Ce)}const Le=i.enabledFeatures;if(Le&&Le.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){c=r.getBinding();const Q=c.getDepthInformation(Ge[0]);Q&&Q.isValid&&Q.texture&&v.init(Q,i.renderState)}if(Le&&Le.includes("camera-access")&&x){e.state.unbindTexture(),c=r.getBinding();for(let Q=0;Q<Ge.length;Q++){const Me=Ge[Q].camera;if(Me){let Re=y[Me];Re||(Re=new gI,y[Me]=Re);const Ce=c.getCameraImage(Me);Re.sourceTexture=Ce}}}}for(let Ge=0;Ge<E.length;Ge++){const we=A[Ge],Le=E[Ge];we!==null&&Le!==void 0&&Le.update(we,_e,u||a)}G&&G(ae,_e),_e.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:_e}),m=null}const Oe=new K9;Oe.setAnimationLoop(Ie),this.setAnimationLoop=function(ae){G=ae},this.dispose=function(){}}}const fc=new Ps,Lye=new Ut;function Fye(t,e){function n(v,y){v.matrixAutoUpdate===!0&&v.updateMatrix(),y.value.copy(v.matrix)}function r(v,y){y.color.getRGB(v.fogColor.value,e9(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function i(v,y,_,b,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(v,y):y.isMeshToonMaterial?(s(v,y),c(v,y)):y.isMeshPhongMaterial?(s(v,y),f(v,y)):y.isMeshStandardMaterial?(s(v,y),h(v,y),y.isMeshPhysicalMaterial&&d(v,y,w)):y.isMeshMatcapMaterial?(s(v,y),m(v,y)):y.isMeshDepthMaterial?s(v,y):y.isMeshDistanceMaterial?(s(v,y),x(v,y)):y.isMeshNormalMaterial?s(v,y):y.isLineBasicMaterial?(a(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?l(v,y,_,b):y.isSpriteMaterial?u(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.bumpMap&&(v.bumpMap.value=y.bumpMap,n(y.bumpMap,v.bumpMapTransform),v.bumpScale.value=y.bumpScale,y.side===zi&&(v.bumpScale.value*=-1)),y.normalMap&&(v.normalMap.value=y.normalMap,n(y.normalMap,v.normalMapTransform),v.normalScale.value.copy(y.normalScale),y.side===zi&&v.normalScale.value.negate()),y.displacementMap&&(v.displacementMap.value=y.displacementMap,n(y.displacementMap,v.displacementMapTransform),v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,v.emissiveMapTransform)),y.specularMap&&(v.specularMap.value=y.specularMap,n(y.specularMap,v.specularMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const _=e.get(y),b=_.envMap,w=_.envMapRotation;b&&(v.envMap.value=b,fc.copy(w),fc.x*=-1,fc.y*=-1,fc.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(fc.y*=-1,fc.z*=-1),v.envMapRotation.value.setFromMatrix4(Lye.makeRotationFromEuler(fc)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap&&(v.lightMap.value=y.lightMap,v.lightMapIntensity.value=y.lightMapIntensity,n(y.lightMap,v.lightMapTransform)),y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,v.aoMapTransform))}function a(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform))}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function l(v,y,_,b){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*_,v.scale.value=b*.5,y.map&&(v.map.value=y.map,n(y.map,v.uvTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest)}function u(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest)}function f(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function c(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function h(v,y){v.metalness.value=y.metalness,y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,v.metalnessMapTransform)),v.roughness.value=y.roughness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,v.roughnessMapTransform)),y.envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,_){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,v.sheenColorMapTransform)),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,v.sheenRoughnessMapTransform))),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,v.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(v.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===zi&&v.clearcoatNormalScale.value.negate())),y.dispersion>0&&(v.dispersion.value=y.dispersion),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,v.iridescenceMapTransform)),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,v.transmissionMapTransform)),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(v.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(v.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,v.specularColorMapTransform)),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,v.specularIntensityMapTransform))}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function x(v,y){const _=e.get(y).light;v.referencePosition.value.setFromMatrixPosition(_.matrixWorld),v.nearDistance.value=_.shadow.camera.near,v.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Uye(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,b){const w=b.program;r.uniformBlockBinding(_,w)}function u(_,b){let w=i[_.id];w===void 0&&(m(_),w=f(_),i[_.id]=w,_.addEventListener("dispose",v));const E=b.program;r.updateUBOMapping(_,E);const A=e.render.frame;s[_.id]!==A&&(h(_),s[_.id]=A)}function f(_){const b=c();_.__bindingPointIndex=b;const w=t.createBuffer(),E=_.__size,A=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,E,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function c(){for(let _=0;_<o;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const b=i[_.id],w=_.uniforms,E=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let A=0,P=w.length;A<P;A++){const I=Array.isArray(w[A])?w[A]:[w[A]];for(let R=0,M=I.length;R<M;R++){const k=I[R];if(d(k,A,R,E)===!0){const B=k.__offset,H=Array.isArray(k.value)?k.value:[k.value];let j=0;for(let V=0;V<H.length;V++){const X=H[V],Z=x(X);typeof X=="number"||typeof X=="boolean"?(k.__data[0]=X,t.bufferSubData(t.UNIFORM_BUFFER,B+j,k.__data)):X.isMatrix3?(k.__data[0]=X.elements[0],k.__data[1]=X.elements[1],k.__data[2]=X.elements[2],k.__data[3]=0,k.__data[4]=X.elements[3],k.__data[5]=X.elements[4],k.__data[6]=X.elements[5],k.__data[7]=0,k.__data[8]=X.elements[6],k.__data[9]=X.elements[7],k.__data[10]=X.elements[8],k.__data[11]=0):(X.toArray(k.__data,j),j+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,B,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(_,b,w,E){const A=_.value,P=b+"_"+w;if(E[P]===void 0)return typeof A=="number"||typeof A=="boolean"?E[P]=A:E[P]=A.clone(),!0;{const I=E[P];if(typeof A=="number"||typeof A=="boolean"){if(I!==A)return E[P]=A,!0}else if(I.equals(A)===!1)return I.copy(A),!0}return!1}function m(_){const b=_.uniforms;let w=0;const E=16;for(let P=0,I=b.length;P<I;P++){const R=Array.isArray(b[P])?b[P]:[b[P]];for(let M=0,k=R.length;M<k;M++){const B=R[M],H=Array.isArray(B.value)?B.value:[B.value];for(let j=0,V=H.length;j<V;j++){const X=H[j],Z=x(X),L=w%E,W=L%Z.boundary,N=L+W;w+=W,N!==0&&E-N<Z.storage&&(w+=E-N),B.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=w,w+=Z.storage}}}const A=w%E;return A>0&&(w+=E-A),_.__size=w,_.__cache={},this}function x(_){const b={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function v(_){const b=_.target;b.removeEventListener("dispose",v);const w=a.indexOf(b.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function y(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},s={}}return{bind:l,update:u,dispose:y}}class zI{constructor(e={}){const{canvas:n=Y6(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:c=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let d;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=r.getContextAttributes().alpha}else d=a;const m=new Uint32Array(4),x=new Int32Array(4);let v=null,y=null;const _=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=po,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const w=this;let E=!1;this._outputColorSpace=Bi;let A=0,P=0,I=null,R=-1,M=null;const k=new xn,B=new xn;let H=null;const j=new dt(0);let V=0,X=n.width,Z=n.height,L=1,W=null,N=null;const q=new xn(0,0,X,Z),te=new xn(0,0,X,Z);let G=!1;const Ie=new tp;let Oe=!1,ae=!1;const _e=new Ut,Ge=new J,we=new xn,Le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Je=!1;function Pe(){return I===null?L:1}let Q=r;function Me(F,re){return n.getContext(F,re)}try{const F={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Ny}`),n.addEventListener("webglcontextlost",et,!1),n.addEventListener("webglcontextrestored",pt,!1),n.addEventListener("webglcontextcreationerror",tt,!1),Q===null){const re="webgl2";if(Q=Me(re,F),Q===null)throw Me(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let Re,Ce,Ee,Ye,qe,Qe,wt,bt,Y,$,ye,ne,de,ge,oe,pe,$e,nt,We,Ze,_t,se,be,Ve;function le(){Re=new Yme(Q),Re.init(),se=new e$(Q,Re),Ce=new $me(Q,Re,e,se),Ee=new Iye(Q,Re),Ce.reversedDepthBuffer&&h&&Ee.buffers.depth.setReversed(!0),Ye=new ege(Q),qe=new vye,Qe=new Oye(Q,Re,Ee,qe,Ce,se,Ye),wt=new Wme(w),bt=new Jme(w),Y=new ade(Q),be=new Hme(Q,Y),$=new Zme(Q,Y,Ye,be),ye=new nge(Q,$,Y,Ye),We=new tge(Q,Ce,Qe),pe=new Vme(qe),ne=new yye(w,wt,bt,Re,Ce,be,pe),de=new Fye(w,qe),ge=new bye,oe=new Mye(Re),nt=new jme(w,wt,bt,Ee,ye,d,l),$e=new Pye(w,ye,Ce),Ve=new Uye(Q,Ye,Ce,Ee),Ze=new Gme(Q,Re,Ye),_t=new Qme(Q,Re,Ye),Ye.programs=ne.programs,w.capabilities=Ce,w.extensions=Re,w.properties=qe,w.renderLists=ge,w.shadowMap=$e,w.state=Ee,w.info=Ye}le();const xe=new Dye(w,Q);this.xr=xe,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const F=Re.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=Re.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(F){F!==void 0&&(L=F,this.setSize(X,Z,!1))},this.getSize=function(F){return F.set(X,Z)},this.setSize=function(F,re,ue=!0){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=F,Z=re,n.width=Math.floor(F*L),n.height=Math.floor(re*L),ue===!0&&(n.style.width=F+"px",n.style.height=re+"px"),this.setViewport(0,0,F,re)},this.getDrawingBufferSize=function(F){return F.set(X*L,Z*L).floor()},this.setDrawingBufferSize=function(F,re,ue){X=F,Z=re,L=ue,n.width=Math.floor(F*ue),n.height=Math.floor(re*ue),this.setViewport(0,0,F,re)},this.getCurrentViewport=function(F){return F.copy(k)},this.getViewport=function(F){return F.copy(q)},this.setViewport=function(F,re,ue,ce){F.isVector4?q.set(F.x,F.y,F.z,F.w):q.set(F,re,ue,ce),Ee.viewport(k.copy(q).multiplyScalar(L).round())},this.getScissor=function(F){return F.copy(te)},this.setScissor=function(F,re,ue,ce){F.isVector4?te.set(F.x,F.y,F.z,F.w):te.set(F,re,ue,ce),Ee.scissor(B.copy(te).multiplyScalar(L).round())},this.getScissorTest=function(){return G},this.setScissorTest=function(F){Ee.setScissorTest(G=F)},this.setOpaqueSort=function(F){W=F},this.setTransparentSort=function(F){N=F},this.getClearColor=function(F){return F.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor(...arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha(...arguments)},this.clear=function(F=!0,re=!0,ue=!0){let ce=0;if(F){let ie=!1;if(I!==null){const je=I.texture.format;ie=je===cw||je===uw||je===Fy}if(ie){const je=I.texture.type,De=je===ji||je===bo||je===ud||je===cd||je===ow||je===lw,He=nt.getClearColor(),Ke=nt.getClearAlpha(),it=He.r,ut=He.g,ot=He.b;De?(m[0]=it,m[1]=ut,m[2]=ot,m[3]=Ke,Q.clearBufferuiv(Q.COLOR,0,m)):(x[0]=it,x[1]=ut,x[2]=ot,x[3]=Ke,Q.clearBufferiv(Q.COLOR,0,x))}else ce|=Q.COLOR_BUFFER_BIT}re&&(ce|=Q.DEPTH_BUFFER_BIT),ue&&(ce|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",et,!1),n.removeEventListener("webglcontextrestored",pt,!1),n.removeEventListener("webglcontextcreationerror",tt,!1),nt.dispose(),ge.dispose(),oe.dispose(),qe.dispose(),wt.dispose(),bt.dispose(),ye.dispose(),be.dispose(),Ve.dispose(),ne.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",Rr),xe.removeEventListener("sessionend",Cf),fa.stop()};function et(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const F=Ye.autoReset,re=$e.enabled,ue=$e.autoUpdate,ce=$e.needsUpdate,ie=$e.type;le(),Ye.autoReset=F,$e.enabled=re,$e.autoUpdate=ue,$e.needsUpdate=ce,$e.type=ie}function tt(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Xe(F){const re=F.target;re.removeEventListener("dispose",Xe),gt(re)}function gt(F){Rt(F),qe.remove(F)}function Rt(F){const re=qe.get(F).programs;re!==void 0&&(re.forEach(function(ue){ne.releaseProgram(ue)}),F.isShaderMaterial&&ne.releaseShaderCache(F))}this.renderBufferDirect=function(F,re,ue,ce,ie,je){re===null&&(re=Le);const De=ie.isMesh&&ie.matrixWorld.determinant()<0,He=K(F,re,ue,ce,ie);Ee.setMaterial(ce,De);let Ke=ue.index,it=1;if(ce.wireframe===!0){if(Ke=$.getWireframeAttribute(ue),Ke===void 0)return;it=2}const ut=ue.drawRange,ot=ue.attributes.position;let ct=ut.start*it,xt=(ut.start+ut.count)*it;je!==null&&(ct=Math.max(ct,je.start*it),xt=Math.min(xt,(je.start+je.count)*it)),Ke!==null?(ct=Math.max(ct,0),xt=Math.min(xt,Ke.count)):ot!=null&&(ct=Math.max(ct,0),xt=Math.min(xt,ot.count));const Tt=xt-ct;if(Tt<0||Tt===1/0)return;be.setup(ie,ce,He,ue,Ke);let Nt,St=Ze;if(Ke!==null&&(Nt=Y.get(Ke),St=_t,St.setIndex(Nt)),ie.isMesh)ce.wireframe===!0?(Ee.setLineWidth(ce.wireframeLinewidth*Pe()),St.setMode(Q.LINES)):St.setMode(Q.TRIANGLES);else if(ie.isLine){let ht=ce.linewidth;ht===void 0&&(ht=1),Ee.setLineWidth(ht*Pe()),ie.isLineSegments?St.setMode(Q.LINES):ie.isLineLoop?St.setMode(Q.LINE_LOOP):St.setMode(Q.LINE_STRIP)}else ie.isPoints?St.setMode(Q.POINTS):ie.isSprite&&St.setMode(Q.TRIANGLES);if(ie.isBatchedMesh)if(ie._multiDrawInstances!==null)Pg("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),St.renderMultiDrawInstances(ie._multiDrawStarts,ie._multiDrawCounts,ie._multiDrawCount,ie._multiDrawInstances);else if(Re.get("WEBGL_multi_draw"))St.renderMultiDraw(ie._multiDrawStarts,ie._multiDrawCounts,ie._multiDrawCount);else{const ht=ie._multiDrawStarts,en=ie._multiDrawCounts,Bt=ie._multiDrawCount,Cn=Ke?Y.get(Ke).bytesPerElement:1,an=qe.get(ce).currentProgram.getUniforms();for(let vn=0;vn<Bt;vn++)an.setValue(Q,"_gl_DrawID",vn),St.render(ht[vn]/Cn,en[vn])}else if(ie.isInstancedMesh)St.renderInstances(ct,Tt,ie.count);else if(ue.isInstancedBufferGeometry){const ht=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,en=Math.min(ue.instanceCount,ht);St.renderInstances(ct,Tt,en)}else St.render(ct,Tt)};function sn(F,re,ue){F.transparent===!0&&F.side===Js&&F.forceSinglePass===!1?(F.side=zi,F.needsUpdate=!0,Mo(F,re,ue),F.side=vo,F.needsUpdate=!0,Mo(F,re,ue),F.side=Js):Mo(F,re,ue)}this.compile=function(F,re,ue=null){ue===null&&(ue=F),y=oe.get(ue),y.init(re),b.push(y),ue.traverseVisible(function(ie){ie.isLight&&ie.layers.test(re.layers)&&(y.pushLight(ie),ie.castShadow&&y.pushShadow(ie))}),F!==ue&&F.traverseVisible(function(ie){ie.isLight&&ie.layers.test(re.layers)&&(y.pushLight(ie),ie.castShadow&&y.pushShadow(ie))}),y.setupLights();const ce=new Set;return F.traverse(function(ie){if(!(ie.isMesh||ie.isPoints||ie.isLine||ie.isSprite))return;const je=ie.material;if(je)if(Array.isArray(je))for(let De=0;De<je.length;De++){const He=je[De];sn(He,ue,ie),ce.add(He)}else sn(je,ue,ie),ce.add(je)}),y=b.pop(),ce},this.compileAsync=function(F,re,ue=null){const ce=this.compile(F,re,ue);return new Promise(ie=>{function je(){if(ce.forEach(function(De){qe.get(De).currentProgram.isReady()&&ce.delete(De)}),ce.size===0){ie(F);return}setTimeout(je,10)}Re.get("KHR_parallel_shader_compile")!==null?je():setTimeout(je,10)})};let Jt=null;function wr(F){Jt&&Jt(F)}function Rr(){fa.stop()}function Cf(){fa.start()}const fa=new K9;fa.setAnimationLoop(wr),typeof self<"u"&&fa.setContext(self),this.setAnimationLoop=function(F){Jt=F,xe.setAnimationLoop(F),F===null?fa.stop():fa.start()},xe.addEventListener("sessionstart",Rr),xe.addEventListener("sessionend",Cf),this.render=function(F,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(re),re=xe.getCamera()),F.isScene===!0&&F.onBeforeRender(w,F,re,I),y=oe.get(F,b.length),y.init(re),b.push(y),_e.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),Ie.setFromProjectionMatrix(_e,As,re.reversedDepth),ae=this.localClippingEnabled,Oe=pe.init(this.clippingPlanes,ae),v=ge.get(F,_.length),v.init(),_.push(v),xe.enabled===!0&&xe.isPresenting===!0){const je=w.xr.getDepthSensingMesh();je!==null&&ha(je,re,-1/0,w.sortObjects)}ha(F,re,0,w.sortObjects),v.finish(),w.sortObjects===!0&&v.sort(W,N),Je=xe.enabled===!1||xe.isPresenting===!1||xe.hasDepthSensing()===!1,Je&&nt.addToRenderList(v,F),this.info.render.frame++,Oe===!0&&pe.beginShadows();const ue=y.state.shadowsArray;$e.render(ue,F,re),Oe===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset();const ce=v.opaque,ie=v.transmissive;if(y.setupLights(),re.isArrayCamera){const je=re.cameras;if(ie.length>0)for(let De=0,He=je.length;De<He;De++){const Ke=je[De];Wa(ce,ie,F,Ke)}Je&&nt.render(F);for(let De=0,He=je.length;De<He;De++){const Ke=je[De];El(v,F,Ke,Ke.viewport)}}else ie.length>0&&Wa(ce,ie,F,re),Je&&nt.render(F),El(v,F,re);I!==null&&P===0&&(Qe.updateMultisampleRenderTarget(I),Qe.updateRenderTargetMipmap(I)),F.isScene===!0&&F.onAfterRender(w,F,re),be.resetDefaultState(),R=-1,M=null,b.pop(),b.length>0?(y=b[b.length-1],Oe===!0&&pe.setGlobalState(w.clippingPlanes,y.state.camera)):y=null,_.pop(),_.length>0?v=_[_.length-1]:v=null};function ha(F,re,ue,ce){if(F.visible===!1)return;if(F.layers.test(re.layers)){if(F.isGroup)ue=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(re);else if(F.isLight)y.pushLight(F),F.castShadow&&y.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||Ie.intersectsSprite(F)){ce&&we.setFromMatrixPosition(F.matrixWorld).applyMatrix4(_e);const De=ye.update(F),He=F.material;He.visible&&v.push(F,De,He,ue,we.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||Ie.intersectsObject(F))){const De=ye.update(F),He=F.material;if(ce&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),we.copy(F.boundingSphere.center)):(De.boundingSphere===null&&De.computeBoundingSphere(),we.copy(De.boundingSphere.center)),we.applyMatrix4(F.matrixWorld).applyMatrix4(_e)),Array.isArray(He)){const Ke=De.groups;for(let it=0,ut=Ke.length;it<ut;it++){const ot=Ke[it],ct=He[ot.materialIndex];ct&&ct.visible&&v.push(F,De,ct,ue,we.z,ot)}}else He.visible&&v.push(F,De,He,ue,we.z,null)}}const je=F.children;for(let De=0,He=je.length;De<He;De++)ha(je[De],re,ue,ce)}function El(F,re,ue,ce){const ie=F.opaque,je=F.transmissive,De=F.transparent;y.setupLightsView(ue),Oe===!0&&pe.setGlobalState(w.clippingPlanes,ue),ce&&Ee.viewport(k.copy(ce)),ie.length>0&&ui(ie,re,ue),je.length>0&&ui(je,re,ue),De.length>0&&ui(De,re,ue),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function Wa(F,re,ue,ce){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[ce.id]===void 0&&(y.state.transmissionRenderTarget[ce.id]=new os(1,1,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")||Re.has("EXT_color_buffer_float")?qr:ji,minFilter:Qs,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:gn.workingColorSpace}));const je=y.state.transmissionRenderTarget[ce.id],De=ce.viewport||k;je.setSize(De.z*w.transmissionResolutionScale,De.w*w.transmissionResolutionScale);const He=w.getRenderTarget(),Ke=w.getActiveCubeFace(),it=w.getActiveMipmapLevel();w.setRenderTarget(je),w.getClearColor(j),V=w.getClearAlpha(),V<1&&w.setClearColor(16777215,.5),w.clear(),Je&&nt.render(ue);const ut=w.toneMapping;w.toneMapping=po;const ot=ce.viewport;if(ce.viewport!==void 0&&(ce.viewport=void 0),y.setupLightsView(ce),Oe===!0&&pe.setGlobalState(w.clippingPlanes,ce),ui(F,ue,ce),Qe.updateMultisampleRenderTarget(je),Qe.updateRenderTargetMipmap(je),Re.has("WEBGL_multisampled_render_to_texture")===!1){let ct=!1;for(let xt=0,Tt=re.length;xt<Tt;xt++){const Nt=re[xt],St=Nt.object,ht=Nt.geometry,en=Nt.material,Bt=Nt.group;if(en.side===Js&&St.layers.test(ce.layers)){const Cn=en.side;en.side=zi,en.needsUpdate=!0,Qt(St,ue,ce,ht,en,Bt),en.side=Cn,en.needsUpdate=!0,ct=!0}}ct===!0&&(Qe.updateMultisampleRenderTarget(je),Qe.updateRenderTargetMipmap(je))}w.setRenderTarget(He,Ke,it),w.setClearColor(j,V),ot!==void 0&&(ce.viewport=ot),w.toneMapping=ut}function ui(F,re,ue){const ce=re.isScene===!0?re.overrideMaterial:null;for(let ie=0,je=F.length;ie<je;ie++){const De=F[ie],He=De.object,Ke=De.geometry,it=De.group;let ut=De.material;ut.allowOverride===!0&&ce!==null&&(ut=ce),He.layers.test(ue.layers)&&Qt(He,re,ue,Ke,ut,it)}}function Qt(F,re,ue,ce,ie,je){F.onBeforeRender(w,re,ue,ce,ie,je),F.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),ie.onBeforeRender(w,re,ue,ce,F,je),ie.transparent===!0&&ie.side===Js&&ie.forceSinglePass===!1?(ie.side=zi,ie.needsUpdate=!0,w.renderBufferDirect(ue,re,ce,ie,F,je),ie.side=vo,ie.needsUpdate=!0,w.renderBufferDirect(ue,re,ce,ie,F,je),ie.side=Js):w.renderBufferDirect(ue,re,ce,ie,F,je),F.onAfterRender(w,re,ue,ce,ie,je)}function Mo(F,re,ue){re.isScene!==!0&&(re=Le);const ce=qe.get(F),ie=y.state.lights,je=y.state.shadowsArray,De=ie.state.version,He=ne.getParameters(F,ie.state,je,re,ue),Ke=ne.getProgramCacheKey(He);let it=ce.programs;ce.environment=F.isMeshStandardMaterial?re.environment:null,ce.fog=re.fog,ce.envMap=(F.isMeshStandardMaterial?bt:wt).get(F.envMap||ce.environment),ce.envMapRotation=ce.environment!==null&&F.envMap===null?re.environmentRotation:F.envMapRotation,it===void 0&&(F.addEventListener("dispose",Xe),it=new Map,ce.programs=it);let ut=it.get(Ke);if(ut!==void 0){if(ce.currentProgram===ut&&ce.lightsStateVersion===De)return z(F,He),ut}else He.uniforms=ne.getUniforms(F),F.onBeforeCompile(He,w),ut=ne.acquireProgram(He,Ke),it.set(Ke,ut),ce.uniforms=He.uniforms;const ot=ce.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(ot.clippingPlanes=pe.uniform),z(F,He),ce.needsLights=Ae(F),ce.lightsStateVersion=De,ce.needsLights&&(ot.ambientLightColor.value=ie.state.ambient,ot.lightProbe.value=ie.state.probe,ot.directionalLights.value=ie.state.directional,ot.directionalLightShadows.value=ie.state.directionalShadow,ot.spotLights.value=ie.state.spot,ot.spotLightShadows.value=ie.state.spotShadow,ot.rectAreaLights.value=ie.state.rectArea,ot.ltc_1.value=ie.state.rectAreaLTC1,ot.ltc_2.value=ie.state.rectAreaLTC2,ot.pointLights.value=ie.state.point,ot.pointLightShadows.value=ie.state.pointShadow,ot.hemisphereLights.value=ie.state.hemi,ot.directionalShadowMap.value=ie.state.directionalShadowMap,ot.directionalShadowMatrix.value=ie.state.directionalShadowMatrix,ot.spotShadowMap.value=ie.state.spotShadowMap,ot.spotLightMatrix.value=ie.state.spotLightMatrix,ot.spotLightMap.value=ie.state.spotLightMap,ot.pointShadowMap.value=ie.state.pointShadowMap,ot.pointShadowMatrix.value=ie.state.pointShadowMatrix),ce.currentProgram=ut,ce.uniformsList=null,ut}function Tf(F){if(F.uniformsList===null){const re=F.currentProgram.getUniforms();F.uniformsList=n1.seqWithValue(re.seq,F.uniforms)}return F.uniformsList}function z(F,re){const ue=qe.get(F);ue.outputColorSpace=re.outputColorSpace,ue.batching=re.batching,ue.batchingColor=re.batchingColor,ue.instancing=re.instancing,ue.instancingColor=re.instancingColor,ue.instancingMorph=re.instancingMorph,ue.skinning=re.skinning,ue.morphTargets=re.morphTargets,ue.morphNormals=re.morphNormals,ue.morphColors=re.morphColors,ue.morphTargetsCount=re.morphTargetsCount,ue.numClippingPlanes=re.numClippingPlanes,ue.numIntersection=re.numClipIntersection,ue.vertexAlphas=re.vertexAlphas,ue.vertexTangents=re.vertexTangents,ue.toneMapping=re.toneMapping}function K(F,re,ue,ce,ie){re.isScene!==!0&&(re=Le),Qe.resetTextureUnits();const je=re.fog,De=ce.isMeshStandardMaterial?re.environment:null,He=I===null?w.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:_o,Ke=(ce.isMeshStandardMaterial?bt:wt).get(ce.envMap||De),it=ce.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,ut=!!ue.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),ot=!!ue.morphAttributes.position,ct=!!ue.morphAttributes.normal,xt=!!ue.morphAttributes.color;let Tt=po;ce.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Tt=w.toneMapping);const Nt=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,St=Nt!==void 0?Nt.length:0,ht=qe.get(ce),en=y.state.lights;if(Oe===!0&&(ae===!0||F!==M)){const Tn=F===M&&ce.id===R;pe.setState(ce,F,Tn)}let Bt=!1;ce.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==en.state.version||ht.outputColorSpace!==He||ie.isBatchedMesh&&ht.batching===!1||!ie.isBatchedMesh&&ht.batching===!0||ie.isBatchedMesh&&ht.batchingColor===!0&&ie.colorTexture===null||ie.isBatchedMesh&&ht.batchingColor===!1&&ie.colorTexture!==null||ie.isInstancedMesh&&ht.instancing===!1||!ie.isInstancedMesh&&ht.instancing===!0||ie.isSkinnedMesh&&ht.skinning===!1||!ie.isSkinnedMesh&&ht.skinning===!0||ie.isInstancedMesh&&ht.instancingColor===!0&&ie.instanceColor===null||ie.isInstancedMesh&&ht.instancingColor===!1&&ie.instanceColor!==null||ie.isInstancedMesh&&ht.instancingMorph===!0&&ie.morphTexture===null||ie.isInstancedMesh&&ht.instancingMorph===!1&&ie.morphTexture!==null||ht.envMap!==Ke||ce.fog===!0&&ht.fog!==je||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==pe.numPlanes||ht.numIntersection!==pe.numIntersection)||ht.vertexAlphas!==it||ht.vertexTangents!==ut||ht.morphTargets!==ot||ht.morphNormals!==ct||ht.morphColors!==xt||ht.toneMapping!==Tt||ht.morphTargetsCount!==St)&&(Bt=!0):(Bt=!0,ht.__version=ce.version);let Cn=ht.currentProgram;Bt===!0&&(Cn=Mo(ce,re,ie));let an=!1,vn=!1,hn=!1;const kt=Cn.getUniforms(),on=ht.uniforms;if(Ee.useProgram(Cn.program)&&(an=!0,vn=!0,hn=!0),ce.id!==R&&(R=ce.id,vn=!0),an||M!==F){Ee.buffers.depth.getReversed()&&F.reversedDepth!==!0&&(F._reversedDepth=!0,F.updateProjectionMatrix()),kt.setValue(Q,"projectionMatrix",F.projectionMatrix),kt.setValue(Q,"viewMatrix",F.matrixWorldInverse);const Vn=kt.map.cameraPosition;Vn!==void 0&&Vn.setValue(Q,Ge.setFromMatrixPosition(F.matrixWorld)),Ce.logarithmicDepthBuffer&&kt.setValue(Q,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&kt.setValue(Q,"isOrthographic",F.isOrthographicCamera===!0),M!==F&&(M=F,vn=!0,hn=!0)}if(ie.isSkinnedMesh){kt.setOptional(Q,ie,"bindMatrix"),kt.setOptional(Q,ie,"bindMatrixInverse");const Tn=ie.skeleton;Tn&&(Tn.boneTexture===null&&Tn.computeBoneTexture(),kt.setValue(Q,"boneTexture",Tn.boneTexture,Qe))}ie.isBatchedMesh&&(kt.setOptional(Q,ie,"batchingTexture"),kt.setValue(Q,"batchingTexture",ie._matricesTexture,Qe),kt.setOptional(Q,ie,"batchingIdTexture"),kt.setValue(Q,"batchingIdTexture",ie._indirectTexture,Qe),kt.setOptional(Q,ie,"batchingColorTexture"),ie._colorsTexture!==null&&kt.setValue(Q,"batchingColorTexture",ie._colorsTexture,Qe));const lr=ue.morphAttributes;if((lr.position!==void 0||lr.normal!==void 0||lr.color!==void 0)&&We.update(ie,ue,Cn),(vn||ht.receiveShadow!==ie.receiveShadow)&&(ht.receiveShadow=ie.receiveShadow,kt.setValue(Q,"receiveShadow",ie.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(on.envMap.value=Ke,on.flipEnvMap.value=Ke.isCubeTexture&&Ke.isRenderTargetTexture===!1?-1:1),ce.isMeshStandardMaterial&&ce.envMap===null&&re.environment!==null&&(on.envMapIntensity.value=re.environmentIntensity),vn&&(kt.setValue(Q,"toneMappingExposure",w.toneMappingExposure),ht.needsLights&&fe(on,hn),je&&ce.fog===!0&&de.refreshFogUniforms(on,je),de.refreshMaterialUniforms(on,ce,L,Z,y.state.transmissionRenderTarget[F.id]),n1.upload(Q,Tf(ht),on,Qe)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(n1.upload(Q,Tf(ht),on,Qe),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&kt.setValue(Q,"center",ie.center),kt.setValue(Q,"modelViewMatrix",ie.modelViewMatrix),kt.setValue(Q,"normalMatrix",ie.normalMatrix),kt.setValue(Q,"modelMatrix",ie.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Tn=ce.uniformsGroups;for(let Vn=0,Ml=Tn.length;Vn<Ml;Vn++){const ks=Tn[Vn];Ve.update(ks,Cn),Ve.bind(ks,Cn)}}return Cn}function fe(F,re){F.ambientLightColor.needsUpdate=re,F.lightProbe.needsUpdate=re,F.directionalLights.needsUpdate=re,F.directionalLightShadows.needsUpdate=re,F.pointLights.needsUpdate=re,F.pointLightShadows.needsUpdate=re,F.spotLights.needsUpdate=re,F.spotLightShadows.needsUpdate=re,F.rectAreaLights.needsUpdate=re,F.hemisphereLights.needsUpdate=re}function Ae(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(F,re,ue){const ce=qe.get(F);ce.__autoAllocateDepthBuffer=F.resolveDepthBuffer===!1,ce.__autoAllocateDepthBuffer===!1&&(ce.__useRenderToTexture=!1),qe.get(F.texture).__webglTexture=re,qe.get(F.depthTexture).__webglTexture=ce.__autoAllocateDepthBuffer?void 0:ue,ce.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(F,re){const ue=qe.get(F);ue.__webglFramebuffer=re,ue.__useDefaultFramebuffer=re===void 0};const Ne=Q.createFramebuffer();this.setRenderTarget=function(F,re=0,ue=0){I=F,A=re,P=ue;let ce=!0,ie=null,je=!1,De=!1;if(F){const Ke=qe.get(F);if(Ke.__useDefaultFramebuffer!==void 0)Ee.bindFramebuffer(Q.FRAMEBUFFER,null),ce=!1;else if(Ke.__webglFramebuffer===void 0)Qe.setupRenderTarget(F);else if(Ke.__hasExternalTextures)Qe.rebindTextures(F,qe.get(F.texture).__webglTexture,qe.get(F.depthTexture).__webglTexture);else if(F.depthBuffer){const ot=F.depthTexture;if(Ke.__boundDepthTexture!==ot){if(ot!==null&&qe.has(ot)&&(F.width!==ot.image.width||F.height!==ot.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Qe.setupDepthRenderbuffer(F)}}const it=F.texture;(it.isData3DTexture||it.isDataArrayTexture||it.isCompressedArrayTexture)&&(De=!0);const ut=qe.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(ut[re])?ie=ut[re][ue]:ie=ut[re],je=!0):F.samples>0&&Qe.useMultisampledRTT(F)===!1?ie=qe.get(F).__webglMultisampledFramebuffer:Array.isArray(ut)?ie=ut[ue]:ie=ut,k.copy(F.viewport),B.copy(F.scissor),H=F.scissorTest}else k.copy(q).multiplyScalar(L).floor(),B.copy(te).multiplyScalar(L).floor(),H=G;if(ue!==0&&(ie=Ne),Ee.bindFramebuffer(Q.FRAMEBUFFER,ie)&&ce&&Ee.drawBuffers(F,ie),Ee.viewport(k),Ee.scissor(B),Ee.setScissorTest(H),je){const Ke=qe.get(F.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+re,Ke.__webglTexture,ue)}else if(De){const Ke=re;for(let it=0;it<F.textures.length;it++){const ut=qe.get(F.textures[it]);Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0+it,ut.__webglTexture,ue,Ke)}}else if(F!==null&&ue!==0){const Ke=qe.get(F.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Ke.__webglTexture,ue)}R=-1},this.readRenderTargetPixels=function(F,re,ue,ce,ie,je,De,He=0){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ke=qe.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&De!==void 0&&(Ke=Ke[De]),Ke){Ee.bindFramebuffer(Q.FRAMEBUFFER,Ke);try{const it=F.textures[He],ut=it.format,ot=it.type;if(!Ce.textureFormatReadable(ut)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ce.textureTypeReadable(ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=F.width-ce&&ue>=0&&ue<=F.height-ie&&(F.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+He),Q.readPixels(re,ue,ce,ie,se.convert(ut),se.convert(ot),je))}finally{const it=I!==null?qe.get(I).__webglFramebuffer:null;Ee.bindFramebuffer(Q.FRAMEBUFFER,it)}}},this.readRenderTargetPixelsAsync=async function(F,re,ue,ce,ie,je,De,He=0){if(!(F&&F.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ke=qe.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&De!==void 0&&(Ke=Ke[De]),Ke)if(re>=0&&re<=F.width-ce&&ue>=0&&ue<=F.height-ie){Ee.bindFramebuffer(Q.FRAMEBUFFER,Ke);const it=F.textures[He],ut=it.format,ot=it.type;if(!Ce.textureFormatReadable(ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ce.textureTypeReadable(ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ct=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,ct),Q.bufferData(Q.PIXEL_PACK_BUFFER,je.byteLength,Q.STREAM_READ),F.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+He),Q.readPixels(re,ue,ce,ie,se.convert(ut),se.convert(ot),0);const xt=I!==null?qe.get(I).__webglFramebuffer:null;Ee.bindFramebuffer(Q.FRAMEBUFFER,xt);const Tt=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await Rce(Q,Tt,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,ct),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,je),Q.deleteBuffer(ct),Q.deleteSync(Tt),je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(F,re=null,ue=0){const ce=Math.pow(2,-ue),ie=Math.floor(F.image.width*ce),je=Math.floor(F.image.height*ce),De=re!==null?re.x:0,He=re!==null?re.y:0;Qe.setTexture2D(F,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,ue,0,0,De,He,ie,je),Ee.unbindTexture()};const Be=Q.createFramebuffer(),st=Q.createFramebuffer();this.copyTextureToTexture=function(F,re,ue=null,ce=null,ie=0,je=null){je===null&&(ie!==0?(Pg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),je=ie,ie=0):je=0);let De,He,Ke,it,ut,ot,ct,xt,Tt;const Nt=F.isCompressedTexture?F.mipmaps[je]:F.image;if(ue!==null)De=ue.max.x-ue.min.x,He=ue.max.y-ue.min.y,Ke=ue.isBox3?ue.max.z-ue.min.z:1,it=ue.min.x,ut=ue.min.y,ot=ue.isBox3?ue.min.z:0;else{const lr=Math.pow(2,-ie);De=Math.floor(Nt.width*lr),He=Math.floor(Nt.height*lr),F.isDataArrayTexture?Ke=Nt.depth:F.isData3DTexture?Ke=Math.floor(Nt.depth*lr):Ke=1,it=0,ut=0,ot=0}ce!==null?(ct=ce.x,xt=ce.y,Tt=ce.z):(ct=0,xt=0,Tt=0);const St=se.convert(re.format),ht=se.convert(re.type);let en;re.isData3DTexture?(Qe.setTexture3D(re,0),en=Q.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(Qe.setTexture2DArray(re,0),en=Q.TEXTURE_2D_ARRAY):(Qe.setTexture2D(re,0),en=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,re.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,re.unpackAlignment);const Bt=Q.getParameter(Q.UNPACK_ROW_LENGTH),Cn=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),an=Q.getParameter(Q.UNPACK_SKIP_PIXELS),vn=Q.getParameter(Q.UNPACK_SKIP_ROWS),hn=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Nt.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Nt.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,it),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,ut),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,ot);const kt=F.isDataArrayTexture||F.isData3DTexture,on=re.isDataArrayTexture||re.isData3DTexture;if(F.isDepthTexture){const lr=qe.get(F),Tn=qe.get(re),Vn=qe.get(lr.__renderTarget),Ml=qe.get(Tn.__renderTarget);Ee.bindFramebuffer(Q.READ_FRAMEBUFFER,Vn.__webglFramebuffer),Ee.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Ml.__webglFramebuffer);for(let ks=0;ks<Ke;ks++)kt&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,qe.get(F).__webglTexture,ie,ot+ks),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,qe.get(re).__webglTexture,je,Tt+ks)),Q.blitFramebuffer(it,ut,De,He,ct,xt,De,He,Q.DEPTH_BUFFER_BIT,Q.NEAREST);Ee.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ee.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(ie!==0||F.isRenderTargetTexture||qe.has(F)){const lr=qe.get(F),Tn=qe.get(re);Ee.bindFramebuffer(Q.READ_FRAMEBUFFER,Be),Ee.bindFramebuffer(Q.DRAW_FRAMEBUFFER,st);for(let Vn=0;Vn<Ke;Vn++)kt?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,lr.__webglTexture,ie,ot+Vn):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,lr.__webglTexture,ie),on?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Tn.__webglTexture,je,Tt+Vn):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Tn.__webglTexture,je),ie!==0?Q.blitFramebuffer(it,ut,De,He,ct,xt,De,He,Q.COLOR_BUFFER_BIT,Q.NEAREST):on?Q.copyTexSubImage3D(en,je,ct,xt,Tt+Vn,it,ut,De,He):Q.copyTexSubImage2D(en,je,ct,xt,it,ut,De,He);Ee.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ee.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else on?F.isDataTexture||F.isData3DTexture?Q.texSubImage3D(en,je,ct,xt,Tt,De,He,Ke,St,ht,Nt.data):re.isCompressedArrayTexture?Q.compressedTexSubImage3D(en,je,ct,xt,Tt,De,He,Ke,St,Nt.data):Q.texSubImage3D(en,je,ct,xt,Tt,De,He,Ke,St,ht,Nt):F.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,je,ct,xt,De,He,St,ht,Nt.data):F.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,je,ct,xt,Nt.width,Nt.height,St,Nt.data):Q.texSubImage2D(Q.TEXTURE_2D,je,ct,xt,De,He,St,ht,Nt);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Bt),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Cn),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,an),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,vn),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,hn),je===0&&re.generateMipmaps&&Q.generateMipmap(en),Ee.unbindTexture()},this.initRenderTarget=function(F){qe.get(F).__webglFramebuffer===void 0&&Qe.setupRenderTarget(F)},this.initTexture=function(F){F.isCubeTexture?Qe.setTextureCube(F,0):F.isData3DTexture?Qe.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Qe.setTexture2DArray(F,0):Qe.setTexture2D(F,0),Ee.unbindTexture()},this.resetState=function(){A=0,P=0,I=null,Ee.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return As}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=gn._getDrawingBufferColorSpace(e),n.unpackColorSpace=gn._getUnpackColorSpace()}}const zye=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KR,AddEquation:Ql,AddOperation:T6,AdditiveAnimationBlendMode:nI,AdditiveBlending:OT,AgXToneMapping:k6,AlphaFormat:ZR,AlwaysCompare:q6,AlwaysDepth:j1,AlwaysStencilFunc:LT,AmbientLight:D9,AnimationAction:W9,AnimationClip:xd,AnimationLoader:nhe,AnimationMixer:X9,AnimationObjectGroup:Ehe,AnimationUtils:Zfe,ArcCurve:u9,ArrayCamera:G9,ArrowHelper:Yhe,AttachedBindMode:BT,Audio:$9,AudioAnalyser:mhe,AudioContext:OI,AudioListener:hhe,AudioLoader:uhe,AxesHelper:Zhe,BackSide:zi,BasicDepthPacking:U6,BasicShadowMap:l6,BatchedMesh:a9,Bone:gw,BooleanKeyframeTrack:bf,Box2:Bhe,Box3:Zr,Box3Helper:Khe,BoxGeometry:xf,BoxHelper:qhe,BufferAttribute:wn,BufferGeometry:$t,BufferGeometryLoader:j9,ByteType:sw,Cache:lo,Camera:Uy,CameraHelper:Xhe,CanvasTexture:_fe,CapsuleGeometry:bw,CatmullRomCurve3:c9,CineonToneMapping:I6,CircleGeometry:_w,ClampToEdgeWrapping:vr,Clock:kI,Color:dt,ColorKeyframeTrack:MI,ColorManagement:gn,CompressedArrayTexture:xfe,CompressedCubeTexture:bfe,CompressedTexture:xw,CompressedTextureLoader:rhe,ConeGeometry:Vy,ConstantAlphaFactor:E6,ConstantColorFactor:S6,Controls:ede,CubeCamera:n9,CubeReflectionMapping:xo,CubeRefractionMapping:Au,CubeTexture:zy,CubeTextureLoader:k9,CubeUVReflectionMapping:ep,CubicBezierCurve:vI,CubicBezierCurve3:f9,CubicInterpolant:P9,CullFaceBack:IT,CullFaceFront:o6,CullFaceFrontBack:Nue,CullFaceNone:a6,Curve:$a,CurvePath:d9,CustomBlending:u6,CustomToneMapping:O6,CylinderGeometry:$y,Cylindrical:Nhe,Data3DTexture:dw,DataArrayTexture:hw,DataTexture:za,DataTextureLoader:CI,DataUtils:Oc,DecrementStencilOp:$ue,DecrementWrapStencilOp:Wue,DefaultLoadingManager:O9,DepthFormat:fd,DepthStencilFormat:hd,DepthTexture:mI,DetachedBindMode:B6,DirectionalLight:II,DirectionalLightHelper:Whe,DiscreteInterpolant:R9,DodecahedronGeometry:ww,DoubleSide:Js,DstAlphaFactor:v6,DstColorFactor:b6,DynamicCopyUsage:oce,DynamicDrawUsage:tce,DynamicReadUsage:ice,EdgesGeometry:l9,EllipseCurve:Sw,EqualCompare:$6,EqualDepth:G1,EqualStencilFunc:Jue,EquirectangularReflectionMapping:od,EquirectangularRefractionMapping:Ag,Euler:Ps,EventDispatcher:Ao,ExternalTexture:gI,ExtrudeGeometry:Aw,FileLoader:ai,Float16BufferAttribute:Yce,Float32BufferAttribute:Ct,FloatType:sr,Fog:mw,FogExp2:pw,FramebufferTexture:vfe,FrontSide:vo,Frustum:tp,FrustumArray:yw,GLBufferAttribute:Ihe,GLSL1:uce,GLSL3:FT,GreaterCompare:V6,GreaterDepth:V1,GreaterEqualCompare:X6,GreaterEqualDepth:$1,GreaterEqualStencilFunc:ece,GreaterStencilFunc:Zue,GridHelper:$he,Group:Zo,HalfFloatType:qr,HemisphereLight:B9,HemisphereLightHelper:Ghe,IcosahedronGeometry:Wy,ImageBitmapLoader:H9,ImageLoader:kg,ImageUtils:Z6,IncrementStencilOp:Gue,IncrementWrapStencilOp:Vue,InstancedBufferAttribute:rf,InstancedBufferGeometry:z9,InstancedInterleavedBuffer:Rhe,InstancedMesh:hI,Int16BufferAttribute:Kce,Int32BufferAttribute:Jce,Int8BufferAttribute:Wce,IntType:Dy,InterleavedBuffer:Hy,InterleavedBufferAttribute:Mu,Interpolant:np,InterpolateDiscrete:dd,InterpolateLinear:pd,InterpolateSmooth:e1,InterpolationSamplingMode:hce,InterpolationSamplingType:fce,InvertStencilOp:Xue,KeepStencilOp:vc,KeyframeTrack:la,LOD:s9,LatheGeometry:Ew,Layers:Vc,LessCompare:G6,LessDepth:H1,LessEqualCompare:iI,LessEqualDepth:nf,LessEqualStencilFunc:Yue,LessStencilFunc:Kue,Light:Du,LightProbe:U9,Line:dl,Line3:Fhe,LineBasicMaterial:Ti,LineCurve:xI,LineCurve3:h9,LineDashedMaterial:M9,LineLoop:dI,LineSegments:Ga,LinearFilter:Pn,LinearInterpolant:EI,LinearMipMapLinearFilter:DT,LinearMipMapNearestFilter:Lue,LinearMipmapLinearFilter:Qs,LinearMipmapNearestFilter:Gh,LinearSRGBColorSpace:_o,LinearToneMapping:P6,LinearTransfer:Mg,Loader:li,LoaderUtils:vu,LoadingManager:kw,LoopOnce:D6,LoopPingPong:L6,LoopRepeat:tI,MOUSE:gc,Material:Fr,MaterialLoader:Nw,MathUtils:K6,Matrix2:FI,Matrix3:Xt,Matrix4:Ut,MaxEquation:d6,Mesh:Yn,MeshBasicMaterial:es,MeshDepthMaterial:Ow,MeshDistanceMaterial:SI,MeshLambertMaterial:A9,MeshMatcapMaterial:E9,MeshNormalMaterial:S9,MeshPhongMaterial:_9,MeshPhysicalMaterial:oa,MeshStandardMaterial:Ky,MeshToonMaterial:w9,MinEquation:h6,MirroredRepeatWrapping:ld,MixOperation:C6,MultiplyBlending:NT,MultiplyOperation:By,NearestFilter:Jr,NearestMipMapLinearFilter:Due,NearestMipMapNearestFilter:Bue,NearestMipmapLinearFilter:Pc,NearestMipmapNearestFilter:iw,NeutralToneMapping:N6,NeverCompare:H6,NeverDepth:z1,NeverStencilFunc:que,NoBlending:ho,NoColorSpace:qo,NoToneMapping:po,NormalAnimationBlendMode:fw,NormalBlending:Gc,NotEqualCompare:W6,NotEqualDepth:W1,NotEqualStencilFunc:Que,NumberKeyframeTrack:af,Object3D:pn,ObjectLoader:ohe,ObjectSpaceNormalMap:j6,OctahedronGeometry:Xy,OneFactor:m6,OneMinusConstantAlphaFactor:M6,OneMinusConstantColorFactor:A6,OneMinusDstAlphaFactor:x6,OneMinusDstColorFactor:_6,OneMinusSrcAlphaFactor:U1,OneMinusSrcColorFactor:y6,OrthographicCamera:mo,PCFShadowMap:rw,PCFSoftShadowMap:Gm,PMREMGenerator:WT,Path:Eb,PerspectiveCamera:dr,Plane:Xo,PlaneGeometry:_l,PlaneHelper:Jhe,PointLight:RI,PointLightHelper:jhe,Points:pI,PointsMaterial:vw,PolarGridHelper:Vhe,PolyhedronGeometry:Bu,PositionalAudio:phe,PropertyBinding:mn,PropertyMixer:V9,QuadraticBezierCurve:bI,QuadraticBezierCurve3:_I,Quaternion:Yr,QuaternionKeyframeTrack:of,QuaternionLinearInterpolant:I9,RED_GREEN_RGTC2_Format:xb,RED_RGTC1_Format:yb,REVISION:Ny,RGBADepthPacking:z6,RGBAFormat:xr,RGBAIntegerFormat:cw,RGBA_ASTC_10x10_Format:fb,RGBA_ASTC_10x5_Format:lb,RGBA_ASTC_10x6_Format:ub,RGBA_ASTC_10x8_Format:cb,RGBA_ASTC_12x10_Format:hb,RGBA_ASTC_12x12_Format:db,RGBA_ASTC_4x4_Format:eb,RGBA_ASTC_5x4_Format:tb,RGBA_ASTC_5x5_Format:nb,RGBA_ASTC_6x5_Format:rb,RGBA_ASTC_6x6_Format:ib,RGBA_ASTC_8x5_Format:sb,RGBA_ASTC_8x6_Format:ab,RGBA_ASTC_8x8_Format:ob,RGBA_BPTC_Format:pb,RGBA_ETC2_EAC_Format:Q1,RGBA_PVRTC_2BPPV1_Format:J1,RGBA_PVRTC_4BPPV1_Format:K1,RGBA_S3TC_DXT1_Format:Vm,RGBA_S3TC_DXT3_Format:Wm,RGBA_S3TC_DXT5_Format:Xm,RGBDepthPacking:Uue,RGBFormat:QR,RGBIntegerFormat:Fue,RGB_BPTC_SIGNED_Format:mb,RGB_BPTC_UNSIGNED_Format:gb,RGB_ETC1_Format:Y1,RGB_ETC2_Format:Z1,RGB_PVRTC_2BPPV1_Format:q1,RGB_PVRTC_4BPPV1_Format:X1,RGB_S3TC_DXT1_Format:$m,RGDepthPacking:zue,RGFormat:eI,RGIntegerFormat:uw,RawShaderMaterial:b9,Ray:vf,Raycaster:LI,RectAreaLight:L9,RedFormat:Ly,RedIntegerFormat:Fy,ReinhardToneMapping:R6,RenderTarget:aI,RenderTarget3D:Che,RepeatWrapping:Eu,ReplaceStencilOp:Hue,ReverseSubtractEquation:f6,RingGeometry:Mw,SIGNED_RED_GREEN_RGTC2_Format:bb,SIGNED_RED_RGTC1_Format:vb,SRGBColorSpace:Bi,SRGBTransfer:kn,Scene:jy,ShaderChunk:Zt,ShaderLib:Ra,ShaderMaterial:Mi,ShadowMaterial:x9,Shape:Wc,ShapeGeometry:Cw,ShapePath:Qhe,ShapeUtils:Ba,ShortType:aw,Skeleton:Gy,SkeletonHelper:zhe,SkinnedMesh:fI,Source:su,Sphere:Qr,SphereGeometry:qy,Spherical:$T,SphericalHarmonics3:F9,SplineCurve:wI,SpotLight:PI,SpotLightHelper:Uhe,Sprite:i9,SpriteMaterial:cI,SrcAlphaFactor:F1,SrcAlphaSaturateFactor:w6,SrcColorFactor:g6,StaticCopyUsage:ace,StaticDrawUsage:Cg,StaticReadUsage:rce,StereoCamera:che,StreamCopyUsage:lce,StreamDrawUsage:nce,StreamReadUsage:sce,StringKeyframeTrack:_f,SubtractEquation:c6,SubtractiveBlending:kT,TOUCH:yc,TangentSpaceNormalMap:Nu,TetrahedronGeometry:Tw,Texture:In,TextureLoader:N9,TextureUtils:sde,Timer:Ohe,TimestampQuery:cce,TorusGeometry:Pw,TorusKnotGeometry:Rw,Triangle:Zi,TriangleFanDrawMode:_b,TriangleStripDrawMode:rI,TrianglesDrawMode:F6,TubeGeometry:Iw,UVMapping:Su,Uint16BufferAttribute:oI,Uint32BufferAttribute:lI,Uint8BufferAttribute:Xce,Uint8ClampedBufferAttribute:qce,Uniform:DI,UniformsGroup:Phe,UniformsLib:mt,UniformsUtils:t9,UnsignedByteType:ji,UnsignedInt101111Type:YR,UnsignedInt248Type:cd,UnsignedInt5999Type:JR,UnsignedIntType:bo,UnsignedShort4444Type:ow,UnsignedShort5551Type:lw,UnsignedShortType:ud,VSMShadowMap:Aa,Vector2:ze,Vector3:J,Vector4:xn,VectorKeyframeTrack:lf,VideoFrameTexture:yfe,VideoTexture:o9,WebGL3DRenderTarget:Bce,WebGLArrayRenderTarget:Nce,WebGLCoordinateSystem:As,WebGLCubeRenderTarget:uI,WebGLRenderTarget:os,WebGLRenderer:zI,WebGLUtils:e$,WebGPUCoordinateSystem:md,WebXRController:t1,WireframeGeometry:v9,WrapAroundEnding:Eg,ZeroCurvatureEnding:Rc,ZeroFactor:p6,ZeroSlopeEnding:Ic,ZeroStencilOp:jue,createCanvasElement:Y6},Symbol.toStringTag,{value:"Module"}));var t$={exports:{}},wf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */wf.ConcurrentRoot=1;wf.ContinuousEventPriority=4;wf.DefaultEventPriority=16;wf.DiscreteEventPriority=1;wf.IdleEventPriority=536870912;wf.LegacyRoot=0;t$.exports=wf;var Oh=t$.exports;function jye(t){let e;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(e):u;if(c!==e){const h=e;e=f?c:Object.assign({},e,c),n.forEach(d=>d(e,h))}},i=()=>e,s=(u,f=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=f(e);function d(){const m=f(e);if(!c(h,m)){const x=h;u(h=m,x)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(u,f,c)=>f||c?s(u,f,c):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Hye=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),vF=Hye?U.useEffect:U.useLayoutEffect;function n$(t){const e=typeof t=="function"?jye(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=U.useReducer(v=>v+1,0),a=e.getState(),o=U.useRef(a),l=U.useRef(r),u=U.useRef(i),f=U.useRef(!1),c=U.useRef();c.current===void 0&&(c.current=r(a));let h,d=!1;(o.current!==a||l.current!==r||u.current!==i||f.current)&&(h=r(a),d=!i(c.current,h)),vF(()=>{d&&(c.current=h),o.current=a,l.current=r,u.current=i,f.current=!1});const m=U.useRef(a);vF(()=>{const v=()=>{try{const _=e.getState(),b=l.current(_);u.current(c.current,b)||(o.current=_,c.current=b,s())}catch{f.current=!0,s()}},y=e.subscribe(v);return e.getState()!==m.current&&v(),y},[]);const x=d?h:c.current;return U.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Gye=t=>typeof t=="object"&&typeof t.then=="function",Nc=[];function r$(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function i$(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Nc)if(r$(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Nc.indexOf(i);s!==-1&&Nc.splice(s,1)},promise:(Gye(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Nc.push(i),!n)throw i.promise}const $ye=(t,e,n)=>i$(t,e,!1,n),Vye=(t,e,n)=>void i$(t,e,!0,n),Wye=t=>{if(t===void 0||t.length===0)Nc.splice(0,Nc.length);else{const e=Nc.find(n=>r$(t,n.keys,n.equal));e&&e.remove()}};var s$={exports:{}},mM={exports:{}},gM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF;function Xye(){return xF||(xF=1,function(t){function e(L,W){var N=L.length;L.push(W);e:for(;0<N;){var q=N-1>>>1,te=L[q];if(0<i(te,W))L[q]=W,L[N]=te,N=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],N=L.pop();if(N!==W){L[0]=N;e:for(var q=0,te=L.length,G=te>>>1;q<G;){var Ie=2*(q+1)-1,Oe=L[Ie],ae=Ie+1,_e=L[ae];if(0>i(Oe,N))ae<te&&0>i(_e,Oe)?(L[q]=_e,L[ae]=N,q=ae):(L[q]=Oe,L[Ie]=N,q=Ie);else if(ae<te&&0>i(_e,N))L[q]=_e,L[ae]=N,q=ae;else break e}}return W}function i(L,W){var N=L.sortIndex-W.sortIndex;return N!==0?N:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,c=null,h=3,d=!1,m=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function w(L){if(x=!1,b(L),!m)if(n(l)!==null)m=!0,X(E);else{var W=n(u);W!==null&&Z(w,W.startTime-L)}}function E(L,W){m=!1,x&&(x=!1,y(I),I=-1),d=!0;var N=h;try{for(b(W),c=n(l);c!==null&&(!(c.expirationTime>W)||L&&!k());){var q=c.callback;if(typeof q=="function"){c.callback=null,h=c.priorityLevel;var te=q(c.expirationTime<=W);W=t.unstable_now(),typeof te=="function"?c.callback=te:c===n(l)&&r(l),b(W)}else r(l);c=n(l)}if(c!==null)var G=!0;else{var Ie=n(u);Ie!==null&&Z(w,Ie.startTime-W),G=!1}return G}finally{c=null,h=N,d=!1}}var A=!1,P=null,I=-1,R=5,M=-1;function k(){return!(t.unstable_now()-M<R)}function B(){if(P!==null){var L=t.unstable_now();M=L;var W=!0;try{W=P(!0,L)}finally{W?H():(A=!1,P=null)}}else A=!1}var H;if(typeof _=="function")H=function(){_(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=B,H=function(){V.postMessage(null)}}else H=function(){v(B,0)};function X(L){P=L,A||(A=!0,H())}function Z(L,W){I=v(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,X(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var N=h;h=W;try{return L()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var N=h;h=L;try{return W()}finally{h=N}},t.unstable_scheduleCallback=function(L,W,N){var q=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?q+N:q):N=q,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=N+te,L={id:f++,callback:W,priorityLevel:L,startTime:N,expirationTime:te,sortIndex:-1},N>q?(L.sortIndex=N,e(u,L),n(l)===null&&L===n(u)&&(x?(y(I),I=-1):x=!0,Z(w,N-q))):(L.sortIndex=te,e(l,L),m||d||(m=!0,X(E))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var W=h;return function(){var N=h;h=W;try{return L.apply(this,arguments)}finally{h=N}}}}(gM)),gM}var bF;function qye(){return bF||(bF=1,mM.exports=Xye()),mM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kye=function(e){var n={},r=U,i=qye(),s=Object.assign;function a(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),E=Symbol.iterator;function A(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}function P(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case f:return"Fragment";case u:return"Portal";case h:return"Profiler";case c:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case m:return(p.displayName||"Context")+".Consumer";case d:return(p._context.displayName||"Context")+".Provider";case x:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return g=p.displayName||null,g!==null?g:P(p.type)||"Memo";case b:g=p._payload,p=p._init;try{return P(p(g))}catch{}}return null}function I(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(g);case 8:return g===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function R(p){var g=p,S=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(S=g.return),p=g.return;while(p)}return g.tag===3?S:null}function M(p){if(R(p)!==p)throw Error(a(188))}function k(p){var g=p.alternate;if(!g){if(g=R(p),g===null)throw Error(a(188));return g!==p?null:p}for(var S=p,T=g;;){var O=S.return;if(O===null)break;var D=O.alternate;if(D===null){if(T=O.return,T!==null){S=T;continue}break}if(O.child===D.child){for(D=O.child;D;){if(D===S)return M(O),p;if(D===T)return M(O),g;D=D.sibling}throw Error(a(188))}if(S.return!==T.return)S=O,T=D;else{for(var ee=!1,me=O.child;me;){if(me===S){ee=!0,S=O,T=D;break}if(me===T){ee=!0,T=O,S=D;break}me=me.sibling}if(!ee){for(me=D.child;me;){if(me===S){ee=!0,S=D,T=O;break}if(me===T){ee=!0,T=D,S=O;break}me=me.sibling}if(!ee)throw Error(a(189))}}if(S.alternate!==T)throw Error(a(190))}if(S.tag!==3)throw Error(a(188));return S.stateNode.current===S?p:g}function B(p){return p=k(p),p!==null?H(p):null}function H(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=H(p);if(g!==null)return g;p=p.sibling}return null}function j(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=j(p);if(g!==null)return g}p=p.sibling}return null}var V=Array.isArray,X=e.getPublicInstance,Z=e.getRootHostContext,L=e.getChildHostContext,W=e.prepareForCommit,N=e.resetAfterCommit,q=e.createInstance,te=e.appendInitialChild,G=e.finalizeInitialChildren,Ie=e.prepareUpdate,Oe=e.shouldSetTextContent,ae=e.createTextInstance,_e=e.scheduleTimeout,Ge=e.cancelTimeout,we=e.noTimeout,Le=e.isPrimaryRenderer,Je=e.supportsMutation,Pe=e.supportsPersistence,Q=e.supportsHydration,Me=e.getInstanceFromNode,Re=e.preparePortalMount,Ce=e.getCurrentEventPriority,Ee=e.detachDeletedInstance,Ye=e.supportsMicrotasks,qe=e.scheduleMicrotask,Qe=e.supportsTestSelectors,wt=e.findFiberRoot,bt=e.getBoundingRect,Y=e.getTextContent,$=e.isHiddenSubtree,ye=e.matchAccessibilityRole,ne=e.setFocusIfFocusable,de=e.setupIntersectionObserver,ge=e.appendChild,oe=e.appendChildToContainer,pe=e.commitTextUpdate,$e=e.commitMount,nt=e.commitUpdate,We=e.insertBefore,Ze=e.insertInContainerBefore,_t=e.removeChild,se=e.removeChildFromContainer,be=e.resetTextContent,Ve=e.hideInstance,le=e.hideTextInstance,xe=e.unhideInstance,et=e.unhideTextInstance,pt=e.clearContainer,tt=e.cloneInstance,Xe=e.createContainerChildSet,gt=e.appendChildToContainerChildSet,Rt=e.finalizeContainerChildren,sn=e.replaceContainerChildren,Jt=e.cloneHiddenInstance,wr=e.cloneHiddenTextInstance,Rr=e.canHydrateInstance,Cf=e.canHydrateTextInstance,fa=e.canHydrateSuspenseInstance,ha=e.isSuspenseInstancePending,El=e.isSuspenseInstanceFallback,Wa=e.registerSuspenseInstanceRetry,ui=e.getNextHydratableSibling,Qt=e.getFirstHydratableChild,Mo=e.getFirstHydratableChildWithinContainer,Tf=e.getFirstHydratableChildWithinSuspenseInstance,z=e.hydrateInstance,K=e.hydrateTextInstance,fe=e.hydrateSuspenseInstance,Ae=e.getNextHydratableInstanceAfterSuspenseInstance,Ne=e.commitHydratedContainer,Be=e.commitHydratedSuspenseInstance,st=e.clearSuspenseBoundary,F=e.clearSuspenseBoundaryFromContainer,re=e.shouldDeleteUnhydratedTailInstances,ue=e.didNotMatchHydratedContainerTextInstance,ce=e.didNotMatchHydratedTextInstance,ie;function je(p){if(ie===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);ie=g&&g[1]||""}return`
`+ie+p}var De=!1;function He(p,g){if(!p||De)return"";De=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(lt){var T=lt}Reflect.construct(p,[],g)}else{try{g.call()}catch(lt){T=lt}p.call(g.prototype)}else{try{throw Error()}catch(lt){T=lt}p()}}catch(lt){if(lt&&T&&typeof lt.stack=="string"){for(var O=lt.stack.split(`
`),D=T.stack.split(`
`),ee=O.length-1,me=D.length-1;1<=ee&&0<=me&&O[ee]!==D[me];)me--;for(;1<=ee&&0<=me;ee--,me--)if(O[ee]!==D[me]){if(ee!==1||me!==1)do if(ee--,me--,0>me||O[ee]!==D[me]){var Fe=`
`+O[ee].replace(" at new "," at ");return p.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",p.displayName)),Fe}while(1<=ee&&0<=me);break}}}finally{De=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?je(p):""}var Ke=Object.prototype.hasOwnProperty,it=[],ut=-1;function ot(p){return{current:p}}function ct(p){0>ut||(p.current=it[ut],it[ut]=null,ut--)}function xt(p,g){ut++,it[ut]=p.current,p.current=g}var Tt={},Nt=ot(Tt),St=ot(!1),ht=Tt;function en(p,g){var S=p.type.contextTypes;if(!S)return Tt;var T=p.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===g)return T.__reactInternalMemoizedMaskedChildContext;var O={},D;for(D in S)O[D]=g[D];return T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=O),O}function Bt(p){return p=p.childContextTypes,p!=null}function Cn(){ct(St),ct(Nt)}function an(p,g,S){if(Nt.current!==Tt)throw Error(a(168));xt(Nt,g),xt(St,S)}function vn(p,g,S){var T=p.stateNode;if(g=g.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var O in T)if(!(O in g))throw Error(a(108,I(p)||"Unknown",O));return s({},S,T)}function hn(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Tt,ht=Nt.current,xt(Nt,p),xt(St,St.current),!0}function kt(p,g,S){var T=p.stateNode;if(!T)throw Error(a(169));S?(p=vn(p,g,ht),T.__reactInternalMemoizedMergedChildContext=p,ct(St),ct(Nt),xt(Nt,p)):ct(St),xt(St,S)}var on=Math.clz32?Math.clz32:Vn,lr=Math.log,Tn=Math.LN2;function Vn(p){return p>>>=0,p===0?32:31-(lr(p)/Tn|0)|0}var Ml=64,ks=4194304;function yp(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function cv(p,g){var S=p.pendingLanes;if(S===0)return 0;var T=0,O=p.suspendedLanes,D=p.pingedLanes,ee=S&268435455;if(ee!==0){var me=ee&~O;me!==0?T=yp(me):(D&=ee,D!==0&&(T=yp(D)))}else ee=S&~O,ee!==0?T=yp(ee):D!==0&&(T=yp(D));if(T===0)return 0;if(g!==0&&g!==T&&!(g&O)&&(O=T&-T,D=g&-g,O>=D||O===16&&(D&4194240)!==0))return g;if(T&4&&(T|=S&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=T;0<g;)S=31-on(g),O=1<<S,T|=p[S],g&=~O;return T}function gX(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yX(p,g){for(var S=p.suspendedLanes,T=p.pingedLanes,O=p.expirationTimes,D=p.pendingLanes;0<D;){var ee=31-on(D),me=1<<ee,Fe=O[ee];Fe===-1?(!(me&S)||me&T)&&(O[ee]=gX(me,g)):Fe<=g&&(p.expiredLanes|=me),D&=~me}}function ES(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function MS(p){for(var g=[],S=0;31>S;S++)g.push(p);return g}function vp(p,g,S){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-on(g),p[g]=S}function vX(p,g){var S=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var T=p.eventTimes;for(p=p.expirationTimes;0<S;){var O=31-on(S),D=1<<O;g[O]=0,T[O]=-1,p[O]=-1,S&=~D}}function CS(p,g){var S=p.entangledLanes|=g;for(p=p.entanglements;S;){var T=31-on(S),O=1<<T;O&g|p[T]&g&&(p[T]|=g),S&=~O}}var Sn=0;function ok(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var TS=i.unstable_scheduleCallback,lk=i.unstable_cancelCallback,xX=i.unstable_shouldYield,bX=i.unstable_requestPaint,Hr=i.unstable_now,PS=i.unstable_ImmediatePriority,_X=i.unstable_UserBlockingPriority,RS=i.unstable_NormalPriority,wX=i.unstable_IdlePriority,fv=null,Xa=null;function SX(p){if(Xa&&typeof Xa.onCommitFiberRoot=="function")try{Xa.onCommitFiberRoot(fv,p,void 0,(p.current.flags&128)===128)}catch{}}function AX(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var qa=typeof Object.is=="function"?Object.is:AX,Co=null,hv=!1,IS=!1;function uk(p){Co===null?Co=[p]:Co.push(p)}function EX(p){hv=!0,uk(p)}function Ka(){if(!IS&&Co!==null){IS=!0;var p=0,g=Sn;try{var S=Co;for(Sn=1;p<S.length;p++){var T=S[p];do T=T(!0);while(T!==null)}Co=null,hv=!1}catch(O){throw Co!==null&&(Co=Co.slice(p+1)),TS(PS,Ka),O}finally{Sn=g,IS=!1}}return null}var MX=o.ReactCurrentBatchConfig;function dv(p,g){if(qa(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var S=Object.keys(p),T=Object.keys(g);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var O=S[T];if(!Ke.call(g,O)||!qa(p[O],g[O]))return!1}return!0}function CX(p){switch(p.tag){case 5:return je(p.type);case 16:return je("Lazy");case 13:return je("Suspense");case 19:return je("SuspenseList");case 0:case 2:case 15:return p=He(p.type,!1),p;case 11:return p=He(p.type.render,!1),p;case 1:return p=He(p.type,!0),p;default:return""}}function da(p,g){if(p&&p.defaultProps){g=s({},g),p=p.defaultProps;for(var S in p)g[S]===void 0&&(g[S]=p[S]);return g}return g}var pv=ot(null),mv=null,Pf=null,OS=null;function kS(){OS=Pf=mv=null}function ck(p,g,S){Le?(xt(pv,g._currentValue),g._currentValue=S):(xt(pv,g._currentValue2),g._currentValue2=S)}function NS(p){var g=pv.current;ct(pv),Le?p._currentValue=g:p._currentValue2=g}function BS(p,g,S){for(;p!==null;){var T=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,T!==null&&(T.childLanes|=g)):T!==null&&(T.childLanes&g)!==g&&(T.childLanes|=g),p===S)break;p=p.return}}function Rf(p,g){mv=p,OS=Pf=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&g&&(hs=!0),p.firstContext=null)}function Ns(p){var g=Le?p._currentValue:p._currentValue2;if(OS!==p)if(p={context:p,memoizedValue:g,next:null},Pf===null){if(mv===null)throw Error(a(308));Pf=p,mv.dependencies={lanes:0,firstContext:p}}else Pf=Pf.next=p;return g}var Ja=null,Cl=!1;function DS(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fk(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function To(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function Tl(p,g){var S=p.updateQueue;S!==null&&(S=S.shared,Sr!==null&&p.mode&1&&!(nn&2)?(p=S.interleaved,p===null?(g.next=g,Ja===null?Ja=[S]:Ja.push(S)):(g.next=p.next,p.next=g),S.interleaved=g):(p=S.pending,p===null?g.next=g:(g.next=p.next,p.next=g),S.pending=g))}function gv(p,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var T=g.lanes;T&=p.pendingLanes,S|=T,g.lanes=S,CS(p,S)}}function hk(p,g){var S=p.updateQueue,T=p.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var O=null,D=null;if(S=S.firstBaseUpdate,S!==null){do{var ee={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};D===null?O=D=ee:D=D.next=ee,S=S.next}while(S!==null);D===null?O=D=g:D=D.next=g}else O=D=g;S={baseState:T.baseState,firstBaseUpdate:O,lastBaseUpdate:D,shared:T.shared,effects:T.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=g:p.next=g,S.lastBaseUpdate=g}function yv(p,g,S,T){var O=p.updateQueue;Cl=!1;var D=O.firstBaseUpdate,ee=O.lastBaseUpdate,me=O.shared.pending;if(me!==null){O.shared.pending=null;var Fe=me,lt=Fe.next;Fe.next=null,ee===null?D=lt:ee.next=lt,ee=Fe;var Mt=p.alternate;Mt!==null&&(Mt=Mt.updateQueue,me=Mt.lastBaseUpdate,me!==ee&&(me===null?Mt.firstBaseUpdate=lt:me.next=lt,Mt.lastBaseUpdate=Fe))}if(D!==null){var Vt=O.baseState;ee=0,Mt=lt=Fe=null,me=D;do{var Dt=me.lane,Fn=me.eventTime;if((T&Dt)===Dt){Mt!==null&&(Mt=Mt.next={eventTime:Fn,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var It=p,di=me;switch(Dt=g,Fn=S,di.tag){case 1:if(It=di.payload,typeof It=="function"){Vt=It.call(Fn,Vt,Dt);break e}Vt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=di.payload,Dt=typeof It=="function"?It.call(Fn,Vt,Dt):It,Dt==null)break e;Vt=s({},Vt,Dt);break e;case 2:Cl=!0}}me.callback!==null&&me.lane!==0&&(p.flags|=64,Dt=O.effects,Dt===null?O.effects=[me]:Dt.push(me))}else Fn={eventTime:Fn,lane:Dt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Mt===null?(lt=Mt=Fn,Fe=Vt):Mt=Mt.next=Fn,ee|=Dt;if(me=me.next,me===null){if(me=O.shared.pending,me===null)break;Dt=me,me=Dt.next,Dt.next=null,O.lastBaseUpdate=Dt,O.shared.pending=null}}while(!0);if(Mt===null&&(Fe=Vt),O.baseState=Fe,O.firstBaseUpdate=lt,O.lastBaseUpdate=Mt,g=O.shared.interleaved,g!==null){O=g;do ee|=O.lane,O=O.next;while(O!==g)}else D===null&&(O.shared.lanes=0);Uf|=ee,p.lanes=ee,p.memoizedState=Vt}}function dk(p,g,S){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var T=p[g],O=T.callback;if(O!==null){if(T.callback=null,T=S,typeof O!="function")throw Error(a(191,O));O.call(T)}}}var pk=new r.Component().refs;function LS(p,g,S,T){g=p.memoizedState,S=S(T,g),S=S==null?g:s({},g,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var vv={isMounted:function(p){return(p=p._reactInternals)?R(p)===p:!1},enqueueSetState:function(p,g,S){p=p._reactInternals;var T=Ri(),O=Il(p),D=To(T,O);D.payload=g,S!=null&&(D.callback=S),Tl(p,D),g=Us(p,O,T),g!==null&&gv(g,p,O)},enqueueReplaceState:function(p,g,S){p=p._reactInternals;var T=Ri(),O=Il(p),D=To(T,O);D.tag=1,D.payload=g,S!=null&&(D.callback=S),Tl(p,D),g=Us(p,O,T),g!==null&&gv(g,p,O)},enqueueForceUpdate:function(p,g){p=p._reactInternals;var S=Ri(),T=Il(p),O=To(S,T);O.tag=2,g!=null&&(O.callback=g),Tl(p,O),g=Us(p,T,S),g!==null&&gv(g,p,T)}};function mk(p,g,S,T,O,D,ee){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(T,D,ee):g.prototype&&g.prototype.isPureReactComponent?!dv(S,T)||!dv(O,D):!0}function gk(p,g,S){var T=!1,O=Tt,D=g.contextType;return typeof D=="object"&&D!==null?D=Ns(D):(O=Bt(g)?ht:Nt.current,T=g.contextTypes,D=(T=T!=null)?en(p,O):Tt),g=new g(S,D),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vv,p.stateNode=g,g._reactInternals=p,T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=O,p.__reactInternalMemoizedMaskedChildContext=D),g}function yk(p,g,S,T){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,T),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,T),g.state!==p&&vv.enqueueReplaceState(g,g.state,null)}function FS(p,g,S,T){var O=p.stateNode;O.props=S,O.state=p.memoizedState,O.refs=pk,DS(p);var D=g.contextType;typeof D=="object"&&D!==null?O.context=Ns(D):(D=Bt(g)?ht:Nt.current,O.context=en(p,D)),O.state=p.memoizedState,D=g.getDerivedStateFromProps,typeof D=="function"&&(LS(p,g,D,S),O.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(g=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),g!==O.state&&vv.enqueueReplaceState(O,O.state,null),yv(p,S,O,T),O.state=p.memoizedState),typeof O.componentDidMount=="function"&&(p.flags|=4194308)}var If=[],Of=0,xv=null,bv=0,Bs=[],Ds=0,Hu=null,Po=1,Ro="";function Gu(p,g){If[Of++]=bv,If[Of++]=xv,xv=p,bv=g}function vk(p,g,S){Bs[Ds++]=Po,Bs[Ds++]=Ro,Bs[Ds++]=Hu,Hu=p;var T=Po;p=Ro;var O=32-on(T)-1;T&=~(1<<O),S+=1;var D=32-on(g)+O;if(30<D){var ee=O-O%5;D=(T&(1<<ee)-1).toString(32),T>>=ee,O-=ee,Po=1<<32-on(g)+O|S<<O|T,Ro=D+p}else Po=1<<D|S<<O|T,Ro=p}function US(p){p.return!==null&&(Gu(p,1),vk(p,1,0))}function zS(p){for(;p===xv;)xv=If[--Of],If[Of]=null,bv=If[--Of],If[Of]=null;for(;p===Hu;)Hu=Bs[--Ds],Bs[Ds]=null,Ro=Bs[--Ds],Bs[Ds]=null,Po=Bs[--Ds],Bs[Ds]=null}var cs=null,fs=null,Zn=!1,xp=!1,pa=null;function xk(p,g){var S=zs(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=p,g=p.deletions,g===null?(p.deletions=[S],p.flags|=16):g.push(S)}function bk(p,g){switch(p.tag){case 5:return g=Rr(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,cs=p,fs=Qt(g),!0):!1;case 6:return g=Cf(g,p.pendingProps),g!==null?(p.stateNode=g,cs=p,fs=null,!0):!1;case 13:if(g=fa(g),g!==null){var S=Hu!==null?{id:Po,overflow:Ro}:null;return p.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=zs(18,null,null,0),S.stateNode=g,S.return=p,p.child=S,cs=p,fs=null,!0}return!1;default:return!1}}function jS(p){return(p.mode&1)!==0&&(p.flags&128)===0}function HS(p){if(Zn){var g=fs;if(g){var S=g;if(!bk(p,g)){if(jS(p))throw Error(a(418));g=ui(S);var T=cs;g&&bk(p,g)?xk(T,S):(p.flags=p.flags&-4097|2,Zn=!1,cs=p)}}else{if(jS(p))throw Error(a(418));p.flags=p.flags&-4097|2,Zn=!1,cs=p}}}function _k(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;cs=p}function bp(p){if(!Q||p!==cs)return!1;if(!Zn)return _k(p),Zn=!0,!1;if(p.tag!==3&&(p.tag!==5||re(p.type)&&!Oe(p.type,p.memoizedProps))){var g=fs;if(g){if(jS(p)){for(p=fs;p;)p=ui(p);throw Error(a(418))}for(;g;)xk(p,g),g=ui(g)}}if(_k(p),p.tag===13){if(!Q)throw Error(a(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));fs=Ae(p)}else fs=cs?ui(p.stateNode):null;return!0}function kf(){Q&&(fs=cs=null,xp=Zn=!1)}function GS(p){pa===null?pa=[p]:pa.push(p)}function _p(p,g,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(a(309));var T=S.stateNode}if(!T)throw Error(a(147,p));var O=T,D=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===D?g.ref:(g=function(ee){var me=O.refs;me===pk&&(me=O.refs={}),ee===null?delete me[D]:me[D]=ee},g._stringRef=D,g)}if(typeof p!="string")throw Error(a(284));if(!S._owner)throw Error(a(290,p))}return p}function _v(p,g){throw p=Object.prototype.toString.call(g),Error(a(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function wk(p){var g=p._init;return g(p._payload)}function Sk(p){function g(Se,ve){if(p){var ke=Se.deletions;ke===null?(Se.deletions=[ve],Se.flags|=16):ke.push(ve)}}function S(Se,ve){if(!p)return null;for(;ve!==null;)g(Se,ve),ve=ve.sibling;return null}function T(Se,ve){for(Se=new Map;ve!==null;)ve.key!==null?Se.set(ve.key,ve):Se.set(ve.index,ve),ve=ve.sibling;return Se}function O(Se,ve){return Se=kl(Se,ve),Se.index=0,Se.sibling=null,Se}function D(Se,ve,ke){return Se.index=ke,p?(ke=Se.alternate,ke!==null?(ke=ke.index,ke<ve?(Se.flags|=2,ve):ke):(Se.flags|=2,ve)):(Se.flags|=1048576,ve)}function ee(Se){return p&&Se.alternate===null&&(Se.flags|=2),Se}function me(Se,ve,ke,vt){return ve===null||ve.tag!==6?(ve=MA(ke,Se.mode,vt),ve.return=Se,ve):(ve=O(ve,ke),ve.return=Se,ve)}function Fe(Se,ve,ke,vt){var Pt=ke.type;return Pt===f?Mt(Se,ve,ke.props.children,vt,ke.key):ve!==null&&(ve.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===b&&wk(Pt)===ve.type)?(vt=O(ve,ke.props),vt.ref=_p(Se,ve,ke),vt.return=Se,vt):(vt=Zv(ke.type,ke.key,ke.props,null,Se.mode,vt),vt.ref=_p(Se,ve,ke),vt.return=Se,vt)}function lt(Se,ve,ke,vt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==ke.containerInfo||ve.stateNode.implementation!==ke.implementation?(ve=CA(ke,Se.mode,vt),ve.return=Se,ve):(ve=O(ve,ke.children||[]),ve.return=Se,ve)}function Mt(Se,ve,ke,vt,Pt){return ve===null||ve.tag!==7?(ve=Ju(ke,Se.mode,vt,Pt),ve.return=Se,ve):(ve=O(ve,ke),ve.return=Se,ve)}function Vt(Se,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=MA(""+ve,Se.mode,ke),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case l:return ke=Zv(ve.type,ve.key,ve.props,null,Se.mode,ke),ke.ref=_p(Se,null,ve),ke.return=Se,ke;case u:return ve=CA(ve,Se.mode,ke),ve.return=Se,ve;case b:var vt=ve._init;return Vt(Se,vt(ve._payload),ke)}if(V(ve)||A(ve))return ve=Ju(ve,Se.mode,ke,null),ve.return=Se,ve;_v(Se,ve)}return null}function Dt(Se,ve,ke,vt){var Pt=ve!==null?ve.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return Pt!==null?null:me(Se,ve,""+ke,vt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ke.key===Pt?Fe(Se,ve,ke,vt):null;case u:return ke.key===Pt?lt(Se,ve,ke,vt):null;case b:return Pt=ke._init,Dt(Se,ve,Pt(ke._payload),vt)}if(V(ke)||A(ke))return Pt!==null?null:Mt(Se,ve,ke,vt,null);_v(Se,ke)}return null}function Fn(Se,ve,ke,vt,Pt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Se=Se.get(ke)||null,me(ve,Se,""+vt,Pt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case l:return Se=Se.get(vt.key===null?ke:vt.key)||null,Fe(ve,Se,vt,Pt);case u:return Se=Se.get(vt.key===null?ke:vt.key)||null,lt(ve,Se,vt,Pt);case b:var tn=vt._init;return Fn(Se,ve,ke,tn(vt._payload),Pt)}if(V(vt)||A(vt))return Se=Se.get(ke)||null,Mt(ve,Se,vt,Pt,null);_v(ve,vt)}return null}function It(Se,ve,ke,vt){for(var Pt=null,tn=null,Wt=ve,An=ve=0,$r=null;Wt!==null&&An<ke.length;An++){Wt.index>An?($r=Wt,Wt=null):$r=Wt.sibling;var En=Dt(Se,Wt,ke[An],vt);if(En===null){Wt===null&&(Wt=$r);break}p&&Wt&&En.alternate===null&&g(Se,Wt),ve=D(En,ve,An),tn===null?Pt=En:tn.sibling=En,tn=En,Wt=$r}if(An===ke.length)return S(Se,Wt),Zn&&Gu(Se,An),Pt;if(Wt===null){for(;An<ke.length;An++)Wt=Vt(Se,ke[An],vt),Wt!==null&&(ve=D(Wt,ve,An),tn===null?Pt=Wt:tn.sibling=Wt,tn=Wt);return Zn&&Gu(Se,An),Pt}for(Wt=T(Se,Wt);An<ke.length;An++)$r=Fn(Wt,Se,An,ke[An],vt),$r!==null&&(p&&$r.alternate!==null&&Wt.delete($r.key===null?An:$r.key),ve=D($r,ve,An),tn===null?Pt=$r:tn.sibling=$r,tn=$r);return p&&Wt.forEach(function(Nl){return g(Se,Nl)}),Zn&&Gu(Se,An),Pt}function di(Se,ve,ke,vt){var Pt=A(ke);if(typeof Pt!="function")throw Error(a(150));if(ke=Pt.call(ke),ke==null)throw Error(a(151));for(var tn=Pt=null,Wt=ve,An=ve=0,$r=null,En=ke.next();Wt!==null&&!En.done;An++,En=ke.next()){Wt.index>An?($r=Wt,Wt=null):$r=Wt.sibling;var Nl=Dt(Se,Wt,En.value,vt);if(Nl===null){Wt===null&&(Wt=$r);break}p&&Wt&&Nl.alternate===null&&g(Se,Wt),ve=D(Nl,ve,An),tn===null?Pt=Nl:tn.sibling=Nl,tn=Nl,Wt=$r}if(En.done)return S(Se,Wt),Zn&&Gu(Se,An),Pt;if(Wt===null){for(;!En.done;An++,En=ke.next())En=Vt(Se,En.value,vt),En!==null&&(ve=D(En,ve,An),tn===null?Pt=En:tn.sibling=En,tn=En);return Zn&&Gu(Se,An),Pt}for(Wt=T(Se,Wt);!En.done;An++,En=ke.next())En=Fn(Wt,Se,An,En.value,vt),En!==null&&(p&&En.alternate!==null&&Wt.delete(En.key===null?An:En.key),ve=D(En,ve,An),tn===null?Pt=En:tn.sibling=En,tn=En);return p&&Wt.forEach(function(rq){return g(Se,rq)}),Zn&&Gu(Se,An),Pt}function js(Se,ve,ke,vt){if(typeof ke=="object"&&ke!==null&&ke.type===f&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:e:{for(var Pt=ke.key,tn=ve;tn!==null;){if(tn.key===Pt){if(Pt=ke.type,Pt===f){if(tn.tag===7){S(Se,tn.sibling),ve=O(tn,ke.props.children),ve.return=Se,Se=ve;break e}}else if(tn.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===b&&wk(Pt)===tn.type){S(Se,tn.sibling),ve=O(tn,ke.props),ve.ref=_p(Se,tn,ke),ve.return=Se,Se=ve;break e}S(Se,tn);break}else g(Se,tn);tn=tn.sibling}ke.type===f?(ve=Ju(ke.props.children,Se.mode,vt,ke.key),ve.return=Se,Se=ve):(vt=Zv(ke.type,ke.key,ke.props,null,Se.mode,vt),vt.ref=_p(Se,ve,ke),vt.return=Se,Se=vt)}return ee(Se);case u:e:{for(tn=ke.key;ve!==null;){if(ve.key===tn)if(ve.tag===4&&ve.stateNode.containerInfo===ke.containerInfo&&ve.stateNode.implementation===ke.implementation){S(Se,ve.sibling),ve=O(ve,ke.children||[]),ve.return=Se,Se=ve;break e}else{S(Se,ve);break}else g(Se,ve);ve=ve.sibling}ve=CA(ke,Se.mode,vt),ve.return=Se,Se=ve}return ee(Se);case b:return tn=ke._init,js(Se,ve,tn(ke._payload),vt)}if(V(ke))return It(Se,ve,ke,vt);if(A(ke))return di(Se,ve,ke,vt);_v(Se,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,ve!==null&&ve.tag===6?(S(Se,ve.sibling),ve=O(ve,ke),ve.return=Se,Se=ve):(S(Se,ve),ve=MA(ke,Se.mode,vt),ve.return=Se,Se=ve),ee(Se)):S(Se,ve)}return js}var Nf=Sk(!0),Ak=Sk(!1),wp={},Ls=ot(wp),Sp=ot(wp),Bf=ot(wp);function Ya(p){if(p===wp)throw Error(a(174));return p}function $S(p,g){xt(Bf,g),xt(Sp,p),xt(Ls,wp),p=Z(g),ct(Ls),xt(Ls,p)}function Df(){ct(Ls),ct(Sp),ct(Bf)}function Ek(p){var g=Ya(Bf.current),S=Ya(Ls.current);g=L(S,p.type,g),S!==g&&(xt(Sp,p),xt(Ls,g))}function VS(p){Sp.current===p&&(ct(Ls),ct(Sp))}var nr=ot(0);function wv(p){for(var g=p;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||ha(S)||El(S)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var WS=[];function XS(){for(var p=0;p<WS.length;p++){var g=WS[p];Le?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}WS.length=0}var Sv=o.ReactCurrentDispatcher,Fs=o.ReactCurrentBatchConfig,Lf=0,ur=null,ci=null,Gr=null,Av=!1,Ap=!1,Ep=0,TX=0;function fi(){throw Error(a(321))}function qS(p,g){if(g===null)return!1;for(var S=0;S<g.length&&S<p.length;S++)if(!qa(p[S],g[S]))return!1;return!0}function KS(p,g,S,T,O,D){if(Lf=D,ur=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Sv.current=p===null||p.memoizedState===null?OX:kX,p=S(T,O),Ap){D=0;do{if(Ap=!1,Ep=0,25<=D)throw Error(a(301));D+=1,Gr=ci=null,g.updateQueue=null,Sv.current=NX,p=S(T,O)}while(Ap)}if(Sv.current=Pv,g=ci!==null&&ci.next!==null,Lf=0,Gr=ci=ur=null,Av=!1,g)throw Error(a(300));return p}function JS(){var p=Ep!==0;return Ep=0,p}function Io(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?ur.memoizedState=Gr=p:Gr=Gr.next=p,Gr}function Za(){if(ci===null){var p=ur.alternate;p=p!==null?p.memoizedState:null}else p=ci.next;var g=Gr===null?ur.memoizedState:Gr.next;if(g!==null)Gr=g,ci=p;else{if(p===null)throw Error(a(310));ci=p,p={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},Gr===null?ur.memoizedState=Gr=p:Gr=Gr.next=p}return Gr}function $u(p,g){return typeof g=="function"?g(p):g}function Ev(p){var g=Za(),S=g.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=p;var T=ci,O=T.baseQueue,D=S.pending;if(D!==null){if(O!==null){var ee=O.next;O.next=D.next,D.next=ee}T.baseQueue=O=D,S.pending=null}if(O!==null){D=O.next,T=T.baseState;var me=ee=null,Fe=null,lt=D;do{var Mt=lt.lane;if((Lf&Mt)===Mt)Fe!==null&&(Fe=Fe.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),T=lt.hasEagerState?lt.eagerState:p(T,lt.action);else{var Vt={lane:Mt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};Fe===null?(me=Fe=Vt,ee=T):Fe=Fe.next=Vt,ur.lanes|=Mt,Uf|=Mt}lt=lt.next}while(lt!==null&&lt!==D);Fe===null?ee=T:Fe.next=me,qa(T,g.memoizedState)||(hs=!0),g.memoizedState=T,g.baseState=ee,g.baseQueue=Fe,S.lastRenderedState=T}if(p=S.interleaved,p!==null){O=p;do D=O.lane,ur.lanes|=D,Uf|=D,O=O.next;while(O!==p)}else O===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function Mv(p){var g=Za(),S=g.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=p;var T=S.dispatch,O=S.pending,D=g.memoizedState;if(O!==null){S.pending=null;var ee=O=O.next;do D=p(D,ee.action),ee=ee.next;while(ee!==O);qa(D,g.memoizedState)||(hs=!0),g.memoizedState=D,g.baseQueue===null&&(g.baseState=D),S.lastRenderedState=D}return[D,T]}function Mk(){}function Ck(p,g){var S=ur,T=Za(),O=g(),D=!qa(T.memoizedState,O);if(D&&(T.memoizedState=O,hs=!0),T=T.queue,Cp(Rk.bind(null,S,T,p),[p]),T.getSnapshot!==g||D||Gr!==null&&Gr.memoizedState.tag&1){if(S.flags|=2048,Mp(9,Pk.bind(null,S,T,O,g),void 0,null),Sr===null)throw Error(a(349));Lf&30||Tk(S,g,O)}return O}function Tk(p,g,S){p.flags|=16384,p={getSnapshot:g,value:S},g=ur.updateQueue,g===null?(g={lastEffect:null,stores:null},ur.updateQueue=g,g.stores=[p]):(S=g.stores,S===null?g.stores=[p]:S.push(p))}function Pk(p,g,S,T){g.value=S,g.getSnapshot=T,Ik(g)&&Us(p,1,-1)}function Rk(p,g,S){return S(function(){Ik(g)&&Us(p,1,-1)})}function Ik(p){var g=p.getSnapshot;p=p.value;try{var S=g();return!qa(p,S)}catch{return!0}}function YS(p){var g=Io();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:p},g.queue=p,p=p.dispatch=IX.bind(null,ur,p),[g.memoizedState,p]}function Mp(p,g,S,T){return p={tag:p,create:g,destroy:S,deps:T,next:null},g=ur.updateQueue,g===null?(g={lastEffect:null,stores:null},ur.updateQueue=g,g.lastEffect=p.next=p):(S=g.lastEffect,S===null?g.lastEffect=p.next=p:(T=S.next,S.next=p,p.next=T,g.lastEffect=p)),p}function Ok(){return Za().memoizedState}function Cv(p,g,S,T){var O=Io();ur.flags|=p,O.memoizedState=Mp(1|g,S,void 0,T===void 0?null:T)}function Tv(p,g,S,T){var O=Za();T=T===void 0?null:T;var D=void 0;if(ci!==null){var ee=ci.memoizedState;if(D=ee.destroy,T!==null&&qS(T,ee.deps)){O.memoizedState=Mp(g,S,D,T);return}}ur.flags|=p,O.memoizedState=Mp(1|g,S,D,T)}function ZS(p,g){return Cv(8390656,8,p,g)}function Cp(p,g){return Tv(2048,8,p,g)}function kk(p,g){return Tv(4,2,p,g)}function Nk(p,g){return Tv(4,4,p,g)}function Bk(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function Dk(p,g,S){return S=S!=null?S.concat([p]):null,Tv(4,4,Bk.bind(null,g,p),S)}function QS(){}function Lk(p,g){var S=Za();g=g===void 0?null:g;var T=S.memoizedState;return T!==null&&g!==null&&qS(g,T[1])?T[0]:(S.memoizedState=[p,g],p)}function Fk(p,g){var S=Za();g=g===void 0?null:g;var T=S.memoizedState;return T!==null&&g!==null&&qS(g,T[1])?T[0]:(p=p(),S.memoizedState=[p,g],p)}function PX(p,g){var S=Sn;Sn=S!==0&&4>S?S:4,p(!0);var T=Fs.transition;Fs.transition={};try{p(!1),g()}finally{Sn=S,Fs.transition=T}}function Uk(){return Za().memoizedState}function RX(p,g,S){var T=Il(p);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},zk(p)?jk(g,S):(Hk(p,g,S),S=Ri(),p=Us(p,T,S),p!==null&&Gk(p,g,T))}function IX(p,g,S){var T=Il(p),O={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(zk(p))jk(g,O);else{Hk(p,g,O);var D=p.alternate;if(p.lanes===0&&(D===null||D.lanes===0)&&(D=g.lastRenderedReducer,D!==null))try{var ee=g.lastRenderedState,me=D(ee,S);if(O.hasEagerState=!0,O.eagerState=me,qa(me,ee))return}catch{}finally{}S=Ri(),p=Us(p,T,S),p!==null&&Gk(p,g,T)}}function zk(p){var g=p.alternate;return p===ur||g!==null&&g===ur}function jk(p,g){Ap=Av=!0;var S=p.pending;S===null?g.next=g:(g.next=S.next,S.next=g),p.pending=g}function Hk(p,g,S){Sr!==null&&p.mode&1&&!(nn&2)?(p=g.interleaved,p===null?(S.next=S,Ja===null?Ja=[g]:Ja.push(g)):(S.next=p.next,p.next=S),g.interleaved=S):(p=g.pending,p===null?S.next=S:(S.next=p.next,p.next=S),g.pending=S)}function Gk(p,g,S){if(S&4194240){var T=g.lanes;T&=p.pendingLanes,S|=T,g.lanes=S,CS(p,S)}}var Pv={readContext:Ns,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},OX={readContext:Ns,useCallback:function(p,g){return Io().memoizedState=[p,g===void 0?null:g],p},useContext:Ns,useEffect:ZS,useImperativeHandle:function(p,g,S){return S=S!=null?S.concat([p]):null,Cv(4194308,4,Bk.bind(null,g,p),S)},useLayoutEffect:function(p,g){return Cv(4194308,4,p,g)},useInsertionEffect:function(p,g){return Cv(4,2,p,g)},useMemo:function(p,g){var S=Io();return g=g===void 0?null:g,p=p(),S.memoizedState=[p,g],p},useReducer:function(p,g,S){var T=Io();return g=S!==void 0?S(g):g,T.memoizedState=T.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},T.queue=p,p=p.dispatch=RX.bind(null,ur,p),[T.memoizedState,p]},useRef:function(p){var g=Io();return p={current:p},g.memoizedState=p},useState:YS,useDebugValue:QS,useDeferredValue:function(p){var g=YS(p),S=g[0],T=g[1];return ZS(function(){var O=Fs.transition;Fs.transition={};try{T(p)}finally{Fs.transition=O}},[p]),S},useTransition:function(){var p=YS(!1),g=p[0];return p=PX.bind(null,p[1]),Io().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,S){var T=ur,O=Io();if(Zn){if(S===void 0)throw Error(a(407));S=S()}else{if(S=g(),Sr===null)throw Error(a(349));Lf&30||Tk(T,g,S)}O.memoizedState=S;var D={value:S,getSnapshot:g};return O.queue=D,ZS(Rk.bind(null,T,D,p),[p]),T.flags|=2048,Mp(9,Pk.bind(null,T,D,S,g),void 0,null),S},useId:function(){var p=Io(),g=Sr.identifierPrefix;if(Zn){var S=Ro,T=Po;S=(T&~(1<<32-on(T)-1)).toString(32)+S,g=":"+g+"R"+S,S=Ep++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=TX++,g=":"+g+"r"+S.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},kX={readContext:Ns,useCallback:Lk,useContext:Ns,useEffect:Cp,useImperativeHandle:Dk,useInsertionEffect:kk,useLayoutEffect:Nk,useMemo:Fk,useReducer:Ev,useRef:Ok,useState:function(){return Ev($u)},useDebugValue:QS,useDeferredValue:function(p){var g=Ev($u),S=g[0],T=g[1];return Cp(function(){var O=Fs.transition;Fs.transition={};try{T(p)}finally{Fs.transition=O}},[p]),S},useTransition:function(){var p=Ev($u)[0],g=Za().memoizedState;return[p,g]},useMutableSource:Mk,useSyncExternalStore:Ck,useId:Uk,unstable_isNewReconciler:!1},NX={readContext:Ns,useCallback:Lk,useContext:Ns,useEffect:Cp,useImperativeHandle:Dk,useInsertionEffect:kk,useLayoutEffect:Nk,useMemo:Fk,useReducer:Mv,useRef:Ok,useState:function(){return Mv($u)},useDebugValue:QS,useDeferredValue:function(p){var g=Mv($u),S=g[0],T=g[1];return Cp(function(){var O=Fs.transition;Fs.transition={};try{T(p)}finally{Fs.transition=O}},[p]),S},useTransition:function(){var p=Mv($u)[0],g=Za().memoizedState;return[p,g]},useMutableSource:Mk,useSyncExternalStore:Ck,useId:Uk,unstable_isNewReconciler:!1};function eA(p,g){try{var S="",T=g;do S+=CX(T),T=T.return;while(T);var O=S}catch(D){O=`
Error generating stack: `+D.message+`
`+D.stack}return{value:p,source:g,stack:O}}function tA(p,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var BX=typeof WeakMap=="function"?WeakMap:Map;function $k(p,g,S){S=To(-1,S),S.tag=3,S.payload={element:null};var T=g.value;return S.callback=function(){Vv||(Vv=!0,xA=T),tA(p,g)},S}function Vk(p,g,S){S=To(-1,S),S.tag=3;var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var O=g.value;S.payload=function(){return T(O)},S.callback=function(){tA(p,g)}}var D=p.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(S.callback=function(){tA(p,g),typeof T!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var ee=g.stack;this.componentDidCatch(g.value,{componentStack:ee!==null?ee:""})}),S}function Wk(p,g,S){var T=p.pingCache;if(T===null){T=p.pingCache=new BX;var O=new Set;T.set(g,O)}else O=T.get(g),O===void 0&&(O=new Set,T.set(g,O));O.has(S)||(O.add(S),p=KX.bind(null,p,g,S),g.then(p,p))}function Xk(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function qk(p,g,S,T,O){return p.mode&1?(p.flags|=65536,p.lanes=O,p):(p===g?p.flags|=65536:(p.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=To(-1,1),g.tag=2,Tl(S,g))),S.lanes|=1),p)}function Qa(p){p.flags|=4}function Kk(p,g){if(p!==null&&p.child===g.child)return!0;if(g.flags&16)return!1;for(p=g.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var Tp,Pp,Rv,Iv;if(Je)Tp=function(p,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)te(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Pp=function(){},Rv=function(p,g,S,T,O){if(p=p.memoizedProps,p!==T){var D=g.stateNode,ee=Ya(Ls.current);S=Ie(D,S,p,T,O,ee),(g.updateQueue=S)&&Qa(g)}},Iv=function(p,g,S,T){S!==T&&Qa(g)};else if(Pe){Tp=function(p,g,S,T){for(var O=g.child;O!==null;){if(O.tag===5){var D=O.stateNode;S&&T&&(D=Jt(D,O.type,O.memoizedProps,O)),te(p,D)}else if(O.tag===6)D=O.stateNode,S&&T&&(D=wr(D,O.memoizedProps,O)),te(p,D);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)D=O.child,D!==null&&(D.return=O),Tp(p,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===g)break;for(;O.sibling===null;){if(O.return===null||O.return===g)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var Jk=function(p,g,S,T){for(var O=g.child;O!==null;){if(O.tag===5){var D=O.stateNode;S&&T&&(D=Jt(D,O.type,O.memoizedProps,O)),gt(p,D)}else if(O.tag===6)D=O.stateNode,S&&T&&(D=wr(D,O.memoizedProps,O)),gt(p,D);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)D=O.child,D!==null&&(D.return=O),Jk(p,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===g)break;for(;O.sibling===null;){if(O.return===null||O.return===g)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};Pp=function(p,g){var S=g.stateNode;if(!Kk(p,g)){p=S.containerInfo;var T=Xe(p);Jk(T,g,!1,!1),S.pendingChildren=T,Qa(g),Rt(p,T)}},Rv=function(p,g,S,T,O){var D=p.stateNode,ee=p.memoizedProps;if((p=Kk(p,g))&&ee===T)g.stateNode=D;else{var me=g.stateNode,Fe=Ya(Ls.current),lt=null;ee!==T&&(lt=Ie(me,S,ee,T,O,Fe)),p&&lt===null?g.stateNode=D:(D=tt(D,lt,S,ee,T,g,p,me),G(D,S,T,O,Fe)&&Qa(g),g.stateNode=D,p?Qa(g):Tp(D,g,!1,!1))}},Iv=function(p,g,S,T){S!==T?(p=Ya(Bf.current),S=Ya(Ls.current),g.stateNode=ae(T,p,S,g),Qa(g)):g.stateNode=p.stateNode}}else Pp=function(){},Rv=function(){},Iv=function(){};function Rp(p,g){if(!Zn)switch(p.tailMode){case"hidden":g=p.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:T.sibling=null}}function hi(p){var g=p.alternate!==null&&p.alternate.child===p.child,S=0,T=0;if(g)for(var O=p.child;O!==null;)S|=O.lanes|O.childLanes,T|=O.subtreeFlags&14680064,T|=O.flags&14680064,O.return=p,O=O.sibling;else for(O=p.child;O!==null;)S|=O.lanes|O.childLanes,T|=O.subtreeFlags,T|=O.flags,O.return=p,O=O.sibling;return p.subtreeFlags|=T,p.childLanes=S,g}function DX(p,g,S){var T=g.pendingProps;switch(zS(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(g),null;case 1:return Bt(g.type)&&Cn(),hi(g),null;case 3:return T=g.stateNode,Df(),ct(St),ct(Nt),XS(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(bp(g)?Qa(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,pa!==null&&(wA(pa),pa=null))),Pp(p,g),hi(g),null;case 5:VS(g),S=Ya(Bf.current);var O=g.type;if(p!==null&&g.stateNode!=null)Rv(p,g,O,T,S),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!T){if(g.stateNode===null)throw Error(a(166));return hi(g),null}if(p=Ya(Ls.current),bp(g)){if(!Q)throw Error(a(175));p=z(g.stateNode,g.type,g.memoizedProps,S,p,g,!xp),g.updateQueue=p,p!==null&&Qa(g)}else{var D=q(O,T,S,p,g);Tp(D,g,!1,!1),g.stateNode=D,G(D,O,T,S,p)&&Qa(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return hi(g),null;case 6:if(p&&g.stateNode!=null)Iv(p,g,p.memoizedProps,T);else{if(typeof T!="string"&&g.stateNode===null)throw Error(a(166));if(p=Ya(Bf.current),S=Ya(Ls.current),bp(g)){if(!Q)throw Error(a(176));if(p=g.stateNode,T=g.memoizedProps,(S=K(p,T,g,!xp))&&(O=cs,O!==null))switch(D=(O.mode&1)!==0,O.tag){case 3:ue(O.stateNode.containerInfo,p,T,D);break;case 5:ce(O.type,O.memoizedProps,O.stateNode,p,T,D)}S&&Qa(g)}else g.stateNode=ae(T,p,S,g)}return hi(g),null;case 13:if(ct(nr),T=g.memoizedState,Zn&&fs!==null&&g.mode&1&&!(g.flags&128)){for(p=fs;p;)p=ui(p);return kf(),g.flags|=98560,g}if(T!==null&&T.dehydrated!==null){if(T=bp(g),p===null){if(!T)throw Error(a(318));if(!Q)throw Error(a(344));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));fe(p,g)}else kf(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return hi(g),null}return pa!==null&&(wA(pa),pa=null),g.flags&128?(g.lanes=S,g):(T=T!==null,S=!1,p===null?bp(g):S=p.memoizedState!==null,T&&!S&&(g.child.flags|=8192,g.mode&1&&(p===null||nr.current&1?Ir===0&&(Ir=3):AA())),g.updateQueue!==null&&(g.flags|=4),hi(g),null);case 4:return Df(),Pp(p,g),p===null&&Re(g.stateNode.containerInfo),hi(g),null;case 10:return NS(g.type._context),hi(g),null;case 17:return Bt(g.type)&&Cn(),hi(g),null;case 19:if(ct(nr),O=g.memoizedState,O===null)return hi(g),null;if(T=(g.flags&128)!==0,D=O.rendering,D===null)if(T)Rp(O,!1);else{if(Ir!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(D=wv(p),D!==null){for(g.flags|=128,Rp(O,!1),p=D.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=S,T=g.child;T!==null;)S=T,O=p,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=O,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,O=D.dependencies,S.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),T=T.sibling;return xt(nr,nr.current&1|2),g.child}p=p.sibling}O.tail!==null&&Hr()>vA&&(g.flags|=128,T=!0,Rp(O,!1),g.lanes=4194304)}else{if(!T)if(p=wv(D),p!==null){if(g.flags|=128,T=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),Rp(O,!0),O.tail===null&&O.tailMode==="hidden"&&!D.alternate&&!Zn)return hi(g),null}else 2*Hr()-O.renderingStartTime>vA&&S!==1073741824&&(g.flags|=128,T=!0,Rp(O,!1),g.lanes=4194304);O.isBackwards?(D.sibling=g.child,g.child=D):(p=O.last,p!==null?p.sibling=D:g.child=D,O.last=D)}return O.tail!==null?(g=O.tail,O.rendering=g,O.tail=g.sibling,O.renderingStartTime=Hr(),g.sibling=null,p=nr.current,xt(nr,T?p&1|2:p&1),g):(hi(g),null);case 22:case 23:return SA(),T=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==T&&(g.flags|=8192),T&&g.mode&1?ds&1073741824&&(hi(g),Je&&g.subtreeFlags&6&&(g.flags|=8192)):hi(g),null;case 24:return null;case 25:return null}throw Error(a(156,g.tag))}var LX=o.ReactCurrentOwner,hs=!1;function Pi(p,g,S,T){g.child=p===null?Ak(g,null,S,T):Nf(g,p.child,S,T)}function Yk(p,g,S,T,O){S=S.render;var D=g.ref;return Rf(g,O),T=KS(p,g,S,T,D,O),S=JS(),p!==null&&!hs?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~O,Oo(p,g,O)):(Zn&&S&&US(g),g.flags|=1,Pi(p,g,T,O),g.child)}function Zk(p,g,S,T,O){if(p===null){var D=S.type;return typeof D=="function"&&!EA(D)&&D.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=D,Qk(p,g,D,T,O)):(p=Zv(S.type,null,T,g,g.mode,O),p.ref=g.ref,p.return=g,g.child=p)}if(D=p.child,!(p.lanes&O)){var ee=D.memoizedProps;if(S=S.compare,S=S!==null?S:dv,S(ee,T)&&p.ref===g.ref)return Oo(p,g,O)}return g.flags|=1,p=kl(D,T),p.ref=g.ref,p.return=g,g.child=p}function Qk(p,g,S,T,O){if(p!==null&&dv(p.memoizedProps,T)&&p.ref===g.ref)if(hs=!1,(p.lanes&O)!==0)p.flags&131072&&(hs=!0);else return g.lanes=p.lanes,Oo(p,g,O);return nA(p,g,S,T,O)}function eN(p,g,S){var T=g.pendingProps,O=T.children,D=p!==null?p.memoizedState:null;if(T.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},xt(Ff,ds),ds|=S;else if(S&1073741824)g.memoizedState={baseLanes:0,cachePool:null},T=D!==null?D.baseLanes:S,xt(Ff,ds),ds|=T;else return p=D!==null?D.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null},g.updateQueue=null,xt(Ff,ds),ds|=p,null;else D!==null?(T=D.baseLanes|S,g.memoizedState=null):T=S,xt(Ff,ds),ds|=T;return Pi(p,g,O,S),g.child}function tN(p,g){var S=g.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function nA(p,g,S,T,O){var D=Bt(S)?ht:Nt.current;return D=en(g,D),Rf(g,O),S=KS(p,g,S,T,D,O),T=JS(),p!==null&&!hs?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~O,Oo(p,g,O)):(Zn&&T&&US(g),g.flags|=1,Pi(p,g,S,O),g.child)}function nN(p,g,S,T,O){if(Bt(S)){var D=!0;hn(g)}else D=!1;if(Rf(g,O),g.stateNode===null)p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),gk(g,S,T),FS(g,S,T,O),T=!0;else if(p===null){var ee=g.stateNode,me=g.memoizedProps;ee.props=me;var Fe=ee.context,lt=S.contextType;typeof lt=="object"&&lt!==null?lt=Ns(lt):(lt=Bt(S)?ht:Nt.current,lt=en(g,lt));var Mt=S.getDerivedStateFromProps,Vt=typeof Mt=="function"||typeof ee.getSnapshotBeforeUpdate=="function";Vt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(me!==T||Fe!==lt)&&yk(g,ee,T,lt),Cl=!1;var Dt=g.memoizedState;ee.state=Dt,yv(g,T,ee,O),Fe=g.memoizedState,me!==T||Dt!==Fe||St.current||Cl?(typeof Mt=="function"&&(LS(g,S,Mt,T),Fe=g.memoizedState),(me=Cl||mk(g,S,me,T,Dt,Fe,lt))?(Vt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=T,g.memoizedState=Fe),ee.props=T,ee.state=Fe,ee.context=lt,T=me):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),T=!1)}else{ee=g.stateNode,fk(p,g),me=g.memoizedProps,lt=g.type===g.elementType?me:da(g.type,me),ee.props=lt,Vt=g.pendingProps,Dt=ee.context,Fe=S.contextType,typeof Fe=="object"&&Fe!==null?Fe=Ns(Fe):(Fe=Bt(S)?ht:Nt.current,Fe=en(g,Fe));var Fn=S.getDerivedStateFromProps;(Mt=typeof Fn=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(me!==Vt||Dt!==Fe)&&yk(g,ee,T,Fe),Cl=!1,Dt=g.memoizedState,ee.state=Dt,yv(g,T,ee,O);var It=g.memoizedState;me!==Vt||Dt!==It||St.current||Cl?(typeof Fn=="function"&&(LS(g,S,Fn,T),It=g.memoizedState),(lt=Cl||mk(g,S,lt,T,Dt,It,Fe)||!1)?(Mt||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(T,It,Fe),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(T,It,Fe)),typeof ee.componentDidUpdate=="function"&&(g.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ee.componentDidUpdate!="function"||me===p.memoizedProps&&Dt===p.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||me===p.memoizedProps&&Dt===p.memoizedState||(g.flags|=1024),g.memoizedProps=T,g.memoizedState=It),ee.props=T,ee.state=It,ee.context=Fe,T=lt):(typeof ee.componentDidUpdate!="function"||me===p.memoizedProps&&Dt===p.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||me===p.memoizedProps&&Dt===p.memoizedState||(g.flags|=1024),T=!1)}return rA(p,g,S,T,D,O)}function rA(p,g,S,T,O,D){tN(p,g);var ee=(g.flags&128)!==0;if(!T&&!ee)return O&&kt(g,S,!1),Oo(p,g,D);T=g.stateNode,LX.current=g;var me=ee&&typeof S.getDerivedStateFromError!="function"?null:T.render();return g.flags|=1,p!==null&&ee?(g.child=Nf(g,p.child,null,D),g.child=Nf(g,null,me,D)):Pi(p,g,me,D),g.memoizedState=T.state,O&&kt(g,S,!0),g.child}function rN(p){var g=p.stateNode;g.pendingContext?an(p,g.pendingContext,g.pendingContext!==g.context):g.context&&an(p,g.context,!1),$S(p,g.containerInfo)}function iN(p,g,S,T,O){return kf(),GS(O),g.flags|=256,Pi(p,g,S,T),g.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function kv(p){return{baseLanes:p,cachePool:null}}function sN(p,g,S){var T=g.pendingProps,O=nr.current,D=!1,ee=(g.flags&128)!==0,me;if((me=ee)||(me=p!==null&&p.memoizedState===null?!1:(O&2)!==0),me?(D=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(O|=1),xt(nr,O&1),p===null)return HS(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(g.mode&1?El(p)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(O=T.children,p=T.fallback,D?(T=g.mode,D=g.child,O={mode:"hidden",children:O},!(T&1)&&D!==null?(D.childLanes=0,D.pendingProps=O):D=Qv(O,T,0,null),p=Ju(p,T,S,null),D.return=g,p.return=g,D.sibling=p,g.child=D,g.child.memoizedState=kv(S),g.memoizedState=Ov,p):iA(g,O));if(O=p.memoizedState,O!==null){if(me=O.dehydrated,me!==null){if(ee)return g.flags&256?(g.flags&=-257,Nv(p,g,S,Error(a(422)))):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(D=T.fallback,O=g.mode,T=Qv({mode:"visible",children:T.children},O,0,null),D=Ju(D,O,S,null),D.flags|=2,T.return=g,D.return=g,T.sibling=D,g.child=T,g.mode&1&&Nf(g,p.child,null,S),g.child.memoizedState=kv(S),g.memoizedState=Ov,D);if(!(g.mode&1))g=Nv(p,g,S,null);else if(El(me))g=Nv(p,g,S,Error(a(419)));else if(T=(S&p.childLanes)!==0,hs||T){if(T=Sr,T!==null){switch(S&-S){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}T=D&(T.suspendedLanes|S)?0:D,T!==0&&T!==O.retryLane&&(O.retryLane=T,Us(p,T,-1))}AA(),g=Nv(p,g,S,Error(a(421)))}else ha(me)?(g.flags|=128,g.child=p.child,g=JX.bind(null,p),Wa(me,g),g=null):(S=O.treeContext,Q&&(fs=Tf(me),cs=g,Zn=!0,pa=null,xp=!1,S!==null&&(Bs[Ds++]=Po,Bs[Ds++]=Ro,Bs[Ds++]=Hu,Po=S.id,Ro=S.overflow,Hu=g)),g=iA(g,g.pendingProps.children),g.flags|=4096);return g}return D?(T=oN(p,g,T.children,T.fallback,S),D=g.child,O=p.child.memoizedState,D.memoizedState=O===null?kv(S):{baseLanes:O.baseLanes|S,cachePool:null},D.childLanes=p.childLanes&~S,g.memoizedState=Ov,T):(S=aN(p,g,T.children,S),g.memoizedState=null,S)}return D?(T=oN(p,g,T.children,T.fallback,S),D=g.child,O=p.child.memoizedState,D.memoizedState=O===null?kv(S):{baseLanes:O.baseLanes|S,cachePool:null},D.childLanes=p.childLanes&~S,g.memoizedState=Ov,T):(S=aN(p,g,T.children,S),g.memoizedState=null,S)}function iA(p,g){return g=Qv({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function aN(p,g,S,T){var O=p.child;return p=O.sibling,S=kl(O,{mode:"visible",children:S}),!(g.mode&1)&&(S.lanes=T),S.return=g,S.sibling=null,p!==null&&(T=g.deletions,T===null?(g.deletions=[p],g.flags|=16):T.push(p)),g.child=S}function oN(p,g,S,T,O){var D=g.mode;p=p.child;var ee=p.sibling,me={mode:"hidden",children:S};return!(D&1)&&g.child!==p?(S=g.child,S.childLanes=0,S.pendingProps=me,g.deletions=null):(S=kl(p,me),S.subtreeFlags=p.subtreeFlags&14680064),ee!==null?T=kl(ee,T):(T=Ju(T,D,O,null),T.flags|=2),T.return=g,S.return=g,S.sibling=T,g.child=S,T}function Nv(p,g,S,T){return T!==null&&GS(T),Nf(g,p.child,null,S),p=iA(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function lN(p,g,S){p.lanes|=g;var T=p.alternate;T!==null&&(T.lanes|=g),BS(p.return,g,S)}function sA(p,g,S,T,O){var D=p.memoizedState;D===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:O}:(D.isBackwards=g,D.rendering=null,D.renderingStartTime=0,D.last=T,D.tail=S,D.tailMode=O)}function uN(p,g,S){var T=g.pendingProps,O=T.revealOrder,D=T.tail;if(Pi(p,g,T.children,S),T=nr.current,T&2)T=T&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&lN(p,S,g);else if(p.tag===19)lN(p,S,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}T&=1}if(xt(nr,T),!(g.mode&1))g.memoizedState=null;else switch(O){case"forwards":for(S=g.child,O=null;S!==null;)p=S.alternate,p!==null&&wv(p)===null&&(O=S),S=S.sibling;S=O,S===null?(O=g.child,g.child=null):(O=S.sibling,S.sibling=null),sA(g,!1,O,S,D);break;case"backwards":for(S=null,O=g.child,g.child=null;O!==null;){if(p=O.alternate,p!==null&&wv(p)===null){g.child=O;break}p=O.sibling,O.sibling=S,S=O,O=p}sA(g,!0,S,null,D);break;case"together":sA(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Oo(p,g,S){if(p!==null&&(g.dependencies=p.dependencies),Uf|=g.lanes,!(S&g.childLanes))return null;if(p!==null&&g.child!==p.child)throw Error(a(153));if(g.child!==null){for(p=g.child,S=kl(p,p.pendingProps),g.child=S,S.return=g;p.sibling!==null;)p=p.sibling,S=S.sibling=kl(p,p.pendingProps),S.return=g;S.sibling=null}return g.child}function FX(p,g,S){switch(g.tag){case 3:rN(g),kf();break;case 5:Ek(g);break;case 1:Bt(g.type)&&hn(g);break;case 4:$S(g,g.stateNode.containerInfo);break;case 10:ck(g,g.type._context,g.memoizedProps.value);break;case 13:var T=g.memoizedState;if(T!==null)return T.dehydrated!==null?(xt(nr,nr.current&1),g.flags|=128,null):S&g.child.childLanes?sN(p,g,S):(xt(nr,nr.current&1),p=Oo(p,g,S),p!==null?p.sibling:null);xt(nr,nr.current&1);break;case 19:if(T=(S&g.childLanes)!==0,p.flags&128){if(T)return uN(p,g,S);g.flags|=128}var O=g.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),xt(nr,nr.current),T)break;return null;case 22:case 23:return g.lanes=0,eN(p,g,S)}return Oo(p,g,S)}function UX(p,g){switch(zS(g),g.tag){case 1:return Bt(g.type)&&Cn(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return Df(),ct(St),ct(Nt),XS(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 5:return VS(g),null;case 13:if(ct(nr),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(a(340));kf()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return ct(nr),null;case 4:return Df(),null;case 10:return NS(g.type._context),null;case 22:case 23:return SA(),null;case 24:return null;default:return null}}var Bv=!1,Vu=!1,zX=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Dv(p,g){var S=p.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){Wi(p,g,T)}else S.current=null}function aA(p,g,S){try{S()}catch(T){Wi(p,g,T)}}var cN=!1;function jX(p,g){for(W(p.containerInfo),yt=g;yt!==null;)if(p=yt,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,yt=g;else for(;yt!==null;){p=yt;try{var S=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,O=S.memoizedState,D=p.stateNode,ee=D.getSnapshotBeforeUpdate(p.elementType===p.type?T:da(p.type,T),O);D.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:Je&&pt(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(me){Wi(p,p.return,me)}if(g=p.sibling,g!==null){g.return=p.return,yt=g;break}yt=p.return}return S=cN,cN=!1,S}function Wu(p,g,S){var T=g.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var O=T=T.next;do{if((O.tag&p)===p){var D=O.destroy;O.destroy=void 0,D!==void 0&&aA(g,S,D)}O=O.next}while(O!==T)}}function Ip(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&p)===p){var T=S.create;S.destroy=T()}S=S.next}while(S!==g)}}function oA(p){var g=p.ref;if(g!==null){var S=p.stateNode;switch(p.tag){case 5:p=X(S);break;default:p=S}typeof g=="function"?g(p):g.current=p}}function fN(p,g,S){if(Xa&&typeof Xa.onCommitFiberUnmount=="function")try{Xa.onCommitFiberUnmount(fv,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(p=g.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var T=p=p.next;do{var O=T,D=O.destroy;O=O.tag,D!==void 0&&(O&2||O&4)&&aA(g,S,D),T=T.next}while(T!==p)}break;case 1:if(Dv(g,S),p=g.stateNode,typeof p.componentWillUnmount=="function")try{p.props=g.memoizedProps,p.state=g.memoizedState,p.componentWillUnmount()}catch(ee){Wi(g,S,ee)}break;case 5:Dv(g,S);break;case 4:Je?yN(p,g,S):Pe&&Pe&&(g=g.stateNode.containerInfo,S=Xe(g),sn(g,S))}}function hN(p,g,S){for(var T=g;;)if(fN(p,T,S),T.child===null||Je&&T.tag===4){if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function dN(p){var g=p.alternate;g!==null&&(p.alternate=null,dN(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&Ee(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function pN(p){return p.tag===5||p.tag===3||p.tag===4}function mN(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||pN(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function gN(p){if(Je){e:{for(var g=p.return;g!==null;){if(pN(g))break e;g=g.return}throw Error(a(160))}var S=g;switch(S.tag){case 5:g=S.stateNode,S.flags&32&&(be(g),S.flags&=-33),S=mN(p),uA(p,S,g);break;case 3:case 4:g=S.stateNode.containerInfo,S=mN(p),lA(p,S,g);break;default:throw Error(a(161))}}}function lA(p,g,S){var T=p.tag;if(T===5||T===6)p=p.stateNode,g?Ze(S,p,g):oe(S,p);else if(T!==4&&(p=p.child,p!==null))for(lA(p,g,S),p=p.sibling;p!==null;)lA(p,g,S),p=p.sibling}function uA(p,g,S){var T=p.tag;if(T===5||T===6)p=p.stateNode,g?We(S,p,g):ge(S,p);else if(T!==4&&(p=p.child,p!==null))for(uA(p,g,S),p=p.sibling;p!==null;)uA(p,g,S),p=p.sibling}function yN(p,g,S){for(var T=g,O=!1,D,ee;;){if(!O){O=T.return;e:for(;;){if(O===null)throw Error(a(160));switch(D=O.stateNode,O.tag){case 5:ee=!1;break e;case 3:D=D.containerInfo,ee=!0;break e;case 4:D=D.containerInfo,ee=!0;break e}O=O.return}O=!0}if(T.tag===5||T.tag===6)hN(p,T,S),ee?se(D,T.stateNode):_t(D,T.stateNode);else if(T.tag===18)ee?F(D,T.stateNode):st(D,T.stateNode);else if(T.tag===4){if(T.child!==null){D=T.stateNode.containerInfo,ee=!0,T.child.return=T,T=T.child;continue}}else if(fN(p,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return,T.tag===4&&(O=!1)}T.sibling.return=T.return,T=T.sibling}}function cA(p,g){if(Je){switch(g.tag){case 0:case 11:case 14:case 15:Wu(3,g,g.return),Ip(3,g),Wu(5,g,g.return);return;case 1:return;case 5:var S=g.stateNode;if(S!=null){var T=g.memoizedProps;p=p!==null?p.memoizedProps:T;var O=g.type,D=g.updateQueue;g.updateQueue=null,D!==null&&nt(S,D,O,p,T,g)}return;case 6:if(g.stateNode===null)throw Error(a(162));S=g.memoizedProps,pe(g.stateNode,p!==null?p.memoizedProps:S,S);return;case 3:Q&&p!==null&&p.memoizedState.isDehydrated&&Ne(g.stateNode.containerInfo);return;case 12:return;case 13:Lv(g);return;case 19:Lv(g);return;case 17:return}throw Error(a(163))}switch(g.tag){case 0:case 11:case 14:case 15:Wu(3,g,g.return),Ip(3,g),Wu(5,g,g.return);return;case 12:return;case 13:Lv(g);return;case 19:Lv(g);return;case 3:Q&&p!==null&&p.memoizedState.isDehydrated&&Ne(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(Pe){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,sn(g.containerInfo,g.pendingChildren);break e}throw Error(a(163))}}function Lv(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new zX),g.forEach(function(T){var O=YX.bind(null,p,T);S.has(T)||(S.add(T),T.then(O,O))})}}function HX(p,g){for(yt=g;yt!==null;){g=yt;var S=g.deletions;if(S!==null)for(var T=0;T<S.length;T++){var O=S[T];try{var D=p;Je?yN(D,O,g):hN(D,O,g);var ee=O.alternate;ee!==null&&(ee.return=null),O.return=null}catch(Pt){Wi(O,g,Pt)}}if(S=g.child,g.subtreeFlags&12854&&S!==null)S.return=g,yt=S;else for(;yt!==null;){g=yt;try{var me=g.flags;if(me&32&&Je&&be(g.stateNode),me&512){var Fe=g.alternate;if(Fe!==null){var lt=Fe.ref;lt!==null&&(typeof lt=="function"?lt(null):lt.current=null)}}if(me&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var Mt=g.alternate;(Mt===null||Mt.memoizedState===null)&&(yA=Hr())}break;case 22:var Vt=g.memoizedState!==null,Dt=g.alternate,Fn=Dt!==null&&Dt.memoizedState!==null;if(S=g,Je){e:if(T=S,O=Vt,D=null,Je)for(var It=T;;){if(It.tag===5){if(D===null){D=It;var di=It.stateNode;O?Ve(di):xe(It.stateNode,It.memoizedProps)}}else if(It.tag===6){if(D===null){var js=It.stateNode;O?le(js):et(js,It.memoizedProps)}}else if((It.tag!==22&&It.tag!==23||It.memoizedState===null||It===T)&&It.child!==null){It.child.return=It,It=It.child;continue}if(It===T)break;for(;It.sibling===null;){if(It.return===null||It.return===T)break e;D===It&&(D=null),It=It.return}D===It&&(D=null),It.sibling.return=It.return,It=It.sibling}}if(Vt&&!Fn&&S.mode&1){yt=S;for(var Se=S.child;Se!==null;){for(S=yt=Se;yt!==null;){T=yt;var ve=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Wu(4,T,T.return);break;case 1:Dv(T,T.return);var ke=T.stateNode;if(typeof ke.componentWillUnmount=="function"){var vt=T.return;try{ke.props=T.memoizedProps,ke.state=T.memoizedState,ke.componentWillUnmount()}catch(Pt){Wi(T,vt,Pt)}}break;case 5:Dv(T,T.return);break;case 22:if(T.memoizedState!==null){bN(S);continue}}ve!==null?(ve.return=T,yt=ve):bN(S)}Se=Se.sibling}}}switch(me&4102){case 2:gN(g),g.flags&=-3;break;case 6:gN(g),g.flags&=-3,cA(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,cA(g.alternate,g);break;case 4:cA(g.alternate,g)}}catch(Pt){Wi(g,g.return,Pt)}if(S=g.sibling,S!==null){S.return=g.return,yt=S;break}yt=g.return}}}function GX(p,g,S){yt=p,vN(p)}function vN(p,g,S){for(var T=(p.mode&1)!==0;yt!==null;){var O=yt,D=O.child;if(O.tag===22&&T){var ee=O.memoizedState!==null||Bv;if(!ee){var me=O.alternate,Fe=me!==null&&me.memoizedState!==null||Vu;me=Bv;var lt=Vu;if(Bv=ee,(Vu=Fe)&&!lt)for(yt=O;yt!==null;)ee=yt,Fe=ee.child,ee.tag===22&&ee.memoizedState!==null?_N(O):Fe!==null?(Fe.return=ee,yt=Fe):_N(O);for(;D!==null;)yt=D,vN(D),D=D.sibling;yt=O,Bv=me,Vu=lt}xN(p)}else O.subtreeFlags&8772&&D!==null?(D.return=O,yt=D):xN(p)}}function xN(p){for(;yt!==null;){var g=yt;if(g.flags&8772){var S=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:Vu||Ip(5,g);break;case 1:var T=g.stateNode;if(g.flags&4&&!Vu)if(S===null)T.componentDidMount();else{var O=g.elementType===g.type?S.memoizedProps:da(g.type,S.memoizedProps);T.componentDidUpdate(O,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var D=g.updateQueue;D!==null&&dk(g,D,T);break;case 3:var ee=g.updateQueue;if(ee!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=X(g.child.stateNode);break;case 1:S=g.child.stateNode}dk(g,ee,S)}break;case 5:var me=g.stateNode;S===null&&g.flags&4&&$e(me,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Q&&g.memoizedState===null){var Fe=g.alternate;if(Fe!==null){var lt=Fe.memoizedState;if(lt!==null){var Mt=lt.dehydrated;Mt!==null&&Be(Mt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Vu||g.flags&512&&oA(g)}catch(Vt){Wi(g,g.return,Vt)}}if(g===p){yt=null;break}if(S=g.sibling,S!==null){S.return=g.return,yt=S;break}yt=g.return}}function bN(p){for(;yt!==null;){var g=yt;if(g===p){yt=null;break}var S=g.sibling;if(S!==null){S.return=g.return,yt=S;break}yt=g.return}}function _N(p){for(;yt!==null;){var g=yt;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{Ip(4,g)}catch(Fe){Wi(g,S,Fe)}break;case 1:var T=g.stateNode;if(typeof T.componentDidMount=="function"){var O=g.return;try{T.componentDidMount()}catch(Fe){Wi(g,O,Fe)}}var D=g.return;try{oA(g)}catch(Fe){Wi(g,D,Fe)}break;case 5:var ee=g.return;try{oA(g)}catch(Fe){Wi(g,ee,Fe)}}}catch(Fe){Wi(g,g.return,Fe)}if(g===p){yt=null;break}var me=g.sibling;if(me!==null){me.return=g.return,yt=me;break}yt=g.return}}var Fv=0,Uv=1,zv=2,jv=3,Hv=4;if(typeof Symbol=="function"&&Symbol.for){var Op=Symbol.for;Fv=Op("selector.component"),Uv=Op("selector.has_pseudo_class"),zv=Op("selector.role"),jv=Op("selector.test_id"),Hv=Op("selector.text")}function fA(p){var g=Me(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(a(364));return g}if(p=wt(p),p===null)throw Error(a(362));return p.stateNode.current}function hA(p,g){switch(g.$$typeof){case Fv:if(p.type===g.value)return!0;break;case Uv:e:{g=g.value,p=[p,0];for(var S=0;S<p.length;){var T=p[S++],O=p[S++],D=g[O];if(T.tag!==5||!$(T)){for(;D!=null&&hA(T,D);)O++,D=g[O];if(O===g.length){g=!0;break e}else for(T=T.child;T!==null;)p.push(T,O),T=T.sibling}}g=!1}return g;case zv:if(p.tag===5&&ye(p.stateNode,g.value))return!0;break;case Hv:if((p.tag===5||p.tag===6)&&(p=Y(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case jv:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function dA(p){switch(p.$$typeof){case Fv:return"<"+(P(p.value)||"Unknown")+">";case Uv:return":has("+(dA(p)||"")+")";case zv:return'[role="'+p.value+'"]';case Hv:return'"'+p.value+'"';case jv:return'[data-testname="'+p.value+'"]';default:throw Error(a(365))}}function wN(p,g){var S=[];p=[p,0];for(var T=0;T<p.length;){var O=p[T++],D=p[T++],ee=g[D];if(O.tag!==5||!$(O)){for(;ee!=null&&hA(O,ee);)D++,ee=g[D];if(D===g.length)S.push(O);else for(O=O.child;O!==null;)p.push(O,D),O=O.sibling}}return S}function pA(p,g){if(!Qe)throw Error(a(363));p=fA(p),p=wN(p,g),g=[],p=Array.from(p);for(var S=0;S<p.length;){var T=p[S++];if(T.tag===5)$(T)||g.push(T.stateNode);else for(T=T.child;T!==null;)p.push(T),T=T.sibling}return g}var $X=Math.ceil,Gv=o.ReactCurrentDispatcher,mA=o.ReactCurrentOwner,pr=o.ReactCurrentBatchConfig,nn=0,Sr=null,Ar=null,ti=0,ds=0,Ff=ot(0),Ir=0,kp=null,Uf=0,$v=0,gA=0,Np=null,$i=null,yA=0,vA=1/0;function zf(){vA=Hr()+500}var Vv=!1,xA=null,Pl=null,Wv=!1,Rl=null,Xv=0,Bp=0,bA=null,qv=-1,Kv=0;function Ri(){return nn&6?Hr():qv!==-1?qv:qv=Hr()}function Il(p){return p.mode&1?nn&2&&ti!==0?ti&-ti:MX.transition!==null?(Kv===0&&(p=Ml,Ml<<=1,!(Ml&4194240)&&(Ml=64),Kv=p),Kv):(p=Sn,p!==0?p:Ce()):1}function Us(p,g,S){if(50<Bp)throw Bp=0,bA=null,Error(a(185));var T=Jv(p,g);return T===null?null:(vp(T,g,S),(!(nn&2)||T!==Sr)&&(T===Sr&&(!(nn&2)&&($v|=g),Ir===4&&Ol(T,ti)),Vi(T,S),g===1&&nn===0&&!(p.mode&1)&&(zf(),hv&&Ka())),T)}function Jv(p,g){p.lanes|=g;var S=p.alternate;for(S!==null&&(S.lanes|=g),S=p,p=p.return;p!==null;)p.childLanes|=g,S=p.alternate,S!==null&&(S.childLanes|=g),S=p,p=p.return;return S.tag===3?S.stateNode:null}function Vi(p,g){var S=p.callbackNode;yX(p,g);var T=cv(p,p===Sr?ti:0);if(T===0)S!==null&&lk(S),p.callbackNode=null,p.callbackPriority=0;else if(g=T&-T,p.callbackPriority!==g){if(S!=null&&lk(S),g===1)p.tag===0?EX(AN.bind(null,p)):uk(AN.bind(null,p)),Ye?qe(function(){nn===0&&Ka()}):TS(PS,Ka),S=null;else{switch(ok(T)){case 1:S=PS;break;case 4:S=_X;break;case 16:S=RS;break;case 536870912:S=wX;break;default:S=RS}S=kN(S,SN.bind(null,p))}p.callbackPriority=g,p.callbackNode=S}}function SN(p,g){if(qv=-1,Kv=0,nn&6)throw Error(a(327));var S=p.callbackNode;if(Ku()&&p.callbackNode!==S)return null;var T=cv(p,p===Sr?ti:0);if(T===0)return null;if(T&30||T&p.expiredLanes||g)g=Yv(p,T);else{g=T;var O=nn;nn|=2;var D=CN();(Sr!==p||ti!==g)&&(zf(),Xu(p,g));do try{XX();break}catch(me){MN(p,me)}while(!0);kS(),Gv.current=D,nn=O,Ar!==null?g=0:(Sr=null,ti=0,g=Ir)}if(g!==0){if(g===2&&(O=ES(p),O!==0&&(T=O,g=_A(p,O))),g===1)throw S=kp,Xu(p,0),Ol(p,T),Vi(p,Hr()),S;if(g===6)Ol(p,T);else{if(O=p.current.alternate,!(T&30)&&!VX(O)&&(g=Yv(p,T),g===2&&(D=ES(p),D!==0&&(T=D,g=_A(p,D))),g===1))throw S=kp,Xu(p,0),Ol(p,T),Vi(p,Hr()),S;switch(p.finishedWork=O,p.finishedLanes=T,g){case 0:case 1:throw Error(a(345));case 2:qu(p,$i);break;case 3:if(Ol(p,T),(T&130023424)===T&&(g=yA+500-Hr(),10<g)){if(cv(p,0)!==0)break;if(O=p.suspendedLanes,(O&T)!==T){Ri(),p.pingedLanes|=p.suspendedLanes&O;break}p.timeoutHandle=_e(qu.bind(null,p,$i),g);break}qu(p,$i);break;case 4:if(Ol(p,T),(T&4194240)===T)break;for(g=p.eventTimes,O=-1;0<T;){var ee=31-on(T);D=1<<ee,ee=g[ee],ee>O&&(O=ee),T&=~D}if(T=O,T=Hr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*$X(T/1960))-T,10<T){p.timeoutHandle=_e(qu.bind(null,p,$i),T);break}qu(p,$i);break;case 5:qu(p,$i);break;default:throw Error(a(329))}}}return Vi(p,Hr()),p.callbackNode===S?SN.bind(null,p):null}function _A(p,g){var S=Np;return p.current.memoizedState.isDehydrated&&(Xu(p,g).flags|=256),p=Yv(p,g),p!==2&&(g=$i,$i=S,g!==null&&wA(g)),p}function wA(p){$i===null?$i=p:$i.push.apply($i,p)}function VX(p){for(var g=p;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var O=S[T],D=O.getSnapshot;O=O.value;try{if(!qa(D(),O))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ol(p,g){for(g&=~gA,g&=~$v,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var S=31-on(g),T=1<<S;p[S]=-1,g&=~T}}function AN(p){if(nn&6)throw Error(a(327));Ku();var g=cv(p,0);if(!(g&1))return Vi(p,Hr()),null;var S=Yv(p,g);if(p.tag!==0&&S===2){var T=ES(p);T!==0&&(g=T,S=_A(p,T))}if(S===1)throw S=kp,Xu(p,0),Ol(p,g),Vi(p,Hr()),S;if(S===6)throw Error(a(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,qu(p,$i),Vi(p,Hr()),null}function EN(p){Rl!==null&&Rl.tag===0&&!(nn&6)&&Ku();var g=nn;nn|=1;var S=pr.transition,T=Sn;try{if(pr.transition=null,Sn=1,p)return p()}finally{Sn=T,pr.transition=S,nn=g,!(nn&6)&&Ka()}}function SA(){ds=Ff.current,ct(Ff)}function Xu(p,g){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==we&&(p.timeoutHandle=we,Ge(S)),Ar!==null)for(S=Ar.return;S!==null;){var T=S;switch(zS(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Cn();break;case 3:Df(),ct(St),ct(Nt),XS();break;case 5:VS(T);break;case 4:Df();break;case 13:ct(nr);break;case 19:ct(nr);break;case 10:NS(T.type._context);break;case 22:case 23:SA()}S=S.return}if(Sr=p,Ar=p=kl(p.current,null),ti=ds=g,Ir=0,kp=null,gA=$v=Uf=0,$i=Np=null,Ja!==null){for(g=0;g<Ja.length;g++)if(S=Ja[g],T=S.interleaved,T!==null){S.interleaved=null;var O=T.next,D=S.pending;if(D!==null){var ee=D.next;D.next=O,T.next=ee}S.pending=T}Ja=null}return p}function MN(p,g){do{var S=Ar;try{if(kS(),Sv.current=Pv,Av){for(var T=ur.memoizedState;T!==null;){var O=T.queue;O!==null&&(O.pending=null),T=T.next}Av=!1}if(Lf=0,Gr=ci=ur=null,Ap=!1,Ep=0,mA.current=null,S===null||S.return===null){Ir=1,kp=g,Ar=null;break}e:{var D=p,ee=S.return,me=S,Fe=g;if(g=ti,me.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var lt=Fe,Mt=me,Vt=Mt.tag;if(!(Mt.mode&1)&&(Vt===0||Vt===11||Vt===15)){var Dt=Mt.alternate;Dt?(Mt.updateQueue=Dt.updateQueue,Mt.memoizedState=Dt.memoizedState,Mt.lanes=Dt.lanes):(Mt.updateQueue=null,Mt.memoizedState=null)}var Fn=Xk(ee);if(Fn!==null){Fn.flags&=-257,qk(Fn,ee,me,D,g),Fn.mode&1&&Wk(D,lt,g),g=Fn,Fe=lt;var It=g.updateQueue;if(It===null){var di=new Set;di.add(Fe),g.updateQueue=di}else It.add(Fe);break e}else{if(!(g&1)){Wk(D,lt,g),AA();break e}Fe=Error(a(426))}}else if(Zn&&me.mode&1){var js=Xk(ee);if(js!==null){!(js.flags&65536)&&(js.flags|=256),qk(js,ee,me,D,g),GS(Fe);break e}}D=Fe,Ir!==4&&(Ir=2),Np===null?Np=[D]:Np.push(D),Fe=eA(Fe,me),me=ee;do{switch(me.tag){case 3:me.flags|=65536,g&=-g,me.lanes|=g;var Se=$k(me,Fe,g);hk(me,Se);break e;case 1:D=Fe;var ve=me.type,ke=me.stateNode;if(!(me.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(Pl===null||!Pl.has(ke)))){me.flags|=65536,g&=-g,me.lanes|=g;var vt=Vk(me,D,g);hk(me,vt);break e}}me=me.return}while(me!==null)}PN(S)}catch(Pt){g=Pt,Ar===S&&S!==null&&(Ar=S=S.return);continue}break}while(!0)}function CN(){var p=Gv.current;return Gv.current=Pv,p===null?Pv:p}function AA(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Sr===null||!(Uf&268435455)&&!($v&268435455)||Ol(Sr,ti)}function Yv(p,g){var S=nn;nn|=2;var T=CN();Sr===p&&ti===g||Xu(p,g);do try{WX();break}catch(O){MN(p,O)}while(!0);if(kS(),nn=S,Gv.current=T,Ar!==null)throw Error(a(261));return Sr=null,ti=0,Ir}function WX(){for(;Ar!==null;)TN(Ar)}function XX(){for(;Ar!==null&&!xX();)TN(Ar)}function TN(p){var g=ON(p.alternate,p,ds);p.memoizedProps=p.pendingProps,g===null?PN(p):Ar=g,mA.current=null}function PN(p){var g=p;do{var S=g.alternate;if(p=g.return,g.flags&32768){if(S=UX(S,g),S!==null){S.flags&=32767,Ar=S;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Ir=6,Ar=null;return}}else if(S=DX(S,g,ds),S!==null){Ar=S;return}if(g=g.sibling,g!==null){Ar=g;return}Ar=g=p}while(g!==null);Ir===0&&(Ir=5)}function qu(p,g){var S=Sn,T=pr.transition;try{pr.transition=null,Sn=1,qX(p,g,S)}finally{pr.transition=T,Sn=S}return null}function qX(p,g,S){do Ku();while(Rl!==null);if(nn&6)throw Error(a(327));var T=p.finishedWork,O=p.finishedLanes;if(T===null)return null;if(p.finishedWork=null,p.finishedLanes=0,T===p.current)throw Error(a(177));p.callbackNode=null,p.callbackPriority=0;var D=T.lanes|T.childLanes;if(vX(p,D),p===Sr&&(Ar=Sr=null,ti=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Wv||(Wv=!0,kN(RS,function(){return Ku(),null})),D=(T.flags&15990)!==0,T.subtreeFlags&15990||D){D=pr.transition,pr.transition=null;var ee=Sn;Sn=1;var me=nn;nn|=4,mA.current=null,jX(p,T),HX(p,T),N(p.containerInfo),p.current=T,GX(T),bX(),nn=me,Sn=ee,pr.transition=D}else p.current=T;if(Wv&&(Wv=!1,Rl=p,Xv=O),D=p.pendingLanes,D===0&&(Pl=null),SX(T.stateNode),Vi(p,Hr()),g!==null)for(S=p.onRecoverableError,T=0;T<g.length;T++)S(g[T]);if(Vv)throw Vv=!1,p=xA,xA=null,p;return Xv&1&&p.tag!==0&&Ku(),D=p.pendingLanes,D&1?p===bA?Bp++:(Bp=0,bA=p):Bp=0,Ka(),null}function Ku(){if(Rl!==null){var p=ok(Xv),g=pr.transition,S=Sn;try{if(pr.transition=null,Sn=16>p?16:p,Rl===null)var T=!1;else{if(p=Rl,Rl=null,Xv=0,nn&6)throw Error(a(331));var O=nn;for(nn|=4,yt=p.current;yt!==null;){var D=yt,ee=D.child;if(yt.flags&16){var me=D.deletions;if(me!==null){for(var Fe=0;Fe<me.length;Fe++){var lt=me[Fe];for(yt=lt;yt!==null;){var Mt=yt;switch(Mt.tag){case 0:case 11:case 15:Wu(8,Mt,D)}var Vt=Mt.child;if(Vt!==null)Vt.return=Mt,yt=Vt;else for(;yt!==null;){Mt=yt;var Dt=Mt.sibling,Fn=Mt.return;if(dN(Mt),Mt===lt){yt=null;break}if(Dt!==null){Dt.return=Fn,yt=Dt;break}yt=Fn}}}var It=D.alternate;if(It!==null){var di=It.child;if(di!==null){It.child=null;do{var js=di.sibling;di.sibling=null,di=js}while(di!==null)}}yt=D}}if(D.subtreeFlags&2064&&ee!==null)ee.return=D,yt=ee;else e:for(;yt!==null;){if(D=yt,D.flags&2048)switch(D.tag){case 0:case 11:case 15:Wu(9,D,D.return)}var Se=D.sibling;if(Se!==null){Se.return=D.return,yt=Se;break e}yt=D.return}}var ve=p.current;for(yt=ve;yt!==null;){ee=yt;var ke=ee.child;if(ee.subtreeFlags&2064&&ke!==null)ke.return=ee,yt=ke;else e:for(ee=ve;yt!==null;){if(me=yt,me.flags&2048)try{switch(me.tag){case 0:case 11:case 15:Ip(9,me)}}catch(Pt){Wi(me,me.return,Pt)}if(me===ee){yt=null;break e}var vt=me.sibling;if(vt!==null){vt.return=me.return,yt=vt;break e}yt=me.return}}if(nn=O,Ka(),Xa&&typeof Xa.onPostCommitFiberRoot=="function")try{Xa.onPostCommitFiberRoot(fv,p)}catch{}T=!0}return T}finally{Sn=S,pr.transition=g}}return!1}function RN(p,g,S){g=eA(S,g),g=$k(p,g,1),Tl(p,g),g=Ri(),p=Jv(p,1),p!==null&&(vp(p,1,g),Vi(p,g))}function Wi(p,g,S){if(p.tag===3)RN(p,p,S);else for(;g!==null;){if(g.tag===3){RN(g,p,S);break}else if(g.tag===1){var T=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Pl===null||!Pl.has(T))){p=eA(S,p),p=Vk(g,p,1),Tl(g,p),p=Ri(),g=Jv(g,1),g!==null&&(vp(g,1,p),Vi(g,p));break}}g=g.return}}function KX(p,g,S){var T=p.pingCache;T!==null&&T.delete(g),g=Ri(),p.pingedLanes|=p.suspendedLanes&S,Sr===p&&(ti&S)===S&&(Ir===4||Ir===3&&(ti&130023424)===ti&&500>Hr()-yA?Xu(p,0):gA|=S),Vi(p,g)}function IN(p,g){g===0&&(p.mode&1?(g=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):g=1);var S=Ri();p=Jv(p,g),p!==null&&(vp(p,g,S),Vi(p,S))}function JX(p){var g=p.memoizedState,S=0;g!==null&&(S=g.retryLane),IN(p,S)}function YX(p,g){var S=0;switch(p.tag){case 13:var T=p.stateNode,O=p.memoizedState;O!==null&&(S=O.retryLane);break;case 19:T=p.stateNode;break;default:throw Error(a(314))}T!==null&&T.delete(g),IN(p,S)}var ON;ON=function(p,g,S){if(p!==null)if(p.memoizedProps!==g.pendingProps||St.current)hs=!0;else{if(!(p.lanes&S)&&!(g.flags&128))return hs=!1,FX(p,g,S);hs=!!(p.flags&131072)}else hs=!1,Zn&&g.flags&1048576&&vk(g,bv,g.index);switch(g.lanes=0,g.tag){case 2:var T=g.type;p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps;var O=en(g,Nt.current);Rf(g,S),O=KS(null,g,T,p,O,S);var D=JS();return g.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Bt(T)?(D=!0,hn(g)):D=!1,g.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,DS(g),O.updater=vv,g.stateNode=O,O._reactInternals=g,FS(g,T,p,S),g=rA(null,g,T,!0,D,S)):(g.tag=0,Zn&&D&&US(g),Pi(null,g,O,S),g=g.child),g;case 16:T=g.elementType;e:{switch(p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps,O=T._init,T=O(T._payload),g.type=T,O=g.tag=QX(T),p=da(T,p),O){case 0:g=nA(null,g,T,p,S);break e;case 1:g=nN(null,g,T,p,S);break e;case 11:g=Yk(null,g,T,p,S);break e;case 14:g=Zk(null,g,T,da(T.type,p),S);break e}throw Error(a(306,T,""))}return g;case 0:return T=g.type,O=g.pendingProps,O=g.elementType===T?O:da(T,O),nA(p,g,T,O,S);case 1:return T=g.type,O=g.pendingProps,O=g.elementType===T?O:da(T,O),nN(p,g,T,O,S);case 3:e:{if(rN(g),p===null)throw Error(a(387));T=g.pendingProps,D=g.memoizedState,O=D.element,fk(p,g),yv(g,T,null,S);var ee=g.memoizedState;if(T=ee.element,Q&&D.isDehydrated)if(D={element:T,isDehydrated:!1,cache:ee.cache,transitions:ee.transitions},g.updateQueue.baseState=D,g.memoizedState=D,g.flags&256){O=Error(a(423)),g=iN(p,g,T,S,O);break e}else if(T!==O){O=Error(a(424)),g=iN(p,g,T,S,O);break e}else for(Q&&(fs=Mo(g.stateNode.containerInfo),cs=g,Zn=!0,pa=null,xp=!1),S=Ak(g,null,T,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(kf(),T===O){g=Oo(p,g,S);break e}Pi(p,g,T,S)}g=g.child}return g;case 5:return Ek(g),p===null&&HS(g),T=g.type,O=g.pendingProps,D=p!==null?p.memoizedProps:null,ee=O.children,Oe(T,O)?ee=null:D!==null&&Oe(T,D)&&(g.flags|=32),tN(p,g),Pi(p,g,ee,S),g.child;case 6:return p===null&&HS(g),null;case 13:return sN(p,g,S);case 4:return $S(g,g.stateNode.containerInfo),T=g.pendingProps,p===null?g.child=Nf(g,null,T,S):Pi(p,g,T,S),g.child;case 11:return T=g.type,O=g.pendingProps,O=g.elementType===T?O:da(T,O),Yk(p,g,T,O,S);case 7:return Pi(p,g,g.pendingProps,S),g.child;case 8:return Pi(p,g,g.pendingProps.children,S),g.child;case 12:return Pi(p,g,g.pendingProps.children,S),g.child;case 10:e:{if(T=g.type._context,O=g.pendingProps,D=g.memoizedProps,ee=O.value,ck(g,T,ee),D!==null)if(qa(D.value,ee)){if(D.children===O.children&&!St.current){g=Oo(p,g,S);break e}}else for(D=g.child,D!==null&&(D.return=g);D!==null;){var me=D.dependencies;if(me!==null){ee=D.child;for(var Fe=me.firstContext;Fe!==null;){if(Fe.context===T){if(D.tag===1){Fe=To(-1,S&-S),Fe.tag=2;var lt=D.updateQueue;if(lt!==null){lt=lt.shared;var Mt=lt.pending;Mt===null?Fe.next=Fe:(Fe.next=Mt.next,Mt.next=Fe),lt.pending=Fe}}D.lanes|=S,Fe=D.alternate,Fe!==null&&(Fe.lanes|=S),BS(D.return,S,g),me.lanes|=S;break}Fe=Fe.next}}else if(D.tag===10)ee=D.type===g.type?null:D.child;else if(D.tag===18){if(ee=D.return,ee===null)throw Error(a(341));ee.lanes|=S,me=ee.alternate,me!==null&&(me.lanes|=S),BS(ee,S,g),ee=D.sibling}else ee=D.child;if(ee!==null)ee.return=D;else for(ee=D;ee!==null;){if(ee===g){ee=null;break}if(D=ee.sibling,D!==null){D.return=ee.return,ee=D;break}ee=ee.return}D=ee}Pi(p,g,O.children,S),g=g.child}return g;case 9:return O=g.type,T=g.pendingProps.children,Rf(g,S),O=Ns(O),T=T(O),g.flags|=1,Pi(p,g,T,S),g.child;case 14:return T=g.type,O=da(T,g.pendingProps),O=da(T.type,O),Zk(p,g,T,O,S);case 15:return Qk(p,g,g.type,g.pendingProps,S);case 17:return T=g.type,O=g.pendingProps,O=g.elementType===T?O:da(T,O),p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,Bt(T)?(p=!0,hn(g)):p=!1,Rf(g,S),gk(g,T,O),FS(g,T,O,S),rA(null,g,T,!0,p,S);case 19:return uN(p,g,S);case 22:return eN(p,g,S)}throw Error(a(156,g.tag))};function kN(p,g){return TS(p,g)}function ZX(p,g,S,T){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(p,g,S,T){return new ZX(p,g,S,T)}function EA(p){return p=p.prototype,!(!p||!p.isReactComponent)}function QX(p){if(typeof p=="function")return EA(p)?1:0;if(p!=null){if(p=p.$$typeof,p===x)return 11;if(p===_)return 14}return 2}function kl(p,g){var S=p.alternate;return S===null?(S=zs(p.tag,g,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=g,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&14680064,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,g=p.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function Zv(p,g,S,T,O,D){var ee=2;if(T=p,typeof p=="function")EA(p)&&(ee=1);else if(typeof p=="string")ee=5;else e:switch(p){case f:return Ju(S.children,O,D,g);case c:ee=8,O|=8;break;case h:return p=zs(12,S,g,O|2),p.elementType=h,p.lanes=D,p;case v:return p=zs(13,S,g,O),p.elementType=v,p.lanes=D,p;case y:return p=zs(19,S,g,O),p.elementType=y,p.lanes=D,p;case w:return Qv(S,O,D,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case d:ee=10;break e;case m:ee=9;break e;case x:ee=11;break e;case _:ee=14;break e;case b:ee=16,T=null;break e}throw Error(a(130,p==null?p:typeof p,""))}return g=zs(ee,S,g,O),g.elementType=p,g.type=T,g.lanes=D,g}function Ju(p,g,S,T){return p=zs(7,p,T,g),p.lanes=S,p}function Qv(p,g,S,T){return p=zs(22,p,T,g),p.elementType=w,p.lanes=S,p.stateNode={},p}function MA(p,g,S){return p=zs(6,p,null,g),p.lanes=S,p}function CA(p,g,S){return g=zs(4,p.children!==null?p.children:[],p.key,g),g.lanes=S,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function eq(p,g,S,T,O){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=we,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=MS(0),this.expirationTimes=MS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MS(0),this.identifierPrefix=T,this.onRecoverableError=O,Q&&(this.mutableSourceEagerHydrationData=null)}function NN(p,g,S,T,O,D,ee,me,Fe){return p=new eq(p,g,S,me,Fe),g===1?(g=1,D===!0&&(g|=8)):g=0,D=zs(3,null,null,g),p.current=D,D.stateNode=p,D.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},DS(D),p}function BN(p){if(!p)return Tt;p=p._reactInternals;e:{if(R(p)!==p||p.tag!==1)throw Error(a(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Bt(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(a(171))}if(p.tag===1){var S=p.type;if(Bt(S))return vn(p,S,g)}return g}function DN(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(a(188)):(p=Object.keys(p).join(","),Error(a(268,p)));return p=B(g),p===null?null:p.stateNode}function LN(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<g?S:g}}function TA(p,g){LN(p,g),(p=p.alternate)&&LN(p,g)}function tq(p){return p=B(p),p===null?null:p.stateNode}function nq(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var g=Ri();Us(p,134217728,g),TA(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=Ri(),S=Il(p);Us(p,S,g),TA(p,S)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var S=yp(g.pendingLanes);S!==0&&(CS(g,S|1),Vi(g,Hr()),!(nn&6)&&(zf(),Ka()))}break;case 13:var T=Ri();EN(function(){return Us(p,1,T)}),TA(p,1)}},n.batchedUpdates=function(p,g){var S=nn;nn|=1;try{return p(g)}finally{nn=S,nn===0&&(zf(),hv&&Ka())}},n.createComponentSelector=function(p){return{$$typeof:Fv,value:p}},n.createContainer=function(p,g,S,T,O,D,ee){return NN(p,g,!1,null,S,T,O,D,ee)},n.createHasPseudoClassSelector=function(p){return{$$typeof:Uv,value:p}},n.createHydrationContainer=function(p,g,S,T,O,D,ee,me,Fe){return p=NN(S,T,!0,p,O,D,ee,me,Fe),p.context=BN(null),S=p.current,T=Ri(),O=Il(S),D=To(T,O),D.callback=g??null,Tl(S,D),p.current.lanes=O,vp(p,O,T),Vi(p,T),p},n.createPortal=function(p,g,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:p,containerInfo:g,implementation:S}},n.createRoleSelector=function(p){return{$$typeof:zv,value:p}},n.createTestNameSelector=function(p){return{$$typeof:jv,value:p}},n.createTextSelector=function(p){return{$$typeof:Hv,value:p}},n.deferredUpdates=function(p){var g=Sn,S=pr.transition;try{return pr.transition=null,Sn=16,p()}finally{Sn=g,pr.transition=S}},n.discreteUpdates=function(p,g,S,T,O){var D=Sn,ee=pr.transition;try{return pr.transition=null,Sn=1,p(g,S,T,O)}finally{Sn=D,pr.transition=ee,nn===0&&zf()}},n.findAllNodes=pA,n.findBoundingRects=function(p,g){if(!Qe)throw Error(a(363));g=pA(p,g),p=[];for(var S=0;S<g.length;S++)p.push(bt(g[S]));for(g=p.length-1;0<g;g--){S=p[g];for(var T=S.x,O=T+S.width,D=S.y,ee=D+S.height,me=g-1;0<=me;me--)if(g!==me){var Fe=p[me],lt=Fe.x,Mt=lt+Fe.width,Vt=Fe.y,Dt=Vt+Fe.height;if(T>=lt&&D>=Vt&&O<=Mt&&ee<=Dt){p.splice(g,1);break}else if(T!==lt||S.width!==Fe.width||Dt<D||Vt>ee){if(!(D!==Vt||S.height!==Fe.height||Mt<T||lt>O)){lt>T&&(Fe.width+=lt-T,Fe.x=T),Mt<O&&(Fe.width=O-lt),p.splice(g,1);break}}else{Vt>D&&(Fe.height+=Vt-D,Fe.y=D),Dt<ee&&(Fe.height=ee-Vt),p.splice(g,1);break}}}return p},n.findHostInstance=DN,n.findHostInstanceWithNoPortals=function(p){return p=k(p),p=p!==null?j(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return DN(p)},n.flushControlled=function(p){var g=nn;nn|=1;var S=pr.transition,T=Sn;try{pr.transition=null,Sn=1,p()}finally{Sn=T,pr.transition=S,nn=g,nn===0&&(zf(),Ka())}},n.flushPassiveEffects=Ku,n.flushSync=EN,n.focusWithin=function(p,g){if(!Qe)throw Error(a(363));for(p=fA(p),g=wN(p,g),g=Array.from(g),p=0;p<g.length;){var S=g[p++];if(!$(S)){if(S.tag===5&&ne(S.stateNode))return!0;for(S=S.child;S!==null;)g.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Sn},n.getFindAllNodesFailureDescription=function(p,g){if(!Qe)throw Error(a(363));var S=0,T=[];p=[fA(p),0];for(var O=0;O<p.length;){var D=p[O++],ee=p[O++],me=g[ee];if((D.tag!==5||!$(D))&&(hA(D,me)&&(T.push(dA(me)),ee++,ee>S&&(S=ee)),ee<g.length))for(D=D.child;D!==null;)p.push(D,ee),D=D.sibling}if(S<g.length){for(p=[];S<g.length;S++)p.push(dA(g[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return X(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:tq,findFiberByHostInstance:p.findFiberByHostInstance||nq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{fv=g.inject(p),Xa=g}catch{}p=!!g.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,g,S,T){if(!Qe)throw Error(a(363));p=pA(p,g);var O=de(p,S,T).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(p,g){var S=g._getVersion;S=S(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,S]:p.mutableSourceEagerHydrationData.push(g,S)},n.runWithPriority=function(p,g){var S=Sn;try{return Sn=p,g()}finally{Sn=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,g,S,T){var O=g.current,D=Ri(),ee=Il(O);return S=BN(S),g.context===null?g.context=S:g.pendingContext=S,g=To(D,ee),g.payload={element:p},T=T===void 0?null:T,T!==null&&(g.callback=T),Tl(O,g),p=Us(O,ee,D),p!==null&&gv(p,O,ee),ee},n};s$.exports=Kye;var Jye=s$.exports;const Yye=On(Jye);var a$={exports:{}},o$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,W){var N=L.length;L.push(W);e:for(;0<N;){var q=N-1>>>1,te=L[q];if(0<i(te,W))L[q]=W,L[N]=te,N=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],N=L.pop();if(N!==W){L[0]=N;e:for(var q=0,te=L.length,G=te>>>1;q<G;){var Ie=2*(q+1)-1,Oe=L[Ie],ae=Ie+1,_e=L[ae];if(0>i(Oe,N))ae<te&&0>i(_e,Oe)?(L[q]=_e,L[ae]=N,q=ae):(L[q]=Oe,L[Ie]=N,q=Ie);else if(ae<te&&0>i(_e,N))L[q]=_e,L[ae]=N,q=ae;else break e}}return W}function i(L,W){var N=L.sortIndex-W.sortIndex;return N!==0?N:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,c=null,h=3,d=!1,m=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function w(L){if(x=!1,b(L),!m)if(n(l)!==null)m=!0,X(E);else{var W=n(u);W!==null&&Z(w,W.startTime-L)}}function E(L,W){m=!1,x&&(x=!1,y(I),I=-1),d=!0;var N=h;try{for(b(W),c=n(l);c!==null&&(!(c.expirationTime>W)||L&&!k());){var q=c.callback;if(typeof q=="function"){c.callback=null,h=c.priorityLevel;var te=q(c.expirationTime<=W);W=t.unstable_now(),typeof te=="function"?c.callback=te:c===n(l)&&r(l),b(W)}else r(l);c=n(l)}if(c!==null)var G=!0;else{var Ie=n(u);Ie!==null&&Z(w,Ie.startTime-W),G=!1}return G}finally{c=null,h=N,d=!1}}var A=!1,P=null,I=-1,R=5,M=-1;function k(){return!(t.unstable_now()-M<R)}function B(){if(P!==null){var L=t.unstable_now();M=L;var W=!0;try{W=P(!0,L)}finally{W?H():(A=!1,P=null)}}else A=!1}var H;if(typeof _=="function")H=function(){_(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=B,H=function(){V.postMessage(null)}}else H=function(){v(B,0)};function X(L){P=L,A||(A=!0,H())}function Z(L,W){I=v(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,X(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var N=h;h=W;try{return L()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var N=h;h=L;try{return W()}finally{h=N}},t.unstable_scheduleCallback=function(L,W,N){var q=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?q+N:q):N=q,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=N+te,L={id:f++,callback:W,priorityLevel:L,startTime:N,expirationTime:te,sortIndex:-1},N>q?(L.sortIndex=N,e(u,L),n(l)===null&&L===n(u)&&(x?(y(I),I=-1):x=!0,Z(w,N-q))):(L.sortIndex=te,e(l,L),m||d||(m=!0,X(E))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var W=h;return function(){var N=h;h=W;try{return L.apply(this,arguments)}finally{h=N}}}})(o$);a$.exports=o$;var _F=a$.exports;const jI={},l$=t=>void Object.assign(jI,t);function Zye(t,e){function n(f,{args:c=[],attach:h,...d},m){let x=`${f[0].toUpperCase()}${f.slice(1)}`,v;if(f==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=d.object;v=gh(y,{type:f,root:m,attach:h,primitive:!0})}else{const y=jI[x];if(!y)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(c))throw new Error("R3F: The args prop must be an array!");v=gh(new y(...c),{type:f,root:m,attach:h,memoizedProps:{args:c}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),x!=="inject"&&xM(v,d),v}function r(f,c){let h=!1;if(c){var d,m;(d=c.__r3f)!=null&&d.attach?vM(f,c,c.__r3f.attach):c.isObject3D&&f.isObject3D&&(f.add(c),h=!0),h||(m=f.__r3f)==null||m.objects.push(c),c.__r3f||gh(c,{}),c.__r3f.parent=f,KT(c),yh(c)}}function i(f,c,h){let d=!1;if(c){var m,x;if((m=c.__r3f)!=null&&m.attach)vM(f,c,c.__r3f.attach);else if(c.isObject3D&&f.isObject3D){c.parent=f,c.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:c});const v=f.children.filter(_=>_!==c),y=v.indexOf(h);f.children=[...v.slice(0,y),c,...v.slice(y)],d=!0}d||(x=f.__r3f)==null||x.objects.push(c),c.__r3f||gh(c,{}),c.__r3f.parent=f,KT(c),yh(c)}}function s(f,c,h=!1){f&&[...f].forEach(d=>a(c,d,h))}function a(f,c,h){if(c){var d,m,x;if(c.__r3f&&(c.__r3f.parent=null),(d=f.__r3f)!=null&&d.objects&&(f.__r3f.objects=f.__r3f.objects.filter(w=>w!==c)),(m=c.__r3f)!=null&&m.attach)MF(f,c,c.__r3f.attach);else if(c.isObject3D&&f.isObject3D){var v;f.remove(c),(v=c.__r3f)!=null&&v.root&&sve(r1(c),c)}const _=(x=c.__r3f)==null?void 0:x.primitive,b=!_&&(h===void 0?c.dispose!==null:h);if(!_){var y;s((y=c.__r3f)==null?void 0:y.objects,c,b),s(c.children,c,b)}if(delete c.__r3f,b&&c.dispose&&c.type!=="Scene"){const w=()=>{try{c.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?_F.unstable_scheduleCallback(_F.unstable_IdlePriority,w):w()}yh(f)}}function o(f,c,h,d){var m;const x=(m=f.__r3f)==null?void 0:m.parent;if(!x)return;const v=n(c,h,f.__r3f.root);if(f.children){for(const y of f.children)y.__r3f&&r(v,y);f.children=f.children.filter(y=>!y.__r3f)}f.__r3f.objects.forEach(y=>r(v,y)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||a(x,f),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&r1(v).getState().internal.interaction.push(v),[d,d.alternate].forEach(y=>{y!==null&&(y.stateNode=v,y.ref&&(typeof y.ref=="function"?y.ref(v):y.ref.current=v))})}const l=()=>{};return{reconciler:Yye({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,c)=>{if(!c)return;const h=f.getState().scene;h.__r3f&&(h.__r3f.root=f,r(h,c))},removeChildFromContainer:(f,c)=>{c&&a(f.getState().scene,c)},insertInContainerBefore:(f,c,h)=>{if(!c||!h)return;const d=f.getState().scene;d.__r3f&&i(d,c,h)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var c;return!!((c=f==null?void 0:f.__r3f)!=null?c:{}).handlers},prepareUpdate(f,c,h,d){var m;if(((m=f==null?void 0:f.__r3f)!=null?m:{}).primitive&&d.object&&d.object!==f)return[!0];{const{args:v=[],children:y,..._}=d,{args:b=[],children:w,...E}=h;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((P,I)=>P!==b[I]))return[!0];const A=m$(f,_,E,!0);return A.changes.length?[!1,A]:null}},commitUpdate(f,[c,h],d,m,x,v){c?o(f,d,x,v):xM(f,h)},commitMount(f,c,h,d){var m;const x=(m=f.__r3f)!=null?m:{};f.raycast&&x.handlers&&x.eventCount&&r1(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>gh(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var c;const{attach:h,parent:d}=(c=f.__r3f)!=null?c:{};h&&d&&MF(d,f,h),f.isObject3D&&(f.visible=!1),yh(f)},unhideInstance(f,c){var h;const{attach:d,parent:m}=(h=f.__r3f)!=null?h:{};d&&m&&vM(m,f,d),(f.isObject3D&&c.visible==null||c.visible)&&(f.visible=!0),yh(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Oh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Gn.fun(performance.now)?performance.now:Gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:xM}}var wF,SF;const yM=t=>"colorSpace"in t||"outputColorSpace"in t,u$=()=>{var t;return(t=jI.ColorManagement)!=null?t:null},c$=t=>t&&t.isOrthographicCamera,Qye=t=>t&&t.hasOwnProperty("current"),Jy=typeof window<"u"&&((wF=window.document)!=null&&wF.createElement||((SF=window.navigator)==null?void 0:SF.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function f$(t){const e=U.useRef(t);return Jy(()=>void(e.current=t),[t]),e}function eve({set:t}){return Jy(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class h$ extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}h$.getDerivedStateFromError=()=>({error:!0});const d$="__default",AF=new Map,tve=t=>t&&!!t.memoized&&!!t.changes;function p$(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const sm=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function r1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Gn={obj:t=>t===Object(t)&&!Gn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Gn.str(t)||Gn.num(t)||Gn.boo(t))return t===e;const s=Gn.obj(t);if(s&&r==="reference")return t===e;const a=Gn.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!Gn.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(Gn.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function nve(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function rve(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function gh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function qT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const EF=/-\d+$/;function vM(t,e,n){if(Gn.str(n)){if(EF.test(n)){const s=n.replace(EF,""),{target:a,key:o}=qT(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=qT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function MF(t,e,n){var r,i;if(Gn.str(n)){const{target:s,key:a}=qT(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function m$(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},u=!1){const f=t.__r3f,c=Object.entries(i),h=[];if(u){const m=Object.keys(l);for(let x=0;x<m.length;x++)i.hasOwnProperty(m[x])||c.unshift([m[x],d$+"remove"])}c.forEach(([m,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&m==="object"||Gn.equ(x,l[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return h.push([m,x,!0,[]]);let y=[];m.includes("-")&&(y=m.split("-")),h.push([m,x,!1,y]);for(const _ in i){const b=i[_];_.startsWith(`${m}-`)&&h.push([_,b,!1,_.split("-")])}});const d={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(d.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(d.attach=f.memoizedProps.attach),{memoized:d,changes:h}}function xM(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=tve(e)?e:m$(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let h=0;h<o.length;h++){let[d,m,x,v]=o[h];if(yM(t)){const w="srgb",E="srgb-linear";d==="encoding"?(d="colorSpace",m=m===3001?w:E):d==="outputEncoding"&&(d="outputColorSpace",m=m===3001?w:E)}let y=t,_=y[d];if(v.length&&(_=v.reduce((b,w)=>b[w],t),!(_&&_.set))){const[b,...w]=v.reverse();y=w.reverse().reduce((E,A)=>E[A],t),d=b}if(m===d$+"remove")if(y.constructor){let b=AF.get(y.constructor);b||(b=new y.constructor,AF.set(y.constructor,b)),m=b[d]}else m=0;if(x&&r)m?r.handlers[d]=m:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Vc)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&_.constructor===m.constructor)_.copy(m);else if(m!==void 0){var u;const b=(u=_)==null?void 0:u.isColor;!b&&_.setScalar?_.setScalar(m):_ instanceof Vc&&m instanceof Vc?_.mask=m.mask:_.set(m),!u$()&&s&&!s.linear&&b&&_.convertSRGBToLinear()}}else{var f;if(y[d]=m,(f=y[d])!=null&&f.isTexture&&y[d].format===xr&&y[d].type===ji&&s){const b=y[d];yM(b)&&yM(s.gl)?b.colorSpace=s.gl.outputColorSpace:b.encoding=s.gl.outputEncoding}}yh(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=r1(t).getState().internal,d=h.interaction.indexOf(t);d>-1&&h.interaction.splice(d,1),r.eventCount&&h.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&KT(t),t}function yh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function KT(t){t.onUpdate==null||t.onUpdate(t)}function g$(t,e){t.manual||(c$(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function px(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ive(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Oh.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Oh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Oh.ContinuousEventPriority;default:return Oh.DefaultEventPriority}}function y$(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function sve(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{y$(n.capturedMap,e,r,i)})}function ave(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],c=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+c*c))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var c;return(c=u.__r3f)==null?void 0:c.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),c=new Set,h=[],d=u?u(f.internal.interaction):f.internal.interaction;for(let y=0;y<d.length;y++){const _=sm(d[y]);_&&(_.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function m(y){const _=sm(y);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(y,!0):[]}let x=d.flatMap(m).sort((y,_)=>{const b=sm(y.object),w=sm(_.object);return!b||!w?y.distance-_.distance:w.events.priority-b.events.priority||y.distance-_.distance}).filter(y=>{const _=px(y);return c.has(_)?!1:(c.add(_),!0)});f.events.filter&&(x=f.events.filter(x,f));for(const y of x){let _=y.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&h.push({...y,eventObject:_}),_=_.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let y of f.internal.capturedMap.get(l.pointerId).values())c.has(px(y.intersection))||h.push(y.intersection);return h}function i(l,u,f,c){const h=t.getState();if(l.length){const d={stopped:!1};for(const m of l){const x=sm(m.object)||h,{raycaster:v,pointer:y,camera:_,internal:b}=x,w=new J(y.x,y.y,0).unproject(_),E=M=>{var k,B;return(k=(B=b.capturedMap.get(M))==null?void 0:B.has(m.eventObject))!=null?k:!1},A=M=>{const k={intersection:m,target:u.target};b.capturedMap.has(M)?b.capturedMap.get(M).set(m.eventObject,k):b.capturedMap.set(M,new Map([[m.eventObject,k]])),u.target.setPointerCapture(M)},P=M=>{const k=b.capturedMap.get(M);k&&y$(b.capturedMap,m.eventObject,k,M)};let I={};for(let M in u){let k=u[M];typeof k!="function"&&(I[M]=k)}let R={...m,...I,pointer:y,intersections:l,stopped:d.stopped,delta:f,unprojectedPoint:w,ray:v.ray,camera:_,stopPropagation(){const M="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!M||M.has(m.eventObject))&&(R.stopped=d.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(k=>k.eventObject===m.eventObject))){const k=l.slice(0,l.indexOf(m));s([...k,m])}},target:{hasPointerCapture:E,setPointerCapture:A,releasePointerCapture:P},currentTarget:{hasPointerCapture:E,setPointerCapture:A,releasePointerCapture:P},nativeEvent:u};if(c(R),d.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(c=>c.object===f.object&&c.index===f.index&&c.instanceId===f.instanceId)){const h=f.eventObject.__r3f,d=h==null?void 0:h.handlers;if(u.hovered.delete(px(f)),h!=null&&h.eventCount){const m={...f,intersections:l};d.onPointerOut==null||d.onPointerOut(m),d.onPointerLeave==null||d.onPointerLeave(m)}}}function a(l,u){for(let f=0;f<u.length;f++){const c=u[f].__r3f;c==null||c.handlers.onPointerMissed==null||c.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:c,internal:h}=t.getState();h.lastEvent.current=f;const d=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(f,d?n:void 0),y=m?e(f):0;l==="onPointerDown"&&(h.initialClick=[f.offsetX,f.offsetY],h.initialHits=v.map(b=>b.eventObject)),m&&!v.length&&y<=2&&(a(f,h.interaction),c&&c(f)),d&&s(v);function _(b){const w=b.eventObject,E=w.__r3f,A=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(d){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const P=px(b),I=h.hovered.get(P);I?I.stopped&&b.stopPropagation():(h.hovered.set(P,b),A.onPointerOver==null||A.onPointerOver(b),A.onPointerEnter==null||A.onPointerEnter(b))}A.onPointerMove==null||A.onPointerMove(b)}else{const P=A[l];P?(!m||h.initialHits.includes(w))&&(a(f,h.interaction.filter(I=>!h.initialHits.includes(I))),P(b)):m&&h.initialHits.includes(w)&&a(f,h.interaction.filter(I=>!h.initialHits.includes(I)))}}i(v,f,y,_)}}return{handlePointer:o}}const ove=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],v$=t=>!!(t!=null&&t.render),HI=U.createContext(null),lve=(t,e)=>{const n=n$((o,l)=>{const u=new J,f=new J,c=new J;function h(y=l().camera,_=f,b=l().size){const{width:w,height:E,top:A,left:P}=b,I=w/E;_.isVector3?c.copy(_):c.set(..._);const R=y.getWorldPosition(u).distanceTo(c);if(c$(y))return{width:w/y.zoom,height:E/y.zoom,top:A,left:P,factor:1,distance:R,aspect:I};{const M=y.fov*Math.PI/180,k=2*Math.tan(M/2)*R,B=k*(w/E);return{width:B,height:k,top:A,left:P,factor:w/B,distance:R,aspect:I}}}let d;const m=y=>o(_=>({performance:{..._.performance,current:y}})),x=new ze;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,_)=>e(y,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new kI,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();d&&clearTimeout(d),y.performance.current!==y.performance.min&&m(y.performance.min),d=setTimeout(()=>m(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:y=>o(_=>({..._,events:{..._.events,...y}})),setSize:(y,_,b,w,E)=>{const A=l().camera,P={width:y,height:_,top:w||0,left:E||0,updateStyle:b};o(I=>({size:P,viewport:{...I.viewport,...h(A,f,P)}}))},setDpr:y=>o(_=>{const b=p$(y);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(y="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,y!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,_,b)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:y,priority:_,store:b}),w.subscribers=w.subscribers.sort((E,A)=>E.priority-A.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(A=>A.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:f,set:c}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var h;i=l,s=u.dpr,g$(o,l),f.setPixelRatio(u.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,d)}o!==a&&(a=o,c(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let mx,uve=new Set,cve=new Set,fve=new Set;function bM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function am(t,e){switch(t){case"before":return bM(uve,e);case"after":return bM(cve,e);case"tail":return bM(fve,e)}}let _M,wM;function SM(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),_M=e.internal.subscribers,mx=0;mx<_M.length;mx++)wM=_M[mx],wM.ref.current(wM.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hve(t){let e=!1,n=!1,r,i,s;function a(u){i=requestAnimationFrame(a),e=!0,r=0,am("before",u),n=!0;for(const c of t.values()){var f;s=c.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=SM(u,s))}if(n=!1,am("after",u),r===0)return am("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,f=1){var c;if(!u)return t.forEach(h=>o(h.store.getState(),f));(c=u.gl.xr)!=null&&c.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(u,f=!0,c,h){if(f&&am("before",u),c)SM(u,c,h);else for(const d of t.values())SM(u,d.store.getState());f&&am("after",u)}return{loop:a,invalidate:o,advance:l}}function GI(){const t=U.useContext(HI);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ni(t=n=>n,e){return GI()(t,e)}function Yy(t,e=0){const n=GI(),r=n.getState().internal.subscribe,i=f$(t);return Jy(()=>r(i,e,n),[e,r,n]),null}const CF=new WeakMap;function x$(t,e){return function(n,...r){let i=CF.get(n);return i||(i=new n,CF.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((a,o)=>i.load(s,l=>{l.scene&&Object.assign(l,nve(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function pl(t,e,n,r){const i=Array.isArray(e)?e:[e],s=$ye(x$(n,r),[t,...i],{equal:Gn.equ});return Array.isArray(e)?s:s[0]}pl.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Vye(x$(n),[t,...r])};pl.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Wye([t,...n])};const bd=new Map,{invalidate:TF,advance:PF}=hve(bd),{reconciler:Ng,applyProps:ql}=Zye(bd,ive),ch={objects:"shallow",strict:!1},dve=(t,e)=>{const n=typeof t=="function"?t(e):t;return v$(n)?n:new zI({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function pve(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function mve(t){const e=bd.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||lve(TF,PF),a=n||Ng.createContainer(s,Oh.ConcurrentRoot,null,!1,null,"",i,null);e||bd.set(t,{fiber:a,store:s});let o,l=!1,u;return{configure(f={}){let{gl:c,size:h,scene:d,events:m,onCreated:x,shadows:v=!1,linear:y=!1,flat:_=!1,legacy:b=!1,orthographic:w=!1,frameloop:E="always",dpr:A=[1,2],performance:P,raycaster:I,camera:R,onPointerMissed:M}=f,k=s.getState(),B=k.gl;k.gl||k.set({gl:B=dve(c,t)});let H=k.raycaster;H||k.set({raycaster:H=new LI});const{params:j,...V}=I||{};if(Gn.equ(V,H,ch)||ql(H,{...V}),Gn.equ(j,H.params,ch)||ql(H,{params:{...H.params,...j}}),!k.camera||k.camera===u&&!Gn.equ(u,R,ch)){u=R;const N=R instanceof Uy,q=N?R:w?new mo(0,0,0,0,.1,1e3):new dr(75,0,.1,1e3);N||(q.position.z=5,R&&(ql(q,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(q.manual=!0,q.updateProjectionMatrix())),!k.camera&&!(R!=null&&R.rotation)&&q.lookAt(0,0,0)),k.set({camera:q}),H.camera=q}if(!k.scene){let N;d!=null&&d.isScene?N=d:(N=new jy,d&&ql(N,d)),k.set({scene:gh(N)})}if(!k.xr){var X;const N=(G,Ie)=>{const Oe=s.getState();Oe.frameloop!=="never"&&PF(G,!0,Oe,Ie)},q=()=>{const G=s.getState();G.gl.xr.enabled=G.gl.xr.isPresenting,G.gl.xr.setAnimationLoop(G.gl.xr.isPresenting?N:null),G.gl.xr.isPresenting||TF(G)},te={connect(){const G=s.getState().gl;G.xr.addEventListener("sessionstart",q),G.xr.addEventListener("sessionend",q)},disconnect(){const G=s.getState().gl;G.xr.removeEventListener("sessionstart",q),G.xr.removeEventListener("sessionend",q)}};typeof((X=B.xr)==null?void 0:X.addEventListener)=="function"&&te.connect(),k.set({xr:te})}if(B.shadowMap){const N=B.shadowMap.enabled,q=B.shadowMap.type;if(B.shadowMap.enabled=!!v,Gn.boo(v))B.shadowMap.type=Gm;else if(Gn.str(v)){var Z;const te={basic:l6,percentage:rw,soft:Gm,variance:Aa};B.shadowMap.type=(Z=te[v])!=null?Z:Gm}else Gn.obj(v)&&Object.assign(B.shadowMap,v);(N!==B.shadowMap.enabled||q!==B.shadowMap.type)&&(B.shadowMap.needsUpdate=!0)}const L=u$();L&&("enabled"in L?L.enabled=!b:"legacyMode"in L&&(L.legacyMode=b)),l||ql(B,{outputEncoding:y?3e3:3001,toneMapping:_?po:KR}),k.legacy!==b&&k.set(()=>({legacy:b})),k.linear!==y&&k.set(()=>({linear:y})),k.flat!==_&&k.set(()=>({flat:_})),c&&!Gn.fun(c)&&!v$(c)&&!Gn.equ(c,B,ch)&&ql(B,c),m&&!k.events.handlers&&k.set({events:m(s)});const W=pve(t,h);return Gn.equ(W,k.size,ch)||k.setSize(W.width,W.height,W.updateStyle,W.top,W.left),A&&k.viewport.dpr!==p$(A)&&k.setDpr(A),k.frameloop!==E&&k.setFrameloop(E),k.onPointerMissed||k.set({onPointerMissed:M}),P&&!Gn.equ(P,k.performance,ch)&&k.set(N=>({performance:{...N.performance,...P}})),o=x,l=!0,this},render(f){return l||this.configure(),Ng.updateContainer(C.jsx(gve,{store:s,children:f,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){b$(t)}}}function gve({store:t,children:e,onCreated:n,rootElement:r}){return Jy(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),C.jsx(HI.Provider,{value:t,children:e})}function b$(t,e){const n=bd.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Ng.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),rve(i),bd.delete(t)}catch{}},500)})}}function yve(t,e,n){return C.jsx(vve,{children:t,container:e,state:n},e.uuid)}function vve({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,a=GI(),[o]=U.useState(()=>new LI),[l]=U.useState(()=>new ze),u=U.useCallback((c,h)=>{const d={...c};Object.keys(c).forEach(x=>{(ove.includes(x)||c[x]!==h[x]&&h[x])&&delete d[x]});let m;if(h&&i){const x=h.camera;m=c.viewport.getCurrentViewport(x,new J,i),x!==c.camera&&g$(x,i)}return{...d,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...c.events,...h==null?void 0:h.events,...r},size:{...c.size,...i},viewport:{...c.viewport,...m},...s}},[t]),[f]=U.useState(()=>{const c=a.getState();return n$((d,m)=>({...c,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...c.events,...r},size:{...c.size,...i},...s,set:d,get:m,setEvents:x=>d(v=>({...v,events:{...v.events,...x}}))}))});return U.useEffect(()=>{const c=a.subscribe(h=>f.setState(d=>u(h,d)));return()=>{c()}},[u]),U.useEffect(()=>{f.setState(c=>u(a.getState(),c))},[u]),U.useEffect(()=>()=>{f.destroy()},[]),C.jsx(C.Fragment,{children:Ng.createPortal(C.jsx(HI.Provider,{value:f,children:e}),f,null)})}Ng.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});const AM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xve(t){const{handlePointer:e}=ave(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(AM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,u]=AM[a];n.addEventListener(l,o,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=AM[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function RF(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function bve({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,f=U.useRef(!1);U.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[c,h,d]=U.useMemo(()=>{const y=()=>{if(!o.current.element)return;const{left:_,top:b,width:w,height:E,bottom:A,right:P,x:I,y:R}=o.current.element.getBoundingClientRect(),M={left:_,top:b,width:w,height:E,bottom:A,right:P,x:I,y:R};o.current.element instanceof HTMLElement&&r&&(M.height=o.current.element.offsetHeight,M.width=o.current.element.offsetWidth),Object.freeze(M),f.current&&!Ave(o.current.lastBounds,M)&&a(o.current.lastBounds=M)};return[y,u?RF(y,u):y,l?RF(y,l):y]},[a,r,l,u]);function m(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",d,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function x(){o.current.element&&(o.current.resizeObserver=new i(d),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(y=>y.addEventListener("scroll",d,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const v=y=>{!y||y===o.current.element||(m(),o.current.element=y,o.current.scrollContainers=_$(y),x())};return wve(d,!!e),_ve(h),U.useEffect(()=>{m(),x()},[e,d,h]),U.useEffect(()=>m,[]),[v,s,c]}function _ve(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function wve(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function _$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,..._$(t.parentElement)]}const Sve=["x","y","top","bottom","left","right","width","height"],Ave=(t,e)=>Sve.every(n=>t[n]===e[n]);var Eve=Object.defineProperty,Mve=Object.defineProperties,Cve=Object.getOwnPropertyDescriptors,IF=Object.getOwnPropertySymbols,Tve=Object.prototype.hasOwnProperty,Pve=Object.prototype.propertyIsEnumerable,OF=(t,e,n)=>e in t?Eve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kF=(t,e)=>{for(var n in e||(e={}))Tve.call(e,n)&&OF(t,n,e[n]);if(IF)for(var n of IF(e))Pve.call(e,n)&&OF(t,n,e[n]);return t},Rve=(t,e)=>Mve(t,Cve(e)),NF,BF;typeof window<"u"&&((NF=window.document)!=null&&NF.createElement||((BF=window.navigator)==null?void 0:BF.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function w$(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=w$(r,e,n);if(i)return i;r=r.sibling}}function S$(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const DF=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=DF;return}return DF.apply(this,arguments)};const $I=S$(U.createContext(null));class A$ extends U.Component{render(){return U.createElement($I.Provider,{value:this._reactInternals},this.props.children)}}function Ive(){const t=U.useContext($I);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=w$(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function Ove(){const t=Ive(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==$I&&!e.has(i)&&e.set(i,U.useContext(S$(i)))}n=n.return}return e}function kve(){const t=Ove();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>U.createElement(e,null,U.createElement(n.Provider,Rve(kF({},r),{value:t.get(n)}))),e=>U.createElement(A$,kF({},e))),[t])}const Nve=U.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=xve,eventSource:o,eventPrefix:l,shadows:u,linear:f,flat:c,legacy:h,orthographic:d,frameloop:m,dpr:x,performance:v,raycaster:y,camera:_,scene:b,onPointerMissed:w,onCreated:E,...A},P){U.useMemo(()=>l$(zye),[]);const I=kve(),[R,M]=bve({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=U.useRef(null),B=U.useRef(null);U.useImperativeHandle(P,()=>k.current);const H=f$(w),[j,V]=U.useState(!1),[X,Z]=U.useState(!1);if(j)throw j;if(X)throw X;const L=U.useRef(null);Jy(()=>{const N=k.current;M.width>0&&M.height>0&&N&&(L.current||(L.current=mve(N)),L.current.configure({gl:s,events:a,shadows:u,linear:f,flat:c,legacy:h,orthographic:d,frameloop:m,dpr:x,performance:v,raycaster:y,camera:_,scene:b,size:M,onPointerMissed:(...q)=>H.current==null?void 0:H.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(o?Qye(o)?o.current:o:B.current),l&&q.setEvents({compute:(te,G)=>{const Ie=te[l+"X"],Oe=te[l+"Y"];G.pointer.set(Ie/G.size.width*2-1,-(Oe/G.size.height)*2+1),G.raycaster.setFromCamera(G.pointer,G.camera)}}),E==null||E(q)}}),L.current.render(C.jsx(I,{children:C.jsx(h$,{set:Z,children:C.jsx(U.Suspense,{fallback:C.jsx(eve,{set:V}),children:e??null})})})))}),U.useEffect(()=>{const N=k.current;if(N)return()=>b$(N)},[]);const W=o?"none":"auto";return C.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i},...A,children:C.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:k,style:{display:"block"},children:n})})})}),Bve=U.forwardRef(function(e,n){return C.jsx(A$,{children:C.jsx(Nve,{...e,ref:n})})});function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}const LF=t=>{let e;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const h=e;e=f??(typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(d=>d(e,h))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,o);return o},Dve=t=>t?LF(t):LF,Lve=t=>t;function Fve(t,e=Lve){const n=he.useSyncExternalStore(t.subscribe,he.useCallback(()=>e(t.getState()),[t,e]),he.useCallback(()=>e(t.getInitialState()),[t,e]));return he.useDebugValue(n),n}const FF=t=>{const e=Dve(t),n=r=>Fve(e,r);return Object.assign(n,e),n},Uve=t=>t?FF(t):FF,VI=parseInt(Ny.replace(/\D+/g,""));function UF(t,e){if(e===F6)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===_b||e===rI){let n=t.getIndex();if(n===null){const a=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===_b)for(let a=1;a<=r;a++)i.push(n.getX(0)),i.push(n.getX(a)),i.push(n.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(n.getX(a)),i.push(n.getX(a+1)),i.push(n.getX(a+2))):(i.push(n.getX(a+2)),i.push(n.getX(a+1)),i.push(n.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var Ys=Uint8Array,au=Uint16Array,JT=Uint32Array,E$=new Ys([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M$=new Ys([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zve=new Ys([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C$=function(t,e){for(var n=new au(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new JT(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},T$=C$(E$,2),P$=T$[0],jve=T$[1];P$[28]=258,jve[258]=28;var Hve=C$(M$,0),Gve=Hve[0],YT=new au(32768);for(var Kn=0;Kn<32768;++Kn){var $l=(Kn&43690)>>>1|(Kn&21845)<<1;$l=($l&52428)>>>2|($l&13107)<<2,$l=($l&61680)>>>4|($l&3855)<<4,YT[Kn]=(($l&65280)>>>8|($l&255)<<8)>>>1}var Ym=function(t,e,n){for(var r=t.length,i=0,s=new au(e);i<r;++i)++s[t[i]-1];var a=new au(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new au(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],c=a[t[i]-1]++<<f,h=c|(1<<f)-1;c<=h;++c)o[YT[c]>>>l]=u}else for(o=new au(r),i=0;i<r;++i)t[i]&&(o[i]=YT[a[t[i]-1]++]>>>15-t[i]);return o},Zy=new Ys(288);for(var Kn=0;Kn<144;++Kn)Zy[Kn]=8;for(var Kn=144;Kn<256;++Kn)Zy[Kn]=9;for(var Kn=256;Kn<280;++Kn)Zy[Kn]=7;for(var Kn=280;Kn<288;++Kn)Zy[Kn]=8;var R$=new Ys(32);for(var Kn=0;Kn<32;++Kn)R$[Kn]=5;var $ve=Ym(Zy,9,1),Vve=Ym(R$,5,1),EM=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},xa=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},MM=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Wve=function(t){return(t/8|0)+(t&7&&1)},Xve=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof au?au:t instanceof JT?JT:Ys)(n-e);return r.set(t.subarray(e,n)),r},qve=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Ys(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Ys(r*3));var a=function(ae){var _e=e.length;if(ae>_e){var Ge=new Ys(Math.max(_e*2,ae));Ge.set(e),e=Ge}},o=n.f||0,l=n.p||0,u=n.b||0,f=n.l,c=n.d,h=n.m,d=n.n,m=r*8;do{if(!f){n.f=o=xa(t,l,1);var x=xa(t,l+1,3);if(l+=3,x)if(x==1)f=$ve,c=Vve,h=9,d=5;else if(x==2){var b=xa(t,l,31)+257,w=xa(t,l+10,15)+4,E=b+xa(t,l+5,31)+1;l+=14;for(var A=new Ys(E),P=new Ys(19),I=0;I<w;++I)P[zve[I]]=xa(t,l+I*3,7);l+=w*3;for(var R=EM(P),M=(1<<R)-1,k=Ym(P,R,1),I=0;I<E;){var B=k[xa(t,l,M)];l+=B&15;var v=B>>>4;if(v<16)A[I++]=v;else{var H=0,j=0;for(v==16?(j=3+xa(t,l,3),l+=2,H=A[I-1]):v==17?(j=3+xa(t,l,7),l+=3):v==18&&(j=11+xa(t,l,127),l+=7);j--;)A[I++]=H}}var V=A.subarray(0,b),X=A.subarray(b);h=EM(V),d=EM(X),f=Ym(V,h,1),c=Ym(X,d,1)}else throw"invalid block type";else{var v=Wve(l)+4,y=t[v-4]|t[v-3]<<8,_=v+y;if(_>r){if(s)throw"unexpected EOF";break}i&&a(u+y),e.set(t.subarray(v,_),u),n.b=u+=y,n.p=l=_*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}i&&a(u+131072);for(var Z=(1<<h)-1,L=(1<<d)-1,W=l;;W=l){var H=f[MM(t,l)&Z],N=H>>>4;if(l+=H&15,l>m){if(s)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(N<256)e[u++]=N;else if(N==256){W=l,f=null;break}else{var q=N-254;if(N>264){var I=N-257,te=E$[I];q=xa(t,l,(1<<te)-1)+P$[I],l+=te}var G=c[MM(t,l)&L],Ie=G>>>4;if(!G)throw"invalid distance";l+=G&15;var X=Gve[Ie];if(Ie>3){var te=M$[Ie];X+=MM(t,l)&(1<<te)-1,l+=te}if(l>m){if(s)throw"unexpected EOF";break}i&&a(u+131072);for(var Oe=u+q;u<Oe;u+=4)e[u]=e[u-X],e[u+1]=e[u+1-X],e[u+2]=e[u+2-X],e[u+3]=e[u+3-X];u=Oe}}n.l=f,n.p=W,n.b=u,f&&(o=1,n.m=h,n.d=c,n.n=d)}while(!o);return u==e.length?e:Xve(e,0,u)},Kve=new Ys(0),Jve=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function gx(t,e){return qve((Jve(t),t.subarray(2,-4)),e)}var Yve=typeof TextDecoder<"u"&&new TextDecoder,Zve=0;try{Yve.decode(Kve,{stream:!0}),Zve=1}catch{}const Qve=t=>t&&t.isCubeTexture;class e0e extends Yn{constructor(e,n){var r,i;const s=Qve(e),o=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(o)),u=Math.pow(2,l),f=3*Math.max(u,16*7),c=4*u,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/c}`,`#define CUBEUV_MAX_MIP ${l}.0`],d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,m=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${VI>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},v=new Wy(1,16),y=new Mi({uniforms:x,fragmentShader:m,vertexShader:d,side:Js});super(v,y)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var t0e=Object.defineProperty,n0e=(t,e,n)=>e in t?t0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r0e=(t,e,n)=>(n0e(t,e+"",n),n);class i0e{constructor(){r0e(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var s0e=Object.defineProperty,a0e=(t,e,n)=>e in t?s0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lt=(t,e,n)=>(a0e(t,typeof e!="symbol"?e+"":e,n),n);const yx=new vf,zF=new Xo,o0e=Math.cos(70*(Math.PI/180)),jF=(t,e)=>(t%e+e)%e;let l0e=class extends i0e{constructor(e,n){super(),Lt(this,"object"),Lt(this,"domElement"),Lt(this,"enabled",!0),Lt(this,"target",new J),Lt(this,"minDistance",0),Lt(this,"maxDistance",1/0),Lt(this,"minZoom",0),Lt(this,"maxZoom",1/0),Lt(this,"minPolarAngle",0),Lt(this,"maxPolarAngle",Math.PI),Lt(this,"minAzimuthAngle",-1/0),Lt(this,"maxAzimuthAngle",1/0),Lt(this,"enableDamping",!1),Lt(this,"dampingFactor",.05),Lt(this,"enableZoom",!0),Lt(this,"zoomSpeed",1),Lt(this,"enableRotate",!0),Lt(this,"rotateSpeed",1),Lt(this,"enablePan",!0),Lt(this,"panSpeed",1),Lt(this,"screenSpacePanning",!0),Lt(this,"keyPanSpeed",7),Lt(this,"zoomToCursor",!1),Lt(this,"autoRotate",!1),Lt(this,"autoRotateSpeed",2),Lt(this,"reverseOrbit",!1),Lt(this,"reverseHorizontalOrbit",!1),Lt(this,"reverseVerticalOrbit",!1),Lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Lt(this,"mouseButtons",{LEFT:gc.ROTATE,MIDDLE:gc.DOLLY,RIGHT:gc.PAN}),Lt(this,"touches",{ONE:yc.ROTATE,TWO:yc.DOLLY_PAN}),Lt(this,"target0"),Lt(this,"position0"),Lt(this,"zoom0"),Lt(this,"_domElementKeyEvents",null),Lt(this,"getPolarAngle"),Lt(this,"getAzimuthalAngle"),Lt(this,"setPolarAngle"),Lt(this,"setAzimuthalAngle"),Lt(this,"getDistance"),Lt(this,"getZoomScale"),Lt(this,"listenToKeyEvents"),Lt(this,"stopListenToKeyEvents"),Lt(this,"saveState"),Lt(this,"reset"),Lt(this,"update"),Lt(this,"connect"),Lt(this,"dispose"),Lt(this,"dollyIn"),Lt(this,"dollyOut"),Lt(this,"getScale"),Lt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=se=>{let be=jF(se,2*Math.PI),Ve=f.phi;Ve<0&&(Ve+=2*Math.PI),be<0&&(be+=2*Math.PI);let le=Math.abs(be-Ve);2*Math.PI-le<le&&(be<Ve?be+=2*Math.PI:Ve+=2*Math.PI),c.phi=be-Ve,r.update()},this.setAzimuthalAngle=se=>{let be=jF(se,2*Math.PI),Ve=f.theta;Ve<0&&(Ve+=2*Math.PI),be<0&&(be+=2*Math.PI);let le=Math.abs(be-Ve);2*Math.PI-le<le&&(be<Ve?be+=2*Math.PI:Ve+=2*Math.PI),c.theta=be-Ve,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=se=>{se.addEventListener("keydown",ge),this._domElementKeyEvents=se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ge),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const se=new J,be=new J(0,1,0),Ve=new Yr().setFromUnitVectors(e.up,be),le=Ve.clone().invert(),xe=new J,et=new Yr,pt=2*Math.PI;return function(){const Xe=r.object.position;Ve.setFromUnitVectors(e.up,be),le.copy(Ve).invert(),se.copy(Xe).sub(r.target),se.applyQuaternion(Ve),f.setFromVector3(se),r.autoRotate&&l===o.NONE&&j(B()),r.enableDamping?(f.theta+=c.theta*r.dampingFactor,f.phi+=c.phi*r.dampingFactor):(f.theta+=c.theta,f.phi+=c.phi);let gt=r.minAzimuthAngle,Rt=r.maxAzimuthAngle;isFinite(gt)&&isFinite(Rt)&&(gt<-Math.PI?gt+=pt:gt>Math.PI&&(gt-=pt),Rt<-Math.PI?Rt+=pt:Rt>Math.PI&&(Rt-=pt),gt<=Rt?f.theta=Math.max(gt,Math.min(Rt,f.theta)):f.theta=f.theta>(gt+Rt)/2?Math.max(gt,f.theta):Math.min(Rt,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.zoomToCursor&&R||r.object.isOrthographicCamera?f.radius=G(f.radius):f.radius=G(f.radius*h),se.setFromSpherical(f),se.applyQuaternion(le),Xe.copy(r.target).add(se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(c.theta*=1-r.dampingFactor,c.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(c.set(0,0,0),d.set(0,0,0));let sn=!1;if(r.zoomToCursor&&R){let Jt=null;if(r.object instanceof dr&&r.object.isPerspectiveCamera){const wr=se.length();Jt=G(wr*h);const Rr=wr-Jt;r.object.position.addScaledVector(P,Rr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const wr=new J(I.x,I.y,0);wr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),sn=!0;const Rr=new J(I.x,I.y,0);Rr.unproject(r.object),r.object.position.sub(Rr).add(wr),r.object.updateMatrixWorld(),Jt=se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Jt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Jt).add(r.object.position):(yx.origin.copy(r.object.position),yx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(yx.direction))<o0e?e.lookAt(r.target):(zF.setFromNormalAndCoplanarPoint(r.object.up,r.target),yx.intersectPlane(zF,r.target))))}else r.object instanceof mo&&r.object.isOrthographicCamera&&(sn=h!==1,sn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,R=!1,sn||xe.distanceToSquared(r.object.position)>u||8*(1-et.dot(r.object.quaternion))>u?(r.dispatchEvent(i),xe.copy(r.object.position),et.copy(r.object.quaternion),sn=!1,!0):!1}})(),this.connect=se=>{r.domElement=se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",$e),r.domElement.addEventListener("pointerdown",bt),r.domElement.addEventListener("pointercancel",$),r.domElement.addEventListener("wheel",de)},this.dispose=()=>{var se,be,Ve,le,xe,et;r.domElement&&(r.domElement.style.touchAction="auto"),(se=r.domElement)==null||se.removeEventListener("contextmenu",$e),(be=r.domElement)==null||be.removeEventListener("pointerdown",bt),(Ve=r.domElement)==null||Ve.removeEventListener("pointercancel",$),(le=r.domElement)==null||le.removeEventListener("wheel",de),(xe=r.domElement)==null||xe.ownerDocument.removeEventListener("pointermove",Y),(et=r.domElement)==null||et.ownerDocument.removeEventListener("pointerup",$),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ge)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,f=new $T,c=new $T;let h=1;const d=new J,m=new ze,x=new ze,v=new ze,y=new ze,_=new ze,b=new ze,w=new ze,E=new ze,A=new ze,P=new J,I=new ze;let R=!1;const M=[],k={};function B(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function j(se){r.reverseOrbit||r.reverseHorizontalOrbit?c.theta+=se:c.theta-=se}function V(se){r.reverseOrbit||r.reverseVerticalOrbit?c.phi+=se:c.phi-=se}const X=(()=>{const se=new J;return function(Ve,le){se.setFromMatrixColumn(le,0),se.multiplyScalar(-Ve),d.add(se)}})(),Z=(()=>{const se=new J;return function(Ve,le){r.screenSpacePanning===!0?se.setFromMatrixColumn(le,1):(se.setFromMatrixColumn(le,0),se.crossVectors(r.object.up,se)),se.multiplyScalar(Ve),d.add(se)}})(),L=(()=>{const se=new J;return function(Ve,le){const xe=r.domElement;if(xe&&r.object instanceof dr&&r.object.isPerspectiveCamera){const et=r.object.position;se.copy(et).sub(r.target);let pt=se.length();pt*=Math.tan(r.object.fov/2*Math.PI/180),X(2*Ve*pt/xe.clientHeight,r.object.matrix),Z(2*le*pt/xe.clientHeight,r.object.matrix)}else xe&&r.object instanceof mo&&r.object.isOrthographicCamera?(X(Ve*(r.object.right-r.object.left)/r.object.zoom/xe.clientWidth,r.object.matrix),Z(le*(r.object.top-r.object.bottom)/r.object.zoom/xe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(se){r.object instanceof dr&&r.object.isPerspectiveCamera||r.object instanceof mo&&r.object.isOrthographicCamera?h=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function N(se){W(h/se)}function q(se){W(h*se)}function te(se){if(!r.zoomToCursor||!r.domElement)return;R=!0;const be=r.domElement.getBoundingClientRect(),Ve=se.clientX-be.left,le=se.clientY-be.top,xe=be.width,et=be.height;I.x=Ve/xe*2-1,I.y=-(le/et)*2+1,P.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function G(se){return Math.max(r.minDistance,Math.min(r.maxDistance,se))}function Ie(se){m.set(se.clientX,se.clientY)}function Oe(se){te(se),w.set(se.clientX,se.clientY)}function ae(se){y.set(se.clientX,se.clientY)}function _e(se){x.set(se.clientX,se.clientY),v.subVectors(x,m).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(j(2*Math.PI*v.x/be.clientHeight),V(2*Math.PI*v.y/be.clientHeight)),m.copy(x),r.update()}function Ge(se){E.set(se.clientX,se.clientY),A.subVectors(E,w),A.y>0?N(H()):A.y<0&&q(H()),w.copy(E),r.update()}function we(se){_.set(se.clientX,se.clientY),b.subVectors(_,y).multiplyScalar(r.panSpeed),L(b.x,b.y),y.copy(_),r.update()}function Le(se){te(se),se.deltaY<0?q(H()):se.deltaY>0&&N(H()),r.update()}function Je(se){let be=!1;switch(se.code){case r.keys.UP:L(0,r.keyPanSpeed),be=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),be=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),be=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),be=!0;break}be&&(se.preventDefault(),r.update())}function Pe(){if(M.length==1)m.set(M[0].pageX,M[0].pageY);else{const se=.5*(M[0].pageX+M[1].pageX),be=.5*(M[0].pageY+M[1].pageY);m.set(se,be)}}function Q(){if(M.length==1)y.set(M[0].pageX,M[0].pageY);else{const se=.5*(M[0].pageX+M[1].pageX),be=.5*(M[0].pageY+M[1].pageY);y.set(se,be)}}function Me(){const se=M[0].pageX-M[1].pageX,be=M[0].pageY-M[1].pageY,Ve=Math.sqrt(se*se+be*be);w.set(0,Ve)}function Re(){r.enableZoom&&Me(),r.enablePan&&Q()}function Ce(){r.enableZoom&&Me(),r.enableRotate&&Pe()}function Ee(se){if(M.length==1)x.set(se.pageX,se.pageY);else{const Ve=_t(se),le=.5*(se.pageX+Ve.x),xe=.5*(se.pageY+Ve.y);x.set(le,xe)}v.subVectors(x,m).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(j(2*Math.PI*v.x/be.clientHeight),V(2*Math.PI*v.y/be.clientHeight)),m.copy(x)}function Ye(se){if(M.length==1)_.set(se.pageX,se.pageY);else{const be=_t(se),Ve=.5*(se.pageX+be.x),le=.5*(se.pageY+be.y);_.set(Ve,le)}b.subVectors(_,y).multiplyScalar(r.panSpeed),L(b.x,b.y),y.copy(_)}function qe(se){const be=_t(se),Ve=se.pageX-be.x,le=se.pageY-be.y,xe=Math.sqrt(Ve*Ve+le*le);E.set(0,xe),A.set(0,Math.pow(E.y/w.y,r.zoomSpeed)),N(A.y),w.copy(E)}function Qe(se){r.enableZoom&&qe(se),r.enablePan&&Ye(se)}function wt(se){r.enableZoom&&qe(se),r.enableRotate&&Ee(se)}function bt(se){var be,Ve;r.enabled!==!1&&(M.length===0&&((be=r.domElement)==null||be.ownerDocument.addEventListener("pointermove",Y),(Ve=r.domElement)==null||Ve.ownerDocument.addEventListener("pointerup",$)),nt(se),se.pointerType==="touch"?oe(se):ye(se))}function Y(se){r.enabled!==!1&&(se.pointerType==="touch"?pe(se):ne(se))}function $(se){var be,Ve,le;We(se),M.length===0&&((be=r.domElement)==null||be.releasePointerCapture(se.pointerId),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",Y),(le=r.domElement)==null||le.ownerDocument.removeEventListener("pointerup",$)),r.dispatchEvent(a),l=o.NONE}function ye(se){let be;switch(se.button){case 0:be=r.mouseButtons.LEFT;break;case 1:be=r.mouseButtons.MIDDLE;break;case 2:be=r.mouseButtons.RIGHT;break;default:be=-1}switch(be){case gc.DOLLY:if(r.enableZoom===!1)return;Oe(se),l=o.DOLLY;break;case gc.ROTATE:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enablePan===!1)return;ae(se),l=o.PAN}else{if(r.enableRotate===!1)return;Ie(se),l=o.ROTATE}break;case gc.PAN:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enableRotate===!1)return;Ie(se),l=o.ROTATE}else{if(r.enablePan===!1)return;ae(se),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function ne(se){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;_e(se);break;case o.DOLLY:if(r.enableZoom===!1)return;Ge(se);break;case o.PAN:if(r.enablePan===!1)return;we(se);break}}function de(se){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(se.preventDefault(),r.dispatchEvent(s),Le(se),r.dispatchEvent(a))}function ge(se){r.enabled===!1||r.enablePan===!1||Je(se)}function oe(se){switch(Ze(se),M.length){case 1:switch(r.touches.ONE){case yc.ROTATE:if(r.enableRotate===!1)return;Pe(),l=o.TOUCH_ROTATE;break;case yc.PAN:if(r.enablePan===!1)return;Q(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case yc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(),l=o.TOUCH_DOLLY_PAN;break;case yc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function pe(se){switch(Ze(se),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ee(se),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;Ye(se),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Qe(se),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;wt(se),r.update();break;default:l=o.NONE}}function $e(se){r.enabled!==!1&&se.preventDefault()}function nt(se){M.push(se)}function We(se){delete k[se.pointerId];for(let be=0;be<M.length;be++)if(M[be].pointerId==se.pointerId){M.splice(be,1);return}}function Ze(se){let be=k[se.pointerId];be===void 0&&(be=new ze,k[se.pointerId]=be),be.set(se.pageX,se.pageY)}function _t(se){const be=se.pointerId===M[0].pointerId?M[1]:M[0];return k[be.pointerId]}this.dollyIn=(se=H())=>{q(se),r.update()},this.dollyOut=(se=H())=>{N(se),r.update()},this.getScale=()=>h,this.setScale=se=>{W(se),r.update()},this.getZoomScale=()=>H(),n!==void 0&&this.connect(n),this.update()}};function Mb(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const Bc="srgb",il="srgb-linear",HF=3001,u0e=3e3;class WI extends li{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new p0e(n)}),this.register(function(n){return new m0e(n)}),this.register(function(n){return new A0e(n)}),this.register(function(n){return new E0e(n)}),this.register(function(n){return new M0e(n)}),this.register(function(n){return new y0e(n)}),this.register(function(n){return new v0e(n)}),this.register(function(n){return new x0e(n)}),this.register(function(n){return new b0e(n)}),this.register(function(n){return new d0e(n)}),this.register(function(n){return new _0e(n)}),this.register(function(n){return new g0e(n)}),this.register(function(n){return new S0e(n)}),this.register(function(n){return new w0e(n)}),this.register(function(n){return new f0e(n)}),this.register(function(n){return new C0e(n)}),this.register(function(n){return new T0e(n)})}load(e,n,r,i){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const u=vu.extractUrlBase(e);a=vu.resolveURL(u,this.path)}else a=vu.extractUrlBase(e);this.manager.itemStart(e);const o=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,a,function(f){n(f),s.manager.itemEnd(e)},o)}catch(f){o(f)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const a={},o={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Mb(new Uint8Array(e.slice(0,4)))===I$){try{a[ln.KHR_BINARY_GLTF]=new P0e(e)}catch(f){i&&i(f);return}s=JSON.parse(a[ln.KHR_BINARY_GLTF].content)}else s=JSON.parse(Mb(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new H0e(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](l);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[f.name]=f,a[f.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const f=s.extensionsUsed[u],c=s.extensionsRequired||[];switch(f){case ln.KHR_MATERIALS_UNLIT:a[f]=new h0e;break;case ln.KHR_DRACO_MESH_COMPRESSION:a[f]=new R0e(s,this.dracoLoader);break;case ln.KHR_TEXTURE_TRANSFORM:a[f]=new I0e;break;case ln.KHR_MESH_QUANTIZATION:a[f]=new O0e;break;default:c.indexOf(f)>=0&&o[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function c0e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const ln={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class f0e{constructor(e){this.parser=e,this.name=ln.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new dt(16777215);l.color!==void 0&&f.setRGB(l.color[0],l.color[1],l.color[2],il);const c=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new II(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new RI(f),u.distance=c;break;case"spot":u=new PI(f),u.distance=c,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Vo(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return r._getNodeRef(n.cache,o,l)})}}class h0e{constructor(){this.name=ln.KHR_MATERIALS_UNLIT}getMaterialType(){return es}extendParams(e,n,r){const i=[];e.color=new dt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],il),e.opacity=a[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Bc))}return Promise.all(i)}}class d0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class p0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ze(o,o)}return Promise.all(s)}}class m0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class g0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class y0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new dt(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;n.sheenColor.setRGB(o[0],o[1],o[2],il)}return a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",a.sheenColorTexture,Bc)),a.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class v0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class x0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return n.attenuationColor=new dt().setRGB(o[0],o[1],o[2],il),Promise.all(s)}}class b0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class _0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return n.specularColor=new dt().setRGB(o[0],o[1],o[2],il),a.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",a.specularColorTexture,Bc)),Promise.all(s)}}class w0e{constructor(e){this.parser=e,this.name=ln.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return n.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",a.bumpTexture)),Promise.all(s)}}class S0e{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:oa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class A0e{constructor(e){this.parser=e,this.name=ln.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,a)}}class E0e{constructor(e){this.parser=e,this.name=ln.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],o=i.images[a.source];let l=r.textureLoader;if(o.uri){const u=r.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class M0e{constructor(e){this.parser=e,this.name=ln.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],o=i.images[a.source];let l=r.textureLoader;if(o.uri){const u=r.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class C0e{constructor(e){this.name=ln.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=i.byteOffset||0,u=i.byteLength||0,f=i.count,c=i.byteStride,h=new Uint8Array(o,l,u);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(f,c,h,i.mode,i.filter).then(function(d){return d.buffer}):a.ready.then(function(){const d=new ArrayBuffer(f*c);return a.decodeGltfBuffer(new Uint8Array(d),f,c,h,i.mode,i.filter),d})})}else return null}}class T0e{constructor(e){this.name=ln.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Ws.TRIANGLES&&u.mode!==Ws.TRIANGLE_STRIP&&u.mode!==Ws.TRIANGLE_FAN&&u.mode!==void 0)return null;const a=r.extensions[this.name].attributes,o=[],l={};for(const u in a)o.push(this.parser.getDependency("accessor",a[u]).then(f=>(l[u]=f,l[u])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(u=>{const f=u.pop(),c=f.isGroup?f.children:[f],h=u[0].count,d=[];for(const m of c){const x=new Ut,v=new J,y=new Yr,_=new J(1,1,1),b=new hI(m.geometry,m.material,h);for(let w=0;w<h;w++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,w),l.SCALE&&_.fromBufferAttribute(l.SCALE,w),b.setMatrixAt(w,x.compose(v,y,_));for(const w in l)if(w==="_COLOR_0"){const E=l[w];b.instanceColor=new rf(E.array,E.itemSize,E.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&m.geometry.setAttribute(w,l[w]);pn.prototype.copy.call(b,m),this.parser.assignFinalMaterial(b),d.push(b)}return f.isGroup?(f.clear(),f.add(...d),f):d[0]}))}}const I$="glTF",om=12,GF={JSON:1313821514,BIN:5130562};class P0e{constructor(e){this.name=ln.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,om);if(this.header={magic:Mb(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==I$)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-om,i=new DataView(e,om);let s=0;for(;s<r;){const a=i.getUint32(s,!0);s+=4;const o=i.getUint32(s,!0);if(s+=4,o===GF.JSON){const l=new Uint8Array(e,om+s,a);this.content=Mb(l)}else if(o===GF.BIN){const l=om+s;this.body=e.slice(l,l+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class R0e{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ln.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},u={};for(const f in a){const c=ZT[f]||f.toLowerCase();o[c]=a[f]}for(const f in e.attributes){const c=ZT[f]||f.toLowerCase();if(a[f]!==void 0){const h=r.accessors[e.attributes[f]],d=Vh[h.componentType];u[c]=d.name,l[c]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(f){return new Promise(function(c,h){i.decodeDracoFile(f,function(d){for(const m in d.attributes){const x=d.attributes[m],v=l[m];v!==void 0&&(x.normalized=v)}c(d)},o,u,il,h)})})}}class I0e{constructor(){this.name=ln.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class O0e{constructor(){this.name=ln.KHR_MESH_QUANTIZATION}}class O$ extends np{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let a=0;a!==i;a++)n[a]=r[s+a];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,u=o*3,f=i-n,c=(r-n)/f,h=c*c,d=h*c,m=e*u,x=m-u,v=-2*d+3*h,y=d-h,_=1-v,b=y-h+c;for(let w=0;w!==o;w++){const E=a[x+w+o],A=a[x+w+l]*f,P=a[m+w+o],I=a[m+w]*f;s[w]=_*E+b*A+v*P+y*I}return s}}const k0e=new Yr;class N0e extends O${interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return k0e.fromArray(s).normalize().toArray(s),s}}const Ws={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Vh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$F={9728:Jr,9729:Pn,9984:iw,9985:Gh,9986:Pc,9987:Qs},VF={33071:vr,33648:ld,10497:Eu},CM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ZT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...VI>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Vl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},B0e={CUBICSPLINE:void 0,LINEAR:pd,STEP:dd},TM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function D0e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Ky({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:vo})),t.DefaultMaterial}function hc(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Vo(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function L0e(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const c=e[u];if(c.POSITION!==void 0&&(r=!0),c.NORMAL!==void 0&&(i=!0),c.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const a=[],o=[],l=[];for(let u=0,f=e.length;u<f;u++){const c=e[u];if(r){const h=c.POSITION!==void 0?n.getDependency("accessor",c.POSITION):t.attributes.position;a.push(h)}if(i){const h=c.NORMAL!==void 0?n.getDependency("accessor",c.NORMAL):t.attributes.normal;o.push(h)}if(s){const h=c.COLOR_0!==void 0?n.getDependency("accessor",c.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(u){const f=u[0],c=u[1],h=u[2];return r&&(t.morphAttributes.position=f),i&&(t.morphAttributes.normal=c),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function F0e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U0e(t){let e;const n=t.extensions&&t.extensions[ln.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+PM(n.attributes):e=t.indices+":"+PM(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+PM(t.targets[r]);return e}function PM(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function QT(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function z0e(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const j0e=new Ut;class H0e{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new c0e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new N9(this.options.manager):this.textureLoader=new H9(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ai(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(a){const o={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:r,userData:{}};return hc(s,o,i),Vo(o,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const a=n[i].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(r[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[u,f]of a.children.entries())s(f,o.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,a){return r.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[ln.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,a){r.load(vu.resolveURL(n.uri,i.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=CM[i.type],o=Vh[i.componentType],l=i.normalized===!0,u=new o(i.count*a);return Promise.resolve(new wn(u,a,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=CM[i.type],u=Vh[i.componentType],f=u.BYTES_PER_ELEMENT,c=f*l,h=i.byteOffset||0,d=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,m=i.normalized===!0;let x,v;if(d&&d!==c){const y=Math.floor(h/d),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let b=n.cache.get(_);b||(x=new u(o,y*d,i.count*d/f),b=new Hy(x,d/f),n.cache.add(_,b)),v=new Mu(b,l,h%d/f,m)}else o===null?x=new u(i.count*l):x=new u(o,h,i.count*l),v=new wn(x,l,m);if(i.sparse!==void 0){const y=CM.SCALAR,_=Vh[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,E=new _(a[1],b,i.sparse.count*y),A=new u(a[2],w,i.sparse.count*l);o!==null&&(v=new wn(v.array.slice(),v.itemSize,v.normalized));for(let P=0,I=E.length;P<I;P++){const R=E[P];if(v.setX(R,A[P*l]),l>=2&&v.setY(R,A[P*l+1]),l>=3&&v.setZ(R,A[P*l+2]),l>=4&&v.setW(R,A[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,a=n.images[s];let o=this.textureLoader;if(a.uri){const l=r.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,n,r){const i=this,s=this.json,a=s.textures[e],o=s.images[n],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(f){f.flipY=!1,f.name=a.name||o.name||"",f.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(f.name=o.uri);const h=(s.samplers||{})[a.sampler]||{};return f.magFilter=$F[h.magFilter]||Pn,f.minFilter=$F[h.minFilter]||Qs,f.wrapS=VF[h.wrapS]||Eu,f.wrapT=VF[h.wrapT]||Eu,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(c=>c.clone());const a=i.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",u=!1;if(a.bufferView!==void 0)l=r.getDependency("bufferView",a.bufferView).then(function(c){u=!0;const h=new Blob([c],{type:a.mimeType});return l=o.createObjectURL(h),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(c){return new Promise(function(h,d){let m=h;n.isImageBitmapLoader===!0&&(m=function(x){const v=new In(x);v.needsUpdate=!0,h(v)}),n.load(vu.resolveURL(c,s.path),m,void 0,d)})}).then(function(c){return u===!0&&o.revokeObjectURL(l),Vo(c,a),c.userData.mimeType=a.mimeType||z0e(a.uri),c}).catch(function(c){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),c});return this.sourceCache[e]=f,f}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(a){if(!a)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(a=a.clone(),a.channel=r.texCoord),s.extensions[ln.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[ln.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[ln.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===HF?Bc:il),"colorSpace"in a?a.colorSpace=i:a.encoding=i===Bc?HF:u0e),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new vw,Fr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(o,l)),r=l}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new Ti,Fr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(o,l)),r=l}if(i||s||a){let o="ClonedMaterial:"+r.uuid+":";i&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=r.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Ky}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let a;const o={},l=s.extensions||{},u=[];if(l[ln.KHR_MATERIALS_UNLIT]){const c=i[ln.KHR_MATERIALS_UNLIT];a=c.getMaterialType(),u.push(c.extendParams(o,s,n))}else{const c=s.pbrMetallicRoughness||{};if(o.color=new dt(1,1,1),o.opacity=1,Array.isArray(c.baseColorFactor)){const h=c.baseColorFactor;o.color.setRGB(h[0],h[1],h[2],il),o.opacity=h[3]}c.baseColorTexture!==void 0&&u.push(n.assignTexture(o,"map",c.baseColorTexture,Bc)),o.metalness=c.metallicFactor!==void 0?c.metallicFactor:1,o.roughness=c.roughnessFactor!==void 0?c.roughnessFactor:1,c.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(o,"metalnessMap",c.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",c.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=Js);const f=s.alphaMode||TM.OPAQUE;if(f===TM.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===TM.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==es&&(u.push(n.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new ze(1,1),s.normalTexture.scale!==void 0)){const c=s.normalTexture.scale;o.normalScale.set(c,c)}if(s.occlusionTexture!==void 0&&a!==es&&(u.push(n.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==es){const c=s.emissiveFactor;o.emissive=new dt().setRGB(c[0],c[1],c[2],il)}return s.emissiveTexture!==void 0&&a!==es&&u.push(n.assignTexture(o,"emissiveMap",s.emissiveTexture,Bc)),Promise.all(u).then(function(){const c=new a(o);return s.name&&(c.name=s.name),Vo(c,s),n.associations.set(c,{materials:e}),s.extensions&&hc(i,c,s),c})}createUniqueName(e){const n=mn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(o){return r[ln.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return WF(l,o,n)})}const a=[];for(let o=0,l=e.length;o<l;o++){const u=e[o],f=U0e(u),c=i[f];if(c)a.push(c.promise);else{let h;u.extensions&&u.extensions[ln.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=WF(new $t,u,n),i[f]={primitive:u,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],a=s.primitives,o=[];for(let l=0,u=a.length;l<u;l++){const f=a[l].material===void 0?D0e(this.cache):this.getDependency("material",a[l].material);o.push(f)}return o.push(n.loadGeometries(a)),Promise.all(o).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],c=[];for(let d=0,m=f.length;d<m;d++){const x=f[d],v=a[d];let y;const _=u[d];if(v.mode===Ws.TRIANGLES||v.mode===Ws.TRIANGLE_STRIP||v.mode===Ws.TRIANGLE_FAN||v.mode===void 0)y=s.isSkinnedMesh===!0?new fI(x,_):new Yn(x,_),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),v.mode===Ws.TRIANGLE_STRIP?y.geometry=UF(y.geometry,rI):v.mode===Ws.TRIANGLE_FAN&&(y.geometry=UF(y.geometry,_b));else if(v.mode===Ws.LINES)y=new Ga(x,_);else if(v.mode===Ws.LINE_STRIP)y=new dl(x,_);else if(v.mode===Ws.LINE_LOOP)y=new dI(x,_);else if(v.mode===Ws.POINTS)y=new pI(x,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(y.geometry.morphAttributes).length>0&&F0e(y,s),y.name=n.createUniqueName(s.name||"mesh_"+e),Vo(y,s),v.extensions&&hc(i,y,v),n.assignFinalMaterial(y),c.push(y)}for(let d=0,m=c.length;d<m;d++)n.associations.set(c[d],{meshes:e,primitives:d});if(c.length===1)return s.extensions&&hc(i,c[0],s),c[0];const h=new Zo;s.extensions&&hc(i,h,s),n.associations.set(h,{meshes:e});for(let d=0,m=c.length;d<m;d++)h.add(c[d]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new dr(K6.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new mo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Vo(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),a=i,o=[],l=[];for(let u=0,f=a.length;u<f;u++){const c=a[u];if(c){o.push(c);const h=new Ut;s!==null&&h.fromArray(s.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new Gy(o,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,a=[],o=[],l=[],u=[],f=[];for(let c=0,h=i.channels.length;c<h;c++){const d=i.channels[c],m=i.samplers[d.sampler],x=d.target,v=x.node,y=i.parameters!==void 0?i.parameters[m.input]:m.input,_=i.parameters!==void 0?i.parameters[m.output]:m.output;x.node!==void 0&&(a.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),l.push(this.getDependency("accessor",_)),u.push(m),f.push(x))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(u),Promise.all(f)]).then(function(c){const h=c[0],d=c[1],m=c[2],x=c[3],v=c[4],y=[];for(let _=0,b=h.length;_<b;_++){const w=h[_],E=d[_],A=m[_],P=x[_],I=v[_];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const R=r._createAnimationTracks(w,E,A,P,I);if(R)for(let M=0;M<R.length;M++)y.push(R[M])}return new xd(s,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const a=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,u=i.weights.length;l<u;l++)o.morphTargetInfluences[l]=i.weights[l]}),a})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),a=[],o=i.children||[];for(let u=0,f=o.length;u<f;u++)a.push(r.getDependency("node",o[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(a),l]).then(function(u){const f=u[0],c=u[1],h=u[2];h!==null&&f.traverse(function(d){d.isSkinnedMesh&&d.bind(h,j0e)});for(let d=0,m=c.length;d<m;d++)f.add(c[d]);return f})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],a=s.name?i.createUniqueName(s.name):"",o=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){o.push(u)}),this.nodeCache[e]=Promise.all(o).then(function(u){let f;if(s.isBone===!0?f=new gw:u.length>1?f=new Zo:u.length===1?f=u[0]:f=new pn,f!==u[0])for(let c=0,h=u.length;c<h;c++)f.add(u[c]);if(s.name&&(f.userData.name=s.name,f.name=a),Vo(f,s),s.extensions&&hc(r,f,s),s.matrix!==void 0){const c=new Ut;c.fromArray(s.matrix),f.applyMatrix4(c)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Zo;r.name&&(s.name=i.createUniqueName(r.name)),Vo(s,r),r.extensions&&hc(n,s,r);const a=r.nodes||[],o=[];for(let l=0,u=a.length;l<u;l++)o.push(i.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let f=0,c=l.length;f<c;f++)s.add(l[f]);const u=f=>{const c=new Map;for(const[h,d]of i.associations)(h instanceof Fr||h instanceof In)&&c.set(h,d);return f.traverse(h=>{const d=i.associations.get(h);d!=null&&c.set(h,d)}),c};return i.associations=u(s),s})}_createAnimationTracks(e,n,r,i,s){const a=[],o=e.name?e.name:e.uuid,l=[];Vl[s.path]===Vl.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(o);let u;switch(Vl[s.path]){case Vl.weights:u=af;break;case Vl.rotation:u=of;break;case Vl.position:case Vl.scale:u=lf;break;default:switch(r.itemSize){case 1:u=af;break;case 2:case 3:default:u=lf;break}break}const f=i.interpolation!==void 0?B0e[i.interpolation]:pd,c=this._getArrayFromAccessor(r);for(let h=0,d=l.length;h<d;h++){const m=new u(l[h]+"."+Vl[s.path],n.array,c,f);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),a.push(m)}return a}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=QT(n.constructor),i=new Float32Array(n.length);for(let s=0,a=n.length;s<a;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof of?N0e:O$;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function G0e(t,e,n){const r=e.attributes,i=new Zr;if(r.POSITION!==void 0){const o=n.json.accessors[r.POSITION],l=o.min,u=o.max;if(l!==void 0&&u!==void 0){if(i.set(new J(l[0],l[1],l[2]),new J(u[0],u[1],u[2])),o.normalized){const f=QT(Vh[o.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new J,l=new J;for(let u=0,f=s.length;u<f;u++){const c=s[u];if(c.POSITION!==void 0){const h=n.json.accessors[c.POSITION],d=h.min,m=h.max;if(d!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(m[2]))),h.normalized){const x=QT(Vh[h.componentType]);l.multiplyScalar(x)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}t.boundingBox=i;const a=new Qr;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=a}function WF(t,e,n){const r=e.attributes,i=[];function s(a,o){return n.getDependency("accessor",a).then(function(l){t.setAttribute(o,l)})}for(const a in r){const o=ZT[a]||a.toLowerCase();o in t.attributes||i.push(s(r[a],o))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});i.push(a)}return Vo(t,e),G0e(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?L0e(t,e.targets,n):t})}const $0e={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},V0e={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class W0e extends CI{constructor(e){super(e),this.type=qr}parse(e){const a=function(I,R){switch(I){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(R||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(R||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(R||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(R||""))}},f=`
`,c=function(I,R,M){R=R||1024;let B=I.pos,H=-1,j=0,V="",X=String.fromCharCode.apply(null,new Uint16Array(I.subarray(B,B+128)));for(;0>(H=X.indexOf(f))&&j<R&&B<I.byteLength;)V+=X,j+=X.length,B+=128,X+=String.fromCharCode.apply(null,new Uint16Array(I.subarray(B,B+128)));return-1<H?(I.pos+=j+H+1,V+X.slice(0,H)):!1},h=function(I){const R=/^#\?(\S+)/,M=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*FORMAT=(\S+)\s*$/,H=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,j={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,X;for((I.pos>=I.byteLength||!(V=c(I)))&&a(1,"no header found"),(X=V.match(R))||a(3,"bad initial token"),j.valid|=1,j.programtype=X[1],j.string+=V+`
`;V=c(I),V!==!1;){if(j.string+=V+`
`,V.charAt(0)==="#"){j.comments+=V+`
`;continue}if((X=V.match(M))&&(j.gamma=parseFloat(X[1])),(X=V.match(k))&&(j.exposure=parseFloat(X[1])),(X=V.match(B))&&(j.valid|=2,j.format=X[1]),(X=V.match(H))&&(j.valid|=4,j.height=parseInt(X[1],10),j.width=parseInt(X[2],10)),j.valid&2&&j.valid&4)break}return j.valid&2||a(3,"missing format specifier"),j.valid&4||a(3,"missing image size specifier"),j},d=function(I,R,M){const k=R;if(k<8||k>32767||I[0]!==2||I[1]!==2||I[2]&128)return new Uint8Array(I);k!==(I[2]<<8|I[3])&&a(3,"wrong scanline width");const B=new Uint8Array(4*R*M);B.length||a(4,"unable to allocate buffer space");let H=0,j=0;const V=4*k,X=new Uint8Array(4),Z=new Uint8Array(V);let L=M;for(;L>0&&j<I.byteLength;){j+4>I.byteLength&&a(1),X[0]=I[j++],X[1]=I[j++],X[2]=I[j++],X[3]=I[j++],(X[0]!=2||X[1]!=2||(X[2]<<8|X[3])!=k)&&a(3,"bad rgbe scanline format");let W=0,N;for(;W<V&&j<I.byteLength;){N=I[j++];const te=N>128;if(te&&(N-=128),(N===0||W+N>V)&&a(3,"bad scanline data"),te){const G=I[j++];for(let Ie=0;Ie<N;Ie++)Z[W++]=G}else Z.set(I.subarray(j,j+N),W),W+=N,j+=N}const q=k;for(let te=0;te<q;te++){let G=0;B[H]=Z[te+G],G+=k,B[H+1]=Z[te+G],G+=k,B[H+2]=Z[te+G],G+=k,B[H+3]=Z[te+G],H+=4}L--}return B},m=function(I,R,M,k){const B=I[R+3],H=Math.pow(2,B-128)/255;M[k+0]=I[R+0]*H,M[k+1]=I[R+1]*H,M[k+2]=I[R+2]*H,M[k+3]=1},x=function(I,R,M,k){const B=I[R+3],H=Math.pow(2,B-128)/255;M[k+0]=Oc.toHalfFloat(Math.min(I[R+0]*H,65504)),M[k+1]=Oc.toHalfFloat(Math.min(I[R+1]*H,65504)),M[k+2]=Oc.toHalfFloat(Math.min(I[R+2]*H,65504)),M[k+3]=Oc.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const y=h(v),_=y.width,b=y.height,w=d(v.subarray(v.pos),_,b);let E,A,P;switch(this.type){case sr:P=w.length/4;const I=new Float32Array(P*4);for(let M=0;M<P;M++)m(w,M*4,I,M*4);E=I,A=sr;break;case qr:P=w.length/4;const R=new Uint16Array(P*4);for(let M=0;M<P;M++)x(w,M*4,R,M*4);E=R,A=qr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:b,data:E,header:y.string,gamma:y.gamma,exposure:y.exposure,type:A}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(a,o){switch(a.type){case sr:case qr:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=Pn,a.magFilter=Pn,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,o)}return super.load(e,s,r,i)}}const lm=VI>=152;class X0e extends CI{constructor(e){super(e),this.type=qr}parse(e){const R=Math.pow(2.7182818,2.2);function M(z,K){for(var fe=0,Ae=0;Ae<65536;++Ae)(Ae==0||z[Ae>>3]&1<<(Ae&7))&&(K[fe++]=Ae);for(var Ne=fe-1;fe<65536;)K[fe++]=0;return Ne}function k(z){for(var K=0;K<16384;K++)z[K]={},z[K].len=0,z[K].lit=0,z[K].p=null}const B={l:0,c:0,lc:0};function H(z,K,fe,Ae,Ne){for(;fe<z;)K=K<<8|_t(Ae,Ne),fe+=8;fe-=z,B.l=K>>fe&(1<<z)-1,B.c=K,B.lc=fe}const j=new Array(59);function V(z){for(var K=0;K<=58;++K)j[K]=0;for(var K=0;K<65537;++K)j[z[K]]+=1;for(var fe=0,K=58;K>0;--K){var Ae=fe+j[K]>>1;j[K]=fe,fe=Ae}for(var K=0;K<65537;++K){var Ne=z[K];Ne>0&&(z[K]=Ne|j[Ne]++<<6)}}function X(z,K,fe,Ae,Ne,Be,st){for(var F=fe,re=0,ue=0;Ne<=Be;Ne++){if(F.value-fe.value>Ae)return!1;H(6,re,ue,z,F);var ce=B.l;if(re=B.c,ue=B.lc,st[Ne]=ce,ce==63){if(F.value-fe.value>Ae)throw"Something wrong with hufUnpackEncTable";H(8,re,ue,z,F);var ie=B.l+6;if(re=B.c,ue=B.lc,Ne+ie>Be+1)throw"Something wrong with hufUnpackEncTable";for(;ie--;)st[Ne++]=0;Ne--}else if(ce>=59){var ie=ce-59+2;if(Ne+ie>Be+1)throw"Something wrong with hufUnpackEncTable";for(;ie--;)st[Ne++]=0;Ne--}}V(st)}function Z(z){return z&63}function L(z){return z>>6}function W(z,K,fe,Ae){for(;K<=fe;K++){var Ne=L(z[K]),Be=Z(z[K]);if(Ne>>Be)throw"Invalid table entry";if(Be>14){var st=Ae[Ne>>Be-14];if(st.len)throw"Invalid table entry";if(st.lit++,st.p){var F=st.p;st.p=new Array(st.lit);for(var re=0;re<st.lit-1;++re)st.p[re]=F[re]}else st.p=new Array(1);st.p[st.lit-1]=K}else if(Be)for(var ue=0,re=1<<14-Be;re>0;re--){var st=Ae[(Ne<<14-Be)+ue];if(st.len||st.p)throw"Invalid table entry";st.len=Be,st.lit=K,ue++}}return!0}const N={c:0,lc:0};function q(z,K,fe,Ae){z=z<<8|_t(fe,Ae),K+=8,N.c=z,N.lc=K}const te={c:0,lc:0};function G(z,K,fe,Ae,Ne,Be,st,F,re,ue){if(z==K){Ae<8&&(q(fe,Ae,Ne,st),fe=N.c,Ae=N.lc),Ae-=8;var ce=fe>>Ae,ce=new Uint8Array([ce])[0];if(re.value+ce>ue)return!1;for(var ie=F[re.value-1];ce-- >0;)F[re.value++]=ie}else if(re.value<ue)F[re.value++]=z;else return!1;te.c=fe,te.lc=Ae}function Ie(z){return z&65535}function Oe(z){var K=Ie(z);return K>32767?K-65536:K}const ae={a:0,b:0};function _e(z,K){var fe=Oe(z),Ae=Oe(K),Ne=Ae,Be=fe+(Ne&1)+(Ne>>1),st=Be,F=Be-Ne;ae.a=st,ae.b=F}function Ge(z,K){var fe=Ie(z),Ae=Ie(K),Ne=fe-(Ae>>1)&65535,Be=Ae+Ne-32768&65535;ae.a=Be,ae.b=Ne}function we(z,K,fe,Ae,Ne,Be,st){for(var F=st<16384,re=fe>Ne?Ne:fe,ue=1,ce;ue<=re;)ue<<=1;for(ue>>=1,ce=ue,ue>>=1;ue>=1;){for(var ie=0,je=ie+Be*(Ne-ce),De=Be*ue,He=Be*ce,Ke=Ae*ue,it=Ae*ce,ut,ot,ct,xt;ie<=je;ie+=He){for(var Tt=ie,Nt=ie+Ae*(fe-ce);Tt<=Nt;Tt+=it){var St=Tt+Ke,ht=Tt+De,en=ht+Ke;F?(_e(z[Tt+K],z[ht+K]),ut=ae.a,ct=ae.b,_e(z[St+K],z[en+K]),ot=ae.a,xt=ae.b,_e(ut,ot),z[Tt+K]=ae.a,z[St+K]=ae.b,_e(ct,xt),z[ht+K]=ae.a,z[en+K]=ae.b):(Ge(z[Tt+K],z[ht+K]),ut=ae.a,ct=ae.b,Ge(z[St+K],z[en+K]),ot=ae.a,xt=ae.b,Ge(ut,ot),z[Tt+K]=ae.a,z[St+K]=ae.b,Ge(ct,xt),z[ht+K]=ae.a,z[en+K]=ae.b)}if(fe&ue){var ht=Tt+De;F?_e(z[Tt+K],z[ht+K]):Ge(z[Tt+K],z[ht+K]),ut=ae.a,z[ht+K]=ae.b,z[Tt+K]=ut}}if(Ne&ue)for(var Tt=ie,Nt=ie+Ae*(fe-ce);Tt<=Nt;Tt+=it){var St=Tt+Ke;F?_e(z[Tt+K],z[St+K]):Ge(z[Tt+K],z[St+K]),ut=ae.a,z[St+K]=ae.b,z[Tt+K]=ut}ce=ue,ue>>=1}return ie}function Le(z,K,fe,Ae,Ne,Be,st,F,re,ue){for(var ce=0,ie=0,je=F,De=Math.trunc(Ne.value+(Be+7)/8);Ne.value<De;)for(q(ce,ie,fe,Ne),ce=N.c,ie=N.lc;ie>=14;){var He=ce>>ie-14&16383,Ke=K[He];if(Ke.len)ie-=Ke.len,G(Ke.lit,st,ce,ie,fe,Ae,Ne,re,ue,je),ce=te.c,ie=te.lc;else{if(!Ke.p)throw"hufDecode issues";var it;for(it=0;it<Ke.lit;it++){for(var ut=Z(z[Ke.p[it]]);ie<ut&&Ne.value<De;)q(ce,ie,fe,Ne),ce=N.c,ie=N.lc;if(ie>=ut&&L(z[Ke.p[it]])==(ce>>ie-ut&(1<<ut)-1)){ie-=ut,G(Ke.p[it],st,ce,ie,fe,Ae,Ne,re,ue,je),ce=te.c,ie=te.lc;break}}if(it==Ke.lit)throw"hufDecode issues"}}var ot=8-Be&7;for(ce>>=ot,ie-=ot;ie>0;){var Ke=K[ce<<14-ie&16383];if(Ke.len)ie-=Ke.len,G(Ke.lit,st,ce,ie,fe,Ae,Ne,re,ue,je),ce=te.c,ie=te.lc;else throw"hufDecode issues"}return!0}function Je(z,K,fe,Ae,Ne,Be){var st={value:0},F=fe.value,re=Ze(K,fe),ue=Ze(K,fe);fe.value+=4;var ce=Ze(K,fe);if(fe.value+=4,re<0||re>=65537||ue<0||ue>=65537)throw"Something wrong with HUF_ENCSIZE";var ie=new Array(65537),je=new Array(16384);k(je);var De=Ae-(fe.value-F);if(X(z,K,fe,De,re,ue,ie),ce>8*(Ae-(fe.value-F)))throw"Something wrong with hufUncompress";W(ie,re,ue,je),Le(ie,je,z,K,fe,ce,ue,Be,Ne,st)}function Pe(z,K,fe){for(var Ae=0;Ae<fe;++Ae)K[Ae]=z[K[Ae]]}function Q(z){for(var K=1;K<z.length;K++){var fe=z[K-1]+z[K]-128;z[K]=fe}}function Me(z,K){for(var fe=0,Ae=Math.floor((z.length+1)/2),Ne=0,Be=z.length-1;!(Ne>Be||(K[Ne++]=z[fe++],Ne>Be));)K[Ne++]=z[Ae++]}function Re(z){for(var K=z.byteLength,fe=new Array,Ae=0,Ne=new DataView(z);K>0;){var Be=Ne.getInt8(Ae++);if(Be<0){var st=-Be;K-=st+1;for(var F=0;F<st;F++)fe.push(Ne.getUint8(Ae++))}else{var st=Be;K-=2;for(var re=Ne.getUint8(Ae++),F=0;F<st+1;F++)fe.push(re)}}return fe}function Ce(z,K,fe,Ae,Ne,Be){var St=new DataView(Be.buffer),st=fe[z.idx[0]].width,F=fe[z.idx[0]].height,re=3,ue=Math.floor(st/8),ce=Math.ceil(st/8),ie=Math.ceil(F/8),je=st-(ce-1)*8,De=F-(ie-1)*8,He={value:0},Ke=new Array(re),it=new Array(re),ut=new Array(re),ot=new Array(re),ct=new Array(re);for(let an=0;an<re;++an)ct[an]=K[z.idx[an]],Ke[an]=an<1?0:Ke[an-1]+ce*ie,it[an]=new Float32Array(64),ut[an]=new Uint16Array(64),ot[an]=new Uint16Array(ce*64);for(let an=0;an<ie;++an){var xt=8;an==ie-1&&(xt=De);var Tt=8;for(let hn=0;hn<ce;++hn){hn==ce-1&&(Tt=je);for(let kt=0;kt<re;++kt)ut[kt].fill(0),ut[kt][0]=Ne[Ke[kt]++],Ee(He,Ae,ut[kt]),Ye(ut[kt],it[kt]),qe(it[kt]);Qe(it);for(let kt=0;kt<re;++kt)wt(it[kt],ot[kt],hn*64)}let vn=0;for(let hn=0;hn<re;++hn){const kt=fe[z.idx[hn]].type;for(let on=8*an;on<8*an+xt;++on){vn=ct[hn][on];for(let lr=0;lr<ue;++lr){const Tn=lr*64+(on&7)*8;St.setUint16(vn+0*2*kt,ot[hn][Tn+0],!0),St.setUint16(vn+1*2*kt,ot[hn][Tn+1],!0),St.setUint16(vn+2*2*kt,ot[hn][Tn+2],!0),St.setUint16(vn+3*2*kt,ot[hn][Tn+3],!0),St.setUint16(vn+4*2*kt,ot[hn][Tn+4],!0),St.setUint16(vn+5*2*kt,ot[hn][Tn+5],!0),St.setUint16(vn+6*2*kt,ot[hn][Tn+6],!0),St.setUint16(vn+7*2*kt,ot[hn][Tn+7],!0),vn+=8*2*kt}}if(ue!=ce)for(let on=8*an;on<8*an+xt;++on){const lr=ct[hn][on]+8*ue*2*kt,Tn=ue*64+(on&7)*8;for(let Vn=0;Vn<Tt;++Vn)St.setUint16(lr+Vn*2*kt,ot[hn][Tn+Vn],!0)}}}for(var Nt=new Uint16Array(st),St=new DataView(Be.buffer),ht=0;ht<re;++ht){fe[z.idx[ht]].decoded=!0;var en=fe[z.idx[ht]].type;if(fe[ht].type==2)for(var Bt=0;Bt<F;++Bt){const an=ct[ht][Bt];for(var Cn=0;Cn<st;++Cn)Nt[Cn]=St.getUint16(an+Cn*2*en,!0);for(var Cn=0;Cn<st;++Cn)St.setFloat32(an+Cn*2*en,xe(Nt[Cn]),!0)}}}function Ee(z,K,fe){for(var Ae,Ne=1;Ne<64;)Ae=K[z.value],Ae==65280?Ne=64:Ae>>8==255?Ne+=Ae&255:(fe[Ne]=Ae,Ne++),z.value++}function Ye(z,K){K[0]=xe(z[0]),K[1]=xe(z[1]),K[2]=xe(z[5]),K[3]=xe(z[6]),K[4]=xe(z[14]),K[5]=xe(z[15]),K[6]=xe(z[27]),K[7]=xe(z[28]),K[8]=xe(z[2]),K[9]=xe(z[4]),K[10]=xe(z[7]),K[11]=xe(z[13]),K[12]=xe(z[16]),K[13]=xe(z[26]),K[14]=xe(z[29]),K[15]=xe(z[42]),K[16]=xe(z[3]),K[17]=xe(z[8]),K[18]=xe(z[12]),K[19]=xe(z[17]),K[20]=xe(z[25]),K[21]=xe(z[30]),K[22]=xe(z[41]),K[23]=xe(z[43]),K[24]=xe(z[9]),K[25]=xe(z[11]),K[26]=xe(z[18]),K[27]=xe(z[24]),K[28]=xe(z[31]),K[29]=xe(z[40]),K[30]=xe(z[44]),K[31]=xe(z[53]),K[32]=xe(z[10]),K[33]=xe(z[19]),K[34]=xe(z[23]),K[35]=xe(z[32]),K[36]=xe(z[39]),K[37]=xe(z[45]),K[38]=xe(z[52]),K[39]=xe(z[54]),K[40]=xe(z[20]),K[41]=xe(z[22]),K[42]=xe(z[33]),K[43]=xe(z[38]),K[44]=xe(z[46]),K[45]=xe(z[51]),K[46]=xe(z[55]),K[47]=xe(z[60]),K[48]=xe(z[21]),K[49]=xe(z[34]),K[50]=xe(z[37]),K[51]=xe(z[47]),K[52]=xe(z[50]),K[53]=xe(z[56]),K[54]=xe(z[59]),K[55]=xe(z[61]),K[56]=xe(z[35]),K[57]=xe(z[36]),K[58]=xe(z[48]),K[59]=xe(z[49]),K[60]=xe(z[57]),K[61]=xe(z[58]),K[62]=xe(z[62]),K[63]=xe(z[63])}function qe(z){const K=.5*Math.cos(.7853975),fe=.5*Math.cos(3.14159/16),Ae=.5*Math.cos(3.14159/8),Ne=.5*Math.cos(3*3.14159/16),Be=.5*Math.cos(5*3.14159/16),st=.5*Math.cos(3*3.14159/8),F=.5*Math.cos(7*3.14159/16);for(var re=new Array(4),ue=new Array(4),ce=new Array(4),ie=new Array(4),je=0;je<8;++je){var De=je*8;re[0]=Ae*z[De+2],re[1]=st*z[De+2],re[2]=Ae*z[De+6],re[3]=st*z[De+6],ue[0]=fe*z[De+1]+Ne*z[De+3]+Be*z[De+5]+F*z[De+7],ue[1]=Ne*z[De+1]-F*z[De+3]-fe*z[De+5]-Be*z[De+7],ue[2]=Be*z[De+1]-fe*z[De+3]+F*z[De+5]+Ne*z[De+7],ue[3]=F*z[De+1]-Be*z[De+3]+Ne*z[De+5]-fe*z[De+7],ce[0]=K*(z[De+0]+z[De+4]),ce[3]=K*(z[De+0]-z[De+4]),ce[1]=re[0]+re[3],ce[2]=re[1]-re[2],ie[0]=ce[0]+ce[1],ie[1]=ce[3]+ce[2],ie[2]=ce[3]-ce[2],ie[3]=ce[0]-ce[1],z[De+0]=ie[0]+ue[0],z[De+1]=ie[1]+ue[1],z[De+2]=ie[2]+ue[2],z[De+3]=ie[3]+ue[3],z[De+4]=ie[3]-ue[3],z[De+5]=ie[2]-ue[2],z[De+6]=ie[1]-ue[1],z[De+7]=ie[0]-ue[0]}for(var He=0;He<8;++He)re[0]=Ae*z[16+He],re[1]=st*z[16+He],re[2]=Ae*z[48+He],re[3]=st*z[48+He],ue[0]=fe*z[8+He]+Ne*z[24+He]+Be*z[40+He]+F*z[56+He],ue[1]=Ne*z[8+He]-F*z[24+He]-fe*z[40+He]-Be*z[56+He],ue[2]=Be*z[8+He]-fe*z[24+He]+F*z[40+He]+Ne*z[56+He],ue[3]=F*z[8+He]-Be*z[24+He]+Ne*z[40+He]-fe*z[56+He],ce[0]=K*(z[He]+z[32+He]),ce[3]=K*(z[He]-z[32+He]),ce[1]=re[0]+re[3],ce[2]=re[1]-re[2],ie[0]=ce[0]+ce[1],ie[1]=ce[3]+ce[2],ie[2]=ce[3]-ce[2],ie[3]=ce[0]-ce[1],z[0+He]=ie[0]+ue[0],z[8+He]=ie[1]+ue[1],z[16+He]=ie[2]+ue[2],z[24+He]=ie[3]+ue[3],z[32+He]=ie[3]-ue[3],z[40+He]=ie[2]-ue[2],z[48+He]=ie[1]-ue[1],z[56+He]=ie[0]-ue[0]}function Qe(z){for(var K=0;K<64;++K){var fe=z[0][K],Ae=z[1][K],Ne=z[2][K];z[0][K]=fe+1.5747*Ne,z[1][K]=fe-.1873*Ae-.4682*Ne,z[2][K]=fe+1.8556*Ae}}function wt(z,K,fe){for(var Ae=0;Ae<64;++Ae)K[fe+Ae]=Oc.toHalfFloat(bt(z[Ae]))}function bt(z){return z<=1?Math.sign(z)*Math.pow(Math.abs(z),2.2):Math.sign(z)*Math.pow(R,Math.abs(z)-1)}function Y(z){return new DataView(z.array.buffer,z.offset.value,z.size)}function $(z){var K=z.viewer.buffer.slice(z.offset.value,z.offset.value+z.size),fe=new Uint8Array(Re(K)),Ae=new Uint8Array(fe.length);return Q(fe),Me(fe,Ae),new DataView(Ae.buffer)}function ye(z){var K=z.array.slice(z.offset.value,z.offset.value+z.size),fe=gx(K),Ae=new Uint8Array(fe.length);return Q(fe),Me(fe,Ae),new DataView(Ae.buffer)}function ne(z){for(var K=z.viewer,fe={value:z.offset.value},Ae=new Uint16Array(z.width*z.scanlineBlockSize*(z.channels*z.type)),Ne=new Uint8Array(8192),Be=0,st=new Array(z.channels),F=0;F<z.channels;F++)st[F]={},st[F].start=Be,st[F].end=st[F].start,st[F].nx=z.width,st[F].ny=z.lines,st[F].size=z.type,Be+=st[F].nx*st[F].ny*st[F].size;var re=et(K,fe),ue=et(K,fe);if(ue>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(re<=ue)for(var F=0;F<ue-re+1;F++)Ne[F+re]=se(K,fe);var ce=new Uint16Array(65536),ie=M(Ne,ce),je=Ze(K,fe);Je(z.array,K,fe,je,Ae,Be);for(var F=0;F<z.channels;++F)for(var De=st[F],He=0;He<st[F].size;++He)we(Ae,De.start+He,De.nx,De.size,De.ny,De.nx*De.size,ie);Pe(ce,Ae,Be);for(var Ke=0,it=new Uint8Array(Ae.buffer.byteLength),ut=0;ut<z.lines;ut++)for(var ot=0;ot<z.channels;ot++){var De=st[ot],ct=De.nx*De.size,xt=new Uint8Array(Ae.buffer,De.end*2,ct*2);it.set(xt,Ke),Ke+=ct*2,De.end+=ct}return new DataView(it.buffer)}function de(z){var K=z.array.slice(z.offset.value,z.offset.value+z.size),fe=gx(K);const Ae=z.lines*z.channels*z.width,Ne=z.type==1?new Uint16Array(Ae):new Uint32Array(Ae);let Be=0,st=0;const F=new Array(4);for(let re=0;re<z.lines;re++)for(let ue=0;ue<z.channels;ue++){let ce=0;switch(z.type){case 1:F[0]=Be,F[1]=F[0]+z.width,Be=F[1]+z.width;for(let ie=0;ie<z.width;++ie){const je=fe[F[0]++]<<8|fe[F[1]++];ce+=je,Ne[st]=ce,st++}break;case 2:F[0]=Be,F[1]=F[0]+z.width,F[2]=F[1]+z.width,Be=F[2]+z.width;for(let ie=0;ie<z.width;++ie){const je=fe[F[0]++]<<24|fe[F[1]++]<<16|fe[F[2]++]<<8;ce+=je,Ne[st]=ce,st++}break}}return new DataView(Ne.buffer)}function ge(z){var K=z.viewer,fe={value:z.offset.value},Ae=new Uint8Array(z.width*z.lines*(z.channels*z.type*2)),Ne={version:be(K,fe),unknownUncompressedSize:be(K,fe),unknownCompressedSize:be(K,fe),acCompressedSize:be(K,fe),dcCompressedSize:be(K,fe),rleCompressedSize:be(K,fe),rleUncompressedSize:be(K,fe),rleRawSize:be(K,fe),totalAcUncompressedCount:be(K,fe),totalDcUncompressedCount:be(K,fe),acCompression:be(K,fe)};if(Ne.version<2)throw"EXRLoader.parse: "+ui.compression+" version "+Ne.version+" is unsupported";for(var Be=new Array,st=et(K,fe)-2;st>0;){var F=oe(K.buffer,fe),re=se(K,fe),ue=re>>2&3,ce=(re>>4)-1,ie=new Int8Array([ce])[0],je=se(K,fe);Be.push({name:F,index:ie,type:je,compression:ue}),st-=F.length+3}for(var De=ui.channels,He=new Array(z.channels),Ke=0;Ke<z.channels;++Ke){var it=He[Ke]={},ut=De[Ke];it.name=ut.name,it.compression=0,it.decoded=!1,it.type=ut.pixelType,it.pLinear=ut.pLinear,it.width=z.width,it.height=z.lines}for(var ot={idx:new Array(3)},ct=0;ct<z.channels;++ct)for(var it=He[ct],Ke=0;Ke<Be.length;++Ke){var xt=Be[Ke];it.name==xt.name&&(it.compression=xt.compression,xt.index>=0&&(ot.idx[xt.index]=ct),it.offset=ct)}if(Ne.acCompressedSize>0)switch(Ne.acCompression){case 0:var St=new Uint16Array(Ne.totalAcUncompressedCount);Je(z.array,K,fe,Ne.acCompressedSize,St,Ne.totalAcUncompressedCount);break;case 1:var Tt=z.array.slice(fe.value,fe.value+Ne.totalAcUncompressedCount),Nt=gx(Tt),St=new Uint16Array(Nt.buffer);fe.value+=Ne.totalAcUncompressedCount;break}if(Ne.dcCompressedSize>0){var ht={array:z.array,offset:fe,size:Ne.dcCompressedSize},en=new Uint16Array(ye(ht).buffer);fe.value+=Ne.dcCompressedSize}if(Ne.rleRawSize>0){var Tt=z.array.slice(fe.value,fe.value+Ne.rleCompressedSize),Nt=gx(Tt),Bt=Re(Nt.buffer);fe.value+=Ne.rleCompressedSize}for(var Cn=0,an=new Array(He.length),Ke=0;Ke<an.length;++Ke)an[Ke]=new Array;for(var vn=0;vn<z.lines;++vn)for(var hn=0;hn<He.length;++hn)an[hn].push(Cn),Cn+=He[hn].width*z.type*2;Ce(ot,an,He,St,en,Ae);for(var Ke=0;Ke<He.length;++Ke){var it=He[Ke];if(!it.decoded)switch(it.compression){case 2:for(var kt=0,on=0,vn=0;vn<z.lines;++vn){for(var lr=an[Ke][kt],Tn=0;Tn<it.width;++Tn){for(var Vn=0;Vn<2*it.type;++Vn)Ae[lr++]=Bt[on+Vn*it.width*it.height];on++}kt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ae.buffer)}function oe(z,K){for(var fe=new Uint8Array(z),Ae=0;fe[K.value+Ae]!=0;)Ae+=1;var Ne=new TextDecoder().decode(fe.slice(K.value,K.value+Ae));return K.value=K.value+Ae+1,Ne}function pe(z,K,fe){var Ae=new TextDecoder().decode(new Uint8Array(z).slice(K.value,K.value+fe));return K.value=K.value+fe,Ae}function $e(z,K){var fe=We(z,K),Ae=Ze(z,K);return[fe,Ae]}function nt(z,K){var fe=Ze(z,K),Ae=Ze(z,K);return[fe,Ae]}function We(z,K){var fe=z.getInt32(K.value,!0);return K.value=K.value+4,fe}function Ze(z,K){var fe=z.getUint32(K.value,!0);return K.value=K.value+4,fe}function _t(z,K){var fe=z[K.value];return K.value=K.value+1,fe}function se(z,K){var fe=z.getUint8(K.value);return K.value=K.value+1,fe}const be=function(z,K){let fe;return"getBigInt64"in DataView.prototype?fe=Number(z.getBigInt64(K.value,!0)):fe=z.getUint32(K.value+4,!0)+Number(z.getUint32(K.value,!0)<<32),K.value+=8,fe};function Ve(z,K){var fe=z.getFloat32(K.value,!0);return K.value+=4,fe}function le(z,K){return Oc.toHalfFloat(Ve(z,K))}function xe(z){var K=(z&31744)>>10,fe=z&1023;return(z>>15?-1:1)*(K?K===31?fe?NaN:1/0:Math.pow(2,K-15)*(1+fe/1024):6103515625e-14*(fe/1024))}function et(z,K){var fe=z.getUint16(K.value,!0);return K.value+=2,fe}function pt(z,K){return xe(et(z,K))}function tt(z,K,fe,Ae){for(var Ne=fe.value,Be=[];fe.value<Ne+Ae-1;){var st=oe(K,fe),F=We(z,fe),re=se(z,fe);fe.value+=3;var ue=We(z,fe),ce=We(z,fe);Be.push({name:st,pixelType:F,pLinear:re,xSampling:ue,ySampling:ce})}return fe.value+=1,Be}function Xe(z,K){var fe=Ve(z,K),Ae=Ve(z,K),Ne=Ve(z,K),Be=Ve(z,K),st=Ve(z,K),F=Ve(z,K),re=Ve(z,K),ue=Ve(z,K);return{redX:fe,redY:Ae,greenX:Ne,greenY:Be,blueX:st,blueY:F,whiteX:re,whiteY:ue}}function gt(z,K){var fe=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ae=se(z,K);return fe[Ae]}function Rt(z,K){var fe=Ze(z,K),Ae=Ze(z,K),Ne=Ze(z,K),Be=Ze(z,K);return{xMin:fe,yMin:Ae,xMax:Ne,yMax:Be}}function sn(z,K){var fe=["INCREASING_Y"],Ae=se(z,K);return fe[Ae]}function Jt(z,K){var fe=Ve(z,K),Ae=Ve(z,K);return[fe,Ae]}function wr(z,K){var fe=Ve(z,K),Ae=Ve(z,K),Ne=Ve(z,K);return[fe,Ae,Ne]}function Rr(z,K,fe,Ae,Ne){if(Ae==="string"||Ae==="stringvector"||Ae==="iccProfile")return pe(K,fe,Ne);if(Ae==="chlist")return tt(z,K,fe,Ne);if(Ae==="chromaticities")return Xe(z,fe);if(Ae==="compression")return gt(z,fe);if(Ae==="box2i")return Rt(z,fe);if(Ae==="lineOrder")return sn(z,fe);if(Ae==="float")return Ve(z,fe);if(Ae==="v2f")return Jt(z,fe);if(Ae==="v3f")return wr(z,fe);if(Ae==="int")return We(z,fe);if(Ae==="rational")return $e(z,fe);if(Ae==="timecode")return nt(z,fe);if(Ae==="preview")return fe.value+=Ne,"skipped";fe.value+=Ne}function Cf(z,K,fe){const Ae={};if(z.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ae.version=z.getUint8(4);const Ne=z.getUint8(5);Ae.spec={singleTile:!!(Ne&2),longName:!!(Ne&4),deepFormat:!!(Ne&8),multiPart:!!(Ne&16)},fe.value=8;for(var Be=!0;Be;){var st=oe(K,fe);if(st==0)Be=!1;else{var F=oe(K,fe),re=Ze(z,fe),ue=Rr(z,K,fe,F,re);ue===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${F}'.`):Ae[st]=ue}}if(Ne&-5)throw console.error("EXRHeader:",Ae),"THREE.EXRLoader: provided file is currently unsupported.";return Ae}function fa(z,K,fe,Ae,Ne){const Be={size:0,viewer:K,array:fe,offset:Ae,width:z.dataWindow.xMax-z.dataWindow.xMin+1,height:z.dataWindow.yMax-z.dataWindow.yMin+1,channels:z.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:z.channels[0].pixelType,uncompress:null,getter:null,format:null,[lm?"colorSpace":"encoding"]:null};switch(z.compression){case"NO_COMPRESSION":Be.lines=1,Be.uncompress=Y;break;case"RLE_COMPRESSION":Be.lines=1,Be.uncompress=$;break;case"ZIPS_COMPRESSION":Be.lines=1,Be.uncompress=ye;break;case"ZIP_COMPRESSION":Be.lines=16,Be.uncompress=ye;break;case"PIZ_COMPRESSION":Be.lines=32,Be.uncompress=ne;break;case"PXR24_COMPRESSION":Be.lines=16,Be.uncompress=de;break;case"DWAA_COMPRESSION":Be.lines=32,Be.uncompress=ge;break;case"DWAB_COMPRESSION":Be.lines=256,Be.uncompress=ge;break;default:throw"EXRLoader.parse: "+z.compression+" is unsupported"}if(Be.scanlineBlockSize=Be.lines,Be.type==1)switch(Ne){case sr:Be.getter=pt,Be.inputSize=2;break;case qr:Be.getter=et,Be.inputSize=2;break}else if(Be.type==2)switch(Ne){case sr:Be.getter=Ve,Be.inputSize=4;break;case qr:Be.getter=le,Be.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Be.type+" for "+z.compression+".";Be.blockCount=(z.dataWindow.yMax+1)/Be.scanlineBlockSize;for(var st=0;st<Be.blockCount;st++)be(K,Ae);Be.outputChannels=Be.channels==3?4:Be.channels;const F=Be.width*Be.height*Be.outputChannels;switch(Ne){case sr:Be.byteArray=new Float32Array(F),Be.channels<Be.outputChannels&&Be.byteArray.fill(1,0,F);break;case qr:Be.byteArray=new Uint16Array(F),Be.channels<Be.outputChannels&&Be.byteArray.fill(15360,0,F);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ne);break}return Be.bytesPerLine=Be.width*Be.inputSize*Be.channels,Be.outputChannels==4?Be.format=xr:Be.format=Ly,lm?Be.colorSpace="srgb-linear":Be.encoding=3e3,Be}const ha=new DataView(e),El=new Uint8Array(e),Wa={value:0},ui=Cf(ha,e,Wa),Qt=fa(ui,ha,El,Wa,this.type),Mo={value:0},Tf={R:0,G:1,B:2,A:3,Y:0};for(let z=0;z<Qt.height/Qt.scanlineBlockSize;z++){const K=Ze(ha,Wa);Qt.size=Ze(ha,Wa),Qt.lines=K+Qt.scanlineBlockSize>Qt.height?Qt.height-K:Qt.scanlineBlockSize;const Ae=Qt.size<Qt.lines*Qt.bytesPerLine?Qt.uncompress(Qt):Y(Qt);Wa.value+=Qt.size;for(let Ne=0;Ne<Qt.scanlineBlockSize;Ne++){const Be=Ne+z*Qt.scanlineBlockSize;if(Be>=Qt.height)break;for(let st=0;st<Qt.channels;st++){const F=Tf[ui.channels[st].name];for(let re=0;re<Qt.width;re++){Mo.value=(Ne*(Qt.channels*Qt.width)+st*Qt.width+re)*Qt.inputSize;const ue=(Qt.height-1-Be)*(Qt.width*Qt.outputChannels)+re*Qt.outputChannels+F;Qt.byteArray[ue]=Qt.getter(Ae,Mo)}}}}return{header:ui,width:Qt.width,height:Qt.height,data:Qt.byteArray,format:Qt.format,[lm?"colorSpace":"encoding"]:Qt[lm?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(a,o){lm?a.colorSpace=o.colorSpace:a.encoding=o.encoding,a.minFilter=Pn,a.magFilter=Pn,a.generateMipmaps=!1,a.flipY=!1,n&&n(a,o)}return super.load(e,s,r,i)}}const RM=new WeakMap;class q0e extends li{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new ai(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,o).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(RM.has(e)){const l=RM.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(s,a).then(l=>(i=l,new Promise((u,f)=>{i._callbacks[s]={resolve:u,reject:f},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),RM.set(e,{key:r,promise:o}),o}_createGeometry(e){const n=new $t;e.index&&n.setIndex(new wn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,a=i.array,o=i.itemSize;n.setAttribute(s,new wn(a,o))}return n}_loadLibrary(e,n){const r=new ai(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=K0e.toString(),a=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const a=s.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function K0e(){let t,e;onmessage=function(a){const o=a.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(c){f({draco:c})},DracoDecoderModule(t)});break;case"decode":const l=o.buffer,u=o.taskConfig;e.then(f=>{const c=f.draco,h=new c.Decoder,d=new c.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const m=n(c,h,d,u),x=m.attributes.map(v=>v.array.buffer);m.index&&x.push(m.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:m},x)}catch(m){console.error(m),self.postMessage({type:"error",id:o.id,error:m.message})}finally{c.destroy(d),c.destroy(h)}});break}};function n(a,o,l,u){const f=u.attributeIDs,c=u.attributeTypes;let h,d;const m=o.GetEncodedGeometryType(l);if(m===a.TRIANGULAR_MESH)h=new a.Mesh,d=o.DecodeBufferToMesh(l,h);else if(m===a.POINT_CLOUD)h=new a.PointCloud,d=o.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const x={index:null,attributes:[]};for(const v in f){const y=self[c[v]];let _,b;if(u.useUniqueIDs)b=f[v],_=o.GetAttributeByUniqueId(h,b);else{if(b=o.GetAttributeId(h,a[f[v]]),b===-1)continue;_=o.GetAttribute(h,b)}x.attributes.push(i(a,o,h,v,y,_))}return m===a.TRIANGULAR_MESH&&(x.index=r(a,o,h)),a.destroy(h),x}function r(a,o,l){const f=l.num_faces()*3,c=f*4,h=a._malloc(c);o.GetTrianglesUInt32Array(l,c,h);const d=new Uint32Array(a.HEAPF32.buffer,h,f).slice();return a._free(h),{array:d,itemSize:1}}function i(a,o,l,u,f,c){const h=c.num_components(),m=l.num_points()*h,x=m*f.BYTES_PER_ELEMENT,v=s(a,f),y=a._malloc(x);o.GetAttributeDataArrayForAllPoints(l,c,v,x,y);const _=new f(a.HEAPF32.buffer,y,m).slice();return a._free(y),{name:u,array:_,itemSize:h}}function s(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let vx;const IM=()=>{if(vx)return vx;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const a=WebAssembly.instantiate(o(i),{}).then(c=>{s=c.instance,s.exports.__wasm_call_ctors()});function o(c){const h=new Uint8Array(c.length);for(let m=0;m<c.length;++m){const x=c.charCodeAt(m);h[m]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let d=0;for(let m=0;m<c.length;++m)h[d++]=h[m]<60?r[h[m]]:(h[m]-60)*64+h[++m];return h.buffer.slice(0,d)}function l(c,h,d,m,x,v){const y=s.exports.sbrk,_=d+3&-4,b=y(_*m),w=y(x.length),E=new Uint8Array(s.exports.memory.buffer);E.set(x,w);const A=c(b,d,m,w,x.length);if(A===0&&v&&v(b,_,m),h.set(E.subarray(b,b+d*m)),y(b-y(0)),A!==0)throw new Error(`Malformed buffer data: ${A}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return vx={ready:a,supported:!0,decodeVertexBuffer(c,h,d,m,x){l(s.exports.meshopt_decodeVertexBuffer,c,h,d,m,s.exports[u[x]])},decodeIndexBuffer(c,h,d,m){l(s.exports.meshopt_decodeIndexBuffer,c,h,d,m)},decodeIndexSequence(c,h,d,m){l(s.exports.meshopt_decodeIndexSequence,c,h,d,m)},decodeGltfBuffer(c,h,d,m,x,v){l(s.exports[f[x]],c,h,d,m,s.exports[u[v]])}},vx};let xx=null,k$="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function N$(t=!0,e=!0,n){return r=>{n&&n(r),t&&(xx||(xx=new q0e),xx.setDecoderPath(typeof t=="string"?t:k$),r.setDRACOLoader(xx)),e&&r.setMeshoptDecoder(typeof IM=="function"?IM():IM)}}const Qy=(t,e,n,r)=>pl(WI,t,N$(e,n,r));Qy.preload=(t,e,n,r)=>pl.preload(WI,t,N$(e,n,r));Qy.clear=t=>pl.clear(WI,t);Qy.setDecoderPath=t=>{k$=t};const J0e=U.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...u},f)=>{const c=Ni(A=>A.invalidate),h=Ni(A=>A.camera),d=Ni(A=>A.gl),m=Ni(A=>A.events),x=Ni(A=>A.setEvents),v=Ni(A=>A.set),y=Ni(A=>A.get),_=Ni(A=>A.performance),b=e||h,w=r||m.connected||d.domElement,E=U.useMemo(()=>new l0e(b),[b]);return Yy(()=>{E.enabled&&E.update()},-1),U.useEffect(()=>(s&&E.connect(s===!0?w:s),E.connect(w),()=>void E.dispose()),[s,w,n,E,c]),U.useEffect(()=>{const A=R=>{c(),n&&_.regress(),a&&a(R)},P=R=>{o&&o(R)},I=R=>{l&&l(R)};return E.addEventListener("change",A),E.addEventListener("start",P),E.addEventListener("end",I),()=>{E.removeEventListener("start",P),E.removeEventListener("end",I),E.removeEventListener("change",A)}},[a,o,l,E,c,x]),U.useEffect(()=>{if(t){const A=y().controls;return v({controls:E}),()=>v({controls:A})}},[t,E]),U.createElement("primitive",Bg({ref:f,object:E,enableDamping:i},u))});var B$={exports:{}},Y0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z0e=Y0e,Q0e=Z0e;function D$(){}function L$(){}L$.resetWarningCache=D$;var exe=function(){function t(r,i,s,a,o,l){if(l!==Q0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:L$,resetWarningCache:D$};return n.PropTypes=n,n};B$.exports=exe();var txe=B$.exports;const Rn=On(txe),nxe=3e3,rxe=3001,F$=(t,e,n)=>{let r;switch(t){case ji:r=new Uint8ClampedArray(e*n*4);break;case qr:r=new Uint16Array(e*n*4);break;case bo:r=new Uint32Array(e*n*4);break;case sw:r=new Int8Array(e*n*4);break;case aw:r=new Int16Array(e*n*4);break;case Dy:r=new Int32Array(e*n*4);break;case sr:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let bx;const ixe=(t,e,n,r)=>{if(bx!==void 0)return bx;const i=new os(1,1,r);e.setRenderTarget(i);const s=new Yn(new _l,new es({color:16777215}));e.render(s,n),e.setRenderTarget(null);const a=F$(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,a),i.dispose(),s.geometry.dispose(),s.material.dispose(),bx=a[0]!==0,bx};class XI{constructor(e){var n,r,i,s,a,o,l,u,f,c,h,d,m,x,v,y;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(b){throw this._renderer.setRenderTarget(null),b}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const _={format:xr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:Pn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:Pn,samples:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.samples:void 0,wrapS:((h=e.renderTargetOptions)===null||h===void 0?void 0:h.wrapS)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS:vr,wrapT:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapT)!==void 0?(x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT:vr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=XI.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new jy,this._camera=new mo,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!ixe(this._type,this._renderer,this._camera,_)){let b;switch(this._type){case qr:b=this._renderer.extensions.has("EXT_color_buffer_float")?sr:void 0;break}b!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${sr}`),this._type=b):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Yn(new _l,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new os(this.width,this.height,_),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping:Su}static instantiateRenderer(){const e=new zI;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=F$(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new za(this.toArray(),this.width,this.height,xr,this._type,(e==null?void 0:e.mapping)||Su,(e==null?void 0:e.wrapS)||vr,(e==null?void 0:e.wrapT)||vr,(e==null?void 0:e.magFilter)||Pn,(e==null?void 0:e.minFilter)||Pn,(e==null?void 0:e.anisotropy)||1,_o);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Mi&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof In&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof In&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const sxe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,axe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class oxe extends Mi{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:a,hdrCapacityMin:o,hdrCapacityMax:l,sdr:u,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:sxe,fragmentShader:axe,uniforms:{sdr:{value:u},gainMap:{value:f},gamma:{value:new J(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new J().fromArray(n)},offsetSdr:{value:new J().fromArray(r)},gainMapMin:{value:new J().fromArray(i)},gainMapMax:{value:new J().fromArray(s)},weightFactor:{value:(Math.log2(a)-o)/(l-o)}},blending:ho,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class U$ extends Error{}class z$ extends Error{}const um=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},lxe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const s=um(i,"hdrgm:GainMapMin","0"),a=um(i,"hdrgm:GainMapMax"),o=um(i,"hdrgm:Gamma","1"),l=um(i,"hdrgm:OffsetSDR","0.015625"),u=um(i,"hdrgm:OffsetHDR","0.015625"),f=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),c=f?f[1]:"0",h=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!h)throw new Error("Incomplete gainmap metadata");const d=h[1];return{gainMapMin:Array.isArray(s)?s.map(m=>parseFloat(m)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(m=>parseFloat(m)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(m=>parseFloat(m)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(m=>parseFloat(m)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(m=>parseFloat(m)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(c),hdrCapacityMax:parseFloat(d)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class uxe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const a=s.byteLength;let o=2,l=0,u;for(;o<a;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(o)!==255){r(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(u=s.getUint8(o+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const f=o+4;if(s.getUint32(f)===1297106432){const c=f+4;let h;if(s.getUint16(c)===18761)h=!1;else if(s.getUint16(c)===19789)h=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(c+2,!h)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const d=s.getUint32(c+4,!h);if(d<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const m=c+d,x=s.getUint16(m,!h),v=m+2;let y=0;for(let E=v;E<v+12*x;E+=12)s.getUint16(E,!h)===45057&&(y=s.getUint32(E+8,!h));const b=m+2+x*12+4,w=[];for(let E=b;E<b+y*16;E+=16){const A={MPType:s.getUint32(E,!h),size:s.getUint32(E+4,!h),dataOffset:s.getUint32(E+8,!h),dependantImages:s.getUint32(E+12,!h),start:-1,end:-1,isFII:!1};A.dataOffset?(A.start=c+A.dataOffset,A.isFII=!1):(A.start=0,A.isFII=!0),A.end=A.start+A.size,w.push(A)}if(this.options.extractNonFII&&w.length){const E=new Blob([s]),A=[];for(const P of w){if(P.isFII&&!this.options.extractFII)continue;const I=E.slice(P.start,P.end+1,"image/jpeg");A.push(I)}n(A)}}}o+=2+s.getUint16(o+2)}})}}const cxe=async t=>{const e=lxe(t);if(!e)throw new z$("Gain map XMP metadata not found");const r=await new uxe({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new U$("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},XF=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class j$ extends li{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new kw}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new oxe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new In,sdr:new In});return new XI({width:16,height:16,type:qr,colorSpace:_o,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,a=new Blob([r],{type:"image/jpeg"});let o,l,u=!1;if(typeof createImageBitmap>"u"){const h=await Promise.all([s?XF(s):Promise.resolve(void 0),XF(a)]);l=h[0],o=h[1],u=!0}else{const h=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=h[0],o=h[1]}const f=new In(l||new ImageData(2,2),Su,vr,vr,Pn,DT,xr,ji,1,_o);f.flipY=u,f.needsUpdate=!0;const c=new In(o,Su,vr,vr,Pn,DT,xr,ji,1,Bi);c.flipY=u,c.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=f,e.material.sdr=c,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class fxe extends j${load([e,n,r],i,s,a){const o=this.prepareQuadRenderer();let l,u,f;const c=async()=>{if(l&&u&&f){try{await this.render(o,f,l,u)}catch(R){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof a=="function"&&a(R),o.disposeOnDemandRenderer();return}typeof i=="function"&&i(o),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),o.disposeOnDemandRenderer()}};let h=!0,d=0,m=0,x=!0,v=0,y=0,_=!0,b=0,w=0;const E=()=>{if(typeof s=="function"){const R=d+v+b,M=m+y+w,k=h&&x&&_;s(new ProgressEvent("progress",{lengthComputable:k,loaded:M,total:R}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const A=new ai(this._internalLoadingManager);A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(this.withCredentials),A.load(e,async R=>{if(typeof R=="string")throw new Error("Invalid sdr buffer");l=R,await c()},R=>{h=R.lengthComputable,m=R.loaded,d=R.total,E()},R=>{this.manager.itemError(e),typeof a=="function"&&a(R)});const P=new ai(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(n,async R=>{if(typeof R=="string")throw new Error("Invalid gainmap buffer");u=R,await c()},R=>{x=R.lengthComputable,y=R.loaded,v=R.total,E()},R=>{this.manager.itemError(n),typeof a=="function"&&a(R)});const I=new ai(this._internalLoadingManager);return I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(r,async R=>{if(typeof R!="string")throw new Error("Invalid metadata string");f=JSON.parse(R),await c()},R=>{_=R.lengthComputable,w=R.loaded,b=R.total,E()},R=>{this.manager.itemError(r),typeof a=="function"&&a(R)}),o}}class hxe extends j${load(e,n,r,i){const s=this.prepareQuadRenderer(),a=new ai(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let u,f,c;try{const h=await cxe(l);u=h.sdr,f=h.gainMap,c=h.metadata}catch(h){if(h instanceof z$||h instanceof U$)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),c={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw h}try{await this.render(s,c,u,f)}catch(h){this.manager.itemError(e),typeof i=="function"&&i(h),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,o=>{this.manager.itemError(e),typeof i=="function"&&i(o)}),s}}const Dg={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},H$="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Wh=t=>Array.isArray(t),qI=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Dw({files:t=qI,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let s=null,a=!1;n&&(KI(n),t=Dg[n],e=H$),a=Wh(t);const{extension:o,isCubemap:l}=JI(t);if(s=YI(o),!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=Ni(d=>d.gl);U.useLayoutEffect(()=>{if(o!=="webp"&&o!=="jpg"&&o!=="jpeg")return;function d(){pl.clear(s,a?[t]:t)}u.domElement.addEventListener("webglcontextlost",d,{once:!0})},[t,u.domElement]);const f=pl(s,a?[t]:t,d=>{(o==="webp"||o==="jpg"||o==="jpeg")&&d.setRenderer(u),d.setPath==null||d.setPath(e),i&&i(d)});let c=a?f[0]:f;if(o==="jpg"||o==="jpeg"||o==="webp"){var h;c=(h=c.renderTarget)==null?void 0:h.texture}return c.mapping=l?xo:od,"colorSpace"in c?c.colorSpace=r??l?"srgb":"srgb-linear":c.encoding=r??l?rxe:nxe,c}const dxe={files:qI,path:"",preset:void 0,extensions:void 0};Dw.preload=t=>{const e={...dxe,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(KI(i),n=Dg[i],r=H$);const{extension:a}=JI(n);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=YI(a);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);pl.preload(o,Wh(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const pxe={files:qI,preset:void 0};Dw.clear=t=>{const e={...pxe,...t};let{files:n}=e;const{preset:r}=e;r&&(KI(r),n=Dg[r]);const{extension:i}=JI(n),s=YI(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);pl.clear(s,Wh(n)?[n]:n)};function KI(t){if(!(t in Dg))throw new Error("Preset must be one of: "+Object.keys(Dg).join(", "))}function JI(t){var e;const n=Wh(t)&&t.length===6,r=Wh(t)&&t.length===3&&t.some(a=>a.endsWith("json")),i=Wh(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function YI(t){return t==="cube"?k9:t==="hdr"?W0e:t==="exr"?X0e:t==="jpg"||t==="jpeg"?hxe:t==="webp"?fxe:null}const mxe=t=>t.current&&t.current.isScene,gxe=t=>mxe(t)?t.current:t;function ZI(t,e,n,r,i={}){var s,a,o,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=gxe(e||n),f=u.background,c=u.environment,h={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(a=u.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(o=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),ql(u,i),()=>{t!=="only"&&(u.environment=c),t&&(u.background=f),ql(u,h)}}function QI({scene:t,background:e=!1,map:n,...r}){const i=Ni(s=>s.scene);return U.useLayoutEffect(()=>{if(n)return ZI(e,t,i,n,r)}),null}function G$({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:a,environmentRotation:o,...l}){const u=Dw(l),f=Ni(c=>c.scene);return U.useLayoutEffect(()=>ZI(t,e,f,u,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:a,environmentRotation:o})),U.useEffect(()=>()=>{u.dispose()},[u]),null}function yxe({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:a=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:f,environmentIntensity:c,environmentRotation:h,scene:d,files:m,path:x,preset:v=void 0,extensions:y}){const _=Ni(I=>I.gl),b=Ni(I=>I.scene),w=U.useRef(null),[E]=U.useState(()=>new jy),A=U.useMemo(()=>{const I=new uI(r);return I.texture.type=qr,I},[r]);U.useEffect(()=>()=>{A.dispose()},[A]),U.useLayoutEffect(()=>{if(i===1){const I=_.autoClear;_.autoClear=!0,w.current.update(_,E),_.autoClear=I}return ZI(a,d,b,A.texture,{backgroundBlurriness:o??l,backgroundIntensity:u,backgroundRotation:f,environmentIntensity:c,environmentRotation:h})},[t,E,A.texture,d,b,a,i,_]);let P=1;return Yy(()=>{if(i===1/0||P<i){const I=_.autoClear;_.autoClear=!0,w.current.update(_,E),_.autoClear=I,P++}}),U.createElement(U.Fragment,null,yve(U.createElement(U.Fragment,null,t,U.createElement("cubeCamera",{ref:w,args:[e,n,A]}),m||v?U.createElement(G$,{background:!0,files:m,preset:v,path:x,extensions:y}):s?U.createElement(QI,{background:!0,map:s,extensions:y}):null),E))}function vxe(t){var e,n,r,i;const s=Dw(t),a=t.map||s;U.useMemo(()=>l$({GroundProjectedEnvImpl:e0e}),[]),U.useEffect(()=>()=>{s.dispose()},[s]);const o=U.useMemo(()=>[a],[a]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,f=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return U.createElement(U.Fragment,null,U.createElement(QI,Bg({},t,{map:a})),U.createElement("groundProjectedEnvImpl",{args:o,scale:f,height:l,radius:u}))}function xxe(t){return t.ground?U.createElement(vxe,t):t.map?U.createElement(QI,t):t.children?U.createElement(yxe,t):U.createElement(G$,t)}const bxe=U.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:a=0,far:o=10,resolution:l=512,smooth:u=!0,color:f="#000000",depthWrite:c=!1,renderOrder:h,...d},m)=>{const x=U.useRef(null),v=Ni(j=>j.scene),y=Ni(j=>j.gl),_=U.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[b,w,E,A,P,I,R]=U.useMemo(()=>{const j=new os(l,l),V=new os(l,l);V.texture.generateMipmaps=j.texture.generateMipmaps=!1;const X=new _l(r,i).rotateX(Math.PI/2),Z=new Yn(X),L=new Ow;L.depthTest=L.depthWrite=!1,L.onBeforeCompile=q=>{q.uniforms={...q.uniforms,ucolor:{value:new dt(f)}},q.fragmentShader=q.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),q.fragmentShader=q.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const W=new Mi($0e),N=new Mi(V0e);return N.depthTest=W.depthTest=!1,[j,X,L,Z,W,N,V]},[l,r,i,t,f]),M=j=>{A.visible=!0,A.material=P,P.uniforms.tDiffuse.value=b.texture,P.uniforms.h.value=j*1/256,y.setRenderTarget(R),y.render(A,_.current),A.material=I,I.uniforms.tDiffuse.value=R.texture,I.uniforms.v.value=j*1/256,y.setRenderTarget(b),y.render(A,_.current),A.visible=!1};let k=0,B,H;return Yy(()=>{_.current&&(e===1/0||k<e)&&(k++,B=v.background,H=v.overrideMaterial,x.current.visible=!1,v.background=null,v.overrideMaterial=E,y.setRenderTarget(b),y.render(v,_.current),M(s),u&&M(s*.4),y.setRenderTarget(null),x.current.visible=!0,v.overrideMaterial=H,v.background=B)}),U.useImperativeHandle(m,()=>x.current,[]),U.createElement("group",Bg({"rotation-x":Math.PI/2},d,{ref:x}),U.createElement("mesh",{renderOrder:h,geometry:w,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},U.createElement("meshBasicMaterial",{transparent:!0,map:b.texture,opacity:n,depthWrite:c})),U.createElement("orthographicCamera",{ref:_,args:[-r/2,r/2,i/2,-i/2,a,o]}))}),ba={set(t){window.dispatchEvent(new CustomEvent("avatar:set",{detail:{state:t}}))}};function $$(){const t=U.useRef(null);return Yy((e,n)=>{t.current&&(t.current.rotation.y+=n*.4)}),C.jsxs("mesh",{ref:t,position:[0,1.2,0],castShadow:!0,receiveShadow:!0,children:[C.jsx("icosahedronGeometry",{args:[1,2]}),C.jsx("meshStandardMaterial",{color:"#80DB97",roughness:.4,metalness:.1})]})}class _xe extends he.Component{constructor(){super(...arguments);FN(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.warn("Avatar GLTF load error:",n)}render(){return this.state.hasError?C.jsx($$,{}):this.props.children}}function wxe({url:t,state:e}){const{scene:n,animations:r}=Qy(t),i=U.useRef(),s=U.useRef(null),a=U.useRef(null),o=U.useRef(0),l=U.useMemo(()=>{const c=new Map,h=new X9(n);return r==null||r.forEach(d=>{const m=h.clipAction(d);m.loop=tI,m.clampWhenFinished=!1,c.set(d.name,m)}),i.current=h,c},[n,r]),u=((r==null?void 0:r.length)||0)>0;U.useEffect(()=>{n.traverse(c=>{c!=null&&c.isMesh&&(c.castShadow=!0,c.receiveShadow=!0,c.material&&(c.material.needsUpdate=!0))})},[n]),U.useEffect(()=>{if(!a.current)return;const c=new Zr().setFromObject(n),h=c.getSize(new J),d=c.getCenter(new J),x=h.y>0?1.4/h.y:1;a.current.scale.setScalar(x),n.position.set(-d.x,-d.y+h.y*.5,-d.z),a.current.rotation.y=o.current},[n]);const f=c=>{if(!i.current||l.size===0)return;const d=(c&&c.length>0?c:["Idle"]).map(b=>b.toLowerCase()),m=Array.from(l.keys()),v=(()=>{let b=m.find(w=>d.includes(w.toLowerCase()));return b||(b=m.find(w=>d.some(E=>w.toLowerCase().includes(E)||E.includes(w.toLowerCase()))),b)?b:(b=m.find(w=>/idle|breath/i.test(w)),b||m[0])})();console.debug("[Avatar3D] play:",{requested:c,chosen:v,available:m});const y=l.get(v),_=s.current;_&&_!==y?(y.reset().play(),_.crossFadeTo(y,.25,!1)):_||y.reset().fadeIn(.2).play(),s.current=y};return U.useEffect(()=>{f({idle:["Idle","Breathing","BaseLayer.Idle"],neutral:["Idle","Breathing","BaseLayer.Idle"],happy:["Happy","Laugh","Smile","Wave","Dance","Yes","Jump","ThumbsUp"],love:["Love","Dance","Happy","ThumbsUp","Heart"],confident:["Victory","ThumbsUp","Yes","Power","Cheer"],thinking:["Thinking","Scratch","ScratchHead","LookAround","Look Around"],talk:["Idle","Talk","Talking","Speak","Mouth"],yes:["Yes","Nod","Head_Nod","HeadNod","ThumbsUp"],no:["No","Shake","Head_Shake","HeadShake"],sad:["Sad","Depressed","Death","Cry"],angry:["Angry","Punch","No","Fury"],surprised:["Surprised","Jump","Wave","Wow"],confused:["Confused","Shrug","No","Question"],sleepy:["Sleep","Idle"]}[e])},[e]),U.useEffect(()=>{console.log("GLTF clips:",r==null?void 0:r.map(c=>c.name))},[r]),U.useEffect(()=>()=>{var c;(c=i.current)==null||c.stopAllAction()},[]),Yy((c,h)=>{var _;if(u&&((_=i.current)==null||_.update(h)),!a.current)return;const d=a.current,m=c.clock.getElapsedTime();if(!u){let b=.015,w=1.5,E=0,A=0,P=0,I=0;switch(e){case"happy":b=.06,w=3,P=Math.sin(m*2)*.25;break;case"love":b=.07,w=3.2,P=Math.sin(m*2.8)*.3;break;case"confident":b=.05,w=2.4,P=Math.sin(m*2)*.2,A=-.05;break;case"thinking":b=.02,w=1.2,I=Math.sin(m*1)*.08,P=Math.sin(m*.6)*.15;break;case"talk":b=.04,w=4,P=Math.sin(m*3.2)*.2;break;case"sad":b=.005,w=1,E=-.05,A=.15;break;case"angry":b=.01,w=4,P=Math.sin(m*6)*.4;break;case"surprised":b=.08,w=2,P=Math.sin(m*2.5)*.15;break;case"sleepy":b=.004,w=.8,E=-.02,A=.06;break;case"confused":b=.02,w=2.4,P=Math.sin(m*5)*.35;break;case"yes":A=Math.sin(m*4.5)*.18;break;case"no":P=Math.sin(m*4)*.28;break;default:b=.015,w=1.5}d.position.y=E+Math.sin(m*w)*b,d.rotation.set(A,o.current+P,I);return}let x=0,v=o.current,y=0;e==="yes"?x=Math.sin(m*4.5)*.15:e==="no"&&(v=o.current+Math.sin(m*4)*.25),d.rotation.set(x,v,y)}),C.jsx("group",{ref:a,children:C.jsx("primitive",{object:n})})}const Sxe=({modelUrl:t="https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/models/gltf/RobotExpressive/RobotExpressive.glb"})=>{const[e,n]=U.useState("idle"),r=U.useRef(Date.now());return U.useEffect(()=>{const i=s=>{const a=s;r.current=Date.now(),n(a.detail.state)};return window.addEventListener("avatar:set",i),()=>window.removeEventListener("avatar:set",i)},[]),U.useEffect(()=>{const i=setInterval(()=>{Date.now()-r.current>3e4&&n(s=>s!=="sleepy"?"sleepy":s)},1e3);return()=>clearInterval(i)},[]),C.jsxs("div",{className:"h-full w-full",children:[C.jsxs(Bve,{shadows:!0,camera:{position:[.8,1.2,3.2],fov:45},children:[C.jsx("ambientLight",{intensity:.7}),C.jsx("directionalLight",{position:[3,5,2],intensity:1.2,castShadow:!0}),C.jsx(xxe,{files:"/flower_garden.exr",background:!0}),C.jsx(_xe,{children:C.jsx(U.Suspense,{fallback:C.jsx($$,{}),children:C.jsx(wxe,{url:t,state:e})})}),C.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],receiveShadow:!0,children:[C.jsx("planeGeometry",{args:[20,20]}),C.jsx("shadowMaterial",{transparent:!0,opacity:.28})]}),C.jsx(bxe,{position:[0,0,0],opacity:.5,blur:3,scale:8,far:5}),C.jsx(J0e,{enableZoom:!1,enablePan:!1,target:[.1,.9,0]})]}),C.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 select-none",children:["Trng thi: ",e]})]})};Qy.preload("https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/models/gltf/RobotExpressive/RobotExpressive.glb");const Axe=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(""),[i,s]=U.useState(!1),[a,o]=U.useState(null),l=Kd(),u=gf(),[f,c]=U.useState([]),[h,d]=U.useState(!1),m=U.useRef(null),x=U.useRef(null),v=U.useRef(0),[y,_]=U.useState(!0),[b,w]=U.useState({});U.useEffect(()=>{ba.set("happy"),setTimeout(()=>ba.set("idle"),2500)},[]),U.useEffect(()=>{const M=V=>{V.preventDefault(),V.stopPropagation()},k=V=>{M(V),v.current+=1,d(!0)},B=V=>{M(V),v.current=Math.max(0,v.current-1),v.current===0&&d(!1)},H=V=>{M(V)},j=V=>{M(V),d(!1),v.current=0;const X=V.dataTransfer&&V.dataTransfer.files?Array.from(V.dataTransfer.files):[];X.length>0&&c(Z=>[...Z,...X])};return window.addEventListener("dragenter",k),window.addEventListener("dragleave",B),window.addEventListener("dragover",H),window.addEventListener("drop",j),()=>{window.removeEventListener("dragenter",k),window.removeEventListener("dragleave",B),window.removeEventListener("dragover",H),window.removeEventListener("drop",j)}},[]);const E=()=>{var M;(M=x.current)==null||M.scrollIntoView({behavior:"smooth"})};U.useEffect(()=>{E()},[t]);const A=async()=>{var B,H;if(!n.trim()&&f.length===0||i)return;const M=f.map(j=>({name:j.name,type:j.type,size:j.size,url:j.type.startsWith("image/")?URL.createObjectURL(j):void 0})),k={id:`${Date.now()}`,role:"user",content:n||(f.length>0?`[nh km ${f.length} tp]`:""),timestamp:new Date().toISOString(),attachments:M};e(j=>[...j,k]),r(""),s(!0),ba.set("thinking");try{if(f.length>0){const j=new FormData;j.append("message",n),a&&j.append("session_id",a);for(const L of f)j.append("files",L);const V=await Ht.post("/chat/send-with-files",j,{headers:{"Content-Type":"multipart/form-data"}}),X={id:`${Date.now()+1}`,role:"assistant",content:V.data.response,timestamp:new Date().toISOString()};e(L=>[...L,X]),ba.set("talk"),setTimeout(()=>ba.set("idle"),1200);const Z=V.data.session_id;if(Z&&Z!==a){const L=new URLSearchParams(l.search);L.set("sid",Z);const W=`?${L.toString()}`;u({pathname:l.pathname,search:W},{replace:!0}),o(Z),window.dispatchEvent(new Event("chat:sessions:refresh"))}c([])}else{const j=`${Date.now()+1}`,V={id:j,role:"assistant",content:"",timestamp:new Date().toISOString()};e(te=>[...te,V]);const X=localStorage.getItem("token"),Z=await fetch("/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json",...X?{Authorization:`Bearer ${X}`}:{}},body:JSON.stringify({message:n,session_id:a})});if(!Z.ok||!Z.body)throw new Error("Stream failed");const L=Z.body.getReader(),W=new TextDecoder;let N="",q=!1;for(;;){const{value:te,done:G}=await L.read();if(G)break;const Ie=W.decode(te,{stream:!0});if(N+=Ie,!q){const Oe=N.match(/<<SID:([a-f0-9-]+)>>/i);if(Oe){const ae=Oe[1];if(N=N.replace(Oe[0],""),q=!0,ae&&ae!==a){const _e=new URLSearchParams(l.search);_e.set("sid",ae);const Ge=`?${_e.toString()}`;u({pathname:l.pathname,search:Ge},{replace:!0}),o(ae),window.dispatchEvent(new Event("chat:sessions:refresh"))}}}e(Oe=>Oe.map(ae=>ae.id===j?{...ae,content:N}:ae))}ba.set("talk"),setTimeout(()=>ba.set("idle"),1200),c([]);return}}catch(j){ba.set("sad"),zt.error(((H=(B=j.response)==null?void 0:B.data)==null?void 0:H.detail)||"C li xy ra khi gi tin nhn")}finally{s(!1)}};U.useEffect(()=>{const k=new URLSearchParams(l.search).get("sid");k&&k!==a?(async()=>{try{const B=await Ht.get(`/chat/sessions/${k}/messages`),H=[],j={};(B.data||[]).forEach(V=>{if(V.message&&H.push({id:`${V.id}-u`,role:"user",content:V.message,timestamp:V.timestamp}),V.response){const X=`${V.id}-a`;H.push({id:X,role:"assistant",content:V.response,timestamp:V.timestamp}),(V.feedback_rating===1||V.feedback_rating===-1)&&(j[X]=!0)}}),e(H),w(j),o(k)}catch{zt.error("Khng th ti lch s chat")}})():!k&&a&&(e([]),o(null))},[l.search,a]);const P=()=>{e([]),o(null),w({}),u("/dashboard",{replace:!0})},I=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),A())},R=async(M,k)=>{const B=M.replace(/-a$/,"");try{await Ht.post("/feedback/",{chat_message_id:B,rating:k}),w(H=>({...H,[M]:!0})),zt.success("Cm n bn  nh gi!"),k===1?ba.set("yes"):ba.set("no"),setTimeout(()=>ba.set("idle"),2500)}catch{zt.error("Gi nh gi tht bi.")}};return C.jsxs("div",{className:"min-h-screen flex flex-col",children:[C.jsx("div",{className:"bg-white border-b px-3 sm:px-6 py-3 sm:py-4 dark:bg-[#0d0d0d] dark:border-gray-800",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Chat AI"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
            `}),C.jsx("button",{onClick:()=>_(M=>!M),className:"btn-secondary hidden lg:inline-flex items-center gap-2",title:y?"n Tr l 3D":"Hin Tr l 3D",children:C.jsx("span",{children:y?"n Tr l 3D":"Hin Tr l 3D"})}),C.jsxs("button",{onClick:P,className:"btn-secondary flex items-center gap-2",title:"Bt u cuc tr chuyn mi",children:[C.jsx(Qee,{className:"h-4 w-4"}),C.jsx("span",{children:"Reset"})]})]})]})}),C.jsxs("div",{className:"flex-1 flex gap-3 sm:gap-6",children:[y&&C.jsx("div",{className:"hidden lg:block order-2 w-[300px] xl:w-[360px] border-l bg-white dark:bg-[#0d0d0d] dark:border-gray-800",children:C.jsxs("div",{className:"sticky top-0 p-3",children:[C.jsx("div",{className:"px-1 pb-2 text-[11px] font-medium tracking-wide text-gray-500 dark:text-gray-300",children:"Agent"}),C.jsx("div",{className:"h-[380px] xl:h-[460px] w-full overflow-hidden rounded-2xl border border-white/60 bg-white/70 backdrop-blur-sm shadow-sm dark:bg-white/[0.04] dark:border-white/[0.08]",children:C.jsx(Sxe,{modelUrl:"/models/AnimatedCharacter.glb"})})]})}),C.jsxs("div",{className:"flex-1 flex flex-col order-1",children:[C.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-4 bg-gradient-to-b from-white to-primary-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a]",style:{scrollbarGutter:"stable"},children:[t.length===0&&C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsxs("div",{className:"w-full max-w-3xl mx-auto px-4",children:[C.jsxs("div",{className:"text-center mb-6 dark:text-gray-200",children:[C.jsx("h2",{className:"text-3xl font-semibold mb-2",children:"Bn ang tm kim v ci g?"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Hi bt c iu g v AI s tr li da trn kin thc c sn"})]}),f.length>0&&C.jsx("div",{className:"mb-4 flex flex-wrap gap-2 justify-center",children:f.map((M,k)=>C.jsxs("span",{className:"inline-flex items-center gap-2 text-xs px-3 py-2 rounded-full bg-gray-100 dark:bg-zinc-800 ring-1 ring-gray-200 dark:ring-zinc-700",children:[M.name,C.jsx("button",{onClick:()=>c(f.filter((B,H)=>H!==k)),className:"opacity-70 hover:opacity-100",children:C.jsx(sd,{className:"h-3 w-3"})})]},k))}),h&&C.jsx("div",{className:"absolute inset-0 z-20 rounded-2xl border-2 border-dashed border-[#80DB97] bg-[#80DB97]/10 flex items-center justify-center text-sm text-[#80DB97]",children:"Th tp vo y  nh km"}),C.jsx("div",{className:"relative",children:C.jsxs("div",{className:"bg-white dark:bg-[#0f0f0f] rounded-2xl shadow-lg ring-1 ring-gray-200 dark:ring-gray-800 px-4 py-4 pr-2 flex items-center gap-3 focus-within:ring-2 focus-within:ring-[#80DB97] focus-within:shadow-[0_0_0_6px_rgba(128,219,151,0.15)]",children:[C.jsx("button",{onClick:()=>{var M;return(M=m.current)==null?void 0:M.click()},className:"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white px-2",children:C.jsx(MD,{className:"h-5 w-5"})}),C.jsx("input",{ref:m,type:"file",className:"hidden",multiple:!0,accept:".pdf,.txt,.doc,.docx,image/*",onChange:M=>c([...f||[],...Array.from(M.target.files||[])])}),C.jsx("textarea",{value:n,onChange:M=>r(M.target.value),onKeyDown:I,placeholder:"Nhp tin nhn ca bn...",className:"flex-1 bg-transparent outline-none resize-none text-[16px] leading-6 max-h-40 pr-2 dark:text-gray-100 dark:placeholder-gray-400",rows:1,disabled:i}),C.jsx("button",{onClick:A,disabled:n.trim().length===0&&f.length===0||i,className:"btn-send btn-send-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-md ml-auto",children:C.jsx(CD,{className:"h-5 w-5"})})]})})]})}),t.map(M=>C.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:C.jsxs("div",{className:`${M.role==="user"?"bubble-user":"bubble-ai"} w-fit max-w-[70%]`,children:[C.jsx(TT,{remarkPlugins:[RT],className:"prose prose-sm max-w-none break-words",children:M.content}),M.attachments&&M.attachments.length>0&&C.jsx("div",{className:"mt-2 space-y-2",children:M.attachments.map((k,B)=>{var H;return k.url&&((H=k.type)!=null&&H.startsWith("image/"))?C.jsx("img",{src:k.url,alt:k.name,className:"max-w-xs rounded-lg border dark:border-zinc-800"},B):C.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.name},B)})}),C.jsx("div",{className:`text-xs mt-1 ${M.role==="user"?"text-primary-100":"text-gray-500"}`,children:new Date(M.timestamp).toLocaleTimeString("vi-VN")}),M.role==="assistant"&&C.jsx("div",{className:"mt-2 pt-2 border-t border-white/10 flex items-center gap-2",children:b[M.id]?C.jsx("span",{className:"text-xs text-gray-400",children:" cm n!"}):C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>R(M.id,1),className:"p-1 rounded-full hover:bg-white/20 text-gray-400 hover:text-white",children:C.jsx(cte,{className:"h-4 w-4"})}),C.jsx("button",{onClick:()=>R(M.id,-1),className:"p-1 rounded-full hover:bg-white/20 text-gray-400 hover:text-white",children:C.jsx(KG,{className:"h-4 w-4"})})]})})]})},M.id)),i&&C.jsx("div",{className:"flex justify-start",children:C.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2 dark:bg-[#111111]",children:C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),C.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"AI ang suy ngh..."})]})})}),C.jsx("div",{ref:x})]}),t.length>0&&C.jsx("div",{className:"border-t bg-white p-4 dark:bg-[#0d0d0d] dark:border-gray-800",children:C.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[f.length>0&&C.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:f.map((M,k)=>C.jsxs("span",{className:"inline-flex items-center gap-2 text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-zinc-800 ring-1 ring-gray-200 dark:ring-zinc-700",children:[M.name,C.jsx("button",{onClick:()=>c(f.filter((B,H)=>H!==k)),className:"opacity-70 hover:opacity-100",children:C.jsx(sd,{className:"h-3 w-3"})})]},k))}),h&&C.jsx("div",{className:"absolute inset-0 z-20 rounded-2xl border-2 border-dashed border-[#80DB97] bg-[#80DB97]/10 flex items-center justify-center text-sm text-[#80DB97]",children:"Th tp vo y  nh km"}),C.jsxs("div",{className:"bg-gray-100/90 rounded-full shadow-sm ring-1 ring-gray-200 px-3 py-3 pr-2 flex items-center gap-2 dark:bg-[#0f0f0f] dark:ring-gray-800 focus-within:ring-2 focus-within:ring-[#80DB97] focus-within:shadow-[0_0_0_6px_rgba(128,219,151,0.15)]",children:[C.jsx("button",{onClick:()=>{var M;return(M=m.current)==null?void 0:M.click()},className:"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white px-2",children:C.jsx(MD,{className:"h-5 w-5"})}),C.jsx("input",{ref:m,type:"file",className:"hidden",multiple:!0,accept:".pdf,.txt,.doc,.docx,image/*",onChange:M=>c([...f||[],...Array.from(M.target.files||[])])}),C.jsx("textarea",{value:n,onChange:M=>r(M.target.value),onKeyDown:I,placeholder:"Nhp tin nhn ca bn...",className:"flex-1 bg-transparent outline-none resize-none text-[15px] leading-6 max-h-40 pr-2 dark:text-gray-100 dark:placeholder-gray-400",rows:1,disabled:i}),C.jsx("button",{onClick:A,disabled:n.trim().length===0&&f.length===0||i,className:"btn-send btn-send-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-md ml-auto",children:C.jsx(CD,{className:"h-5 w-5"})})]})]})})]})]})]})};function V$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=V$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _n(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=V$(t))&&(r&&(r+=" "),r+=e);return r}var Exe=Array.isArray,us=Exe,Mxe=typeof tu=="object"&&tu&&tu.Object===Object&&tu,W$=Mxe,Cxe=W$,Txe=typeof self=="object"&&self&&self.Object===Object&&self,Pxe=Cxe||Txe||Function("return this")(),Eo=Pxe,Rxe=Eo,Ixe=Rxe.Symbol,ev=Ixe,qF=ev,X$=Object.prototype,Oxe=X$.hasOwnProperty,kxe=X$.toString,cm=qF?qF.toStringTag:void 0;function Nxe(t){var e=Oxe.call(t,cm),n=t[cm];try{t[cm]=void 0;var r=!0}catch{}var i=kxe.call(t);return r&&(e?t[cm]=n:delete t[cm]),i}var Bxe=Nxe,Dxe=Object.prototype,Lxe=Dxe.toString;function Fxe(t){return Lxe.call(t)}var Uxe=Fxe,KF=ev,zxe=Bxe,jxe=Uxe,Hxe="[object Null]",Gxe="[object Undefined]",JF=KF?KF.toStringTag:void 0;function $xe(t){return t==null?t===void 0?Gxe:Hxe:JF&&JF in Object(t)?zxe(t):jxe(t)}var wl=$xe;function Vxe(t){return t!=null&&typeof t=="object"}var Sl=Vxe,Wxe=wl,Xxe=Sl,qxe="[object Symbol]";function Kxe(t){return typeof t=="symbol"||Xxe(t)&&Wxe(t)==qxe}var ip=Kxe,Jxe=us,Yxe=ip,Zxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qxe=/^\w*$/;function e1e(t,e){if(Jxe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Yxe(t)?!0:Qxe.test(t)||!Zxe.test(t)||e!=null&&t in Object(e)}var eO=e1e;function t1e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Lu=t1e;const sp=On(Lu);var n1e=wl,r1e=Lu,i1e="[object AsyncFunction]",s1e="[object Function]",a1e="[object GeneratorFunction]",o1e="[object Proxy]";function l1e(t){if(!r1e(t))return!1;var e=n1e(t);return e==s1e||e==a1e||e==i1e||e==o1e}var tO=l1e;const rn=On(tO);var u1e=Eo,c1e=u1e["__core-js_shared__"],f1e=c1e,OM=f1e,YF=function(){var t=/[^.]+$/.exec(OM&&OM.keys&&OM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function h1e(t){return!!YF&&YF in t}var d1e=h1e,p1e=Function.prototype,m1e=p1e.toString;function g1e(t){if(t!=null){try{return m1e.call(t)}catch{}try{return t+""}catch{}}return""}var q$=g1e,y1e=tO,v1e=d1e,x1e=Lu,b1e=q$,_1e=/[\\^$.*+?()[\]{}|]/g,w1e=/^\[object .+?Constructor\]$/,S1e=Function.prototype,A1e=Object.prototype,E1e=S1e.toString,M1e=A1e.hasOwnProperty,C1e=RegExp("^"+E1e.call(M1e).replace(_1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T1e(t){if(!x1e(t)||v1e(t))return!1;var e=y1e(t)?C1e:w1e;return e.test(b1e(t))}var P1e=T1e;function R1e(t,e){return t==null?void 0:t[e]}var I1e=R1e,O1e=P1e,k1e=I1e;function N1e(t,e){var n=k1e(t,e);return O1e(n)?n:void 0}var Sf=N1e,B1e=Sf,D1e=B1e(Object,"create"),Lw=D1e,ZF=Lw;function L1e(){this.__data__=ZF?ZF(null):{},this.size=0}var F1e=L1e;function U1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var z1e=U1e,j1e=Lw,H1e="__lodash_hash_undefined__",G1e=Object.prototype,$1e=G1e.hasOwnProperty;function V1e(t){var e=this.__data__;if(j1e){var n=e[t];return n===H1e?void 0:n}return $1e.call(e,t)?e[t]:void 0}var W1e=V1e,X1e=Lw,q1e=Object.prototype,K1e=q1e.hasOwnProperty;function J1e(t){var e=this.__data__;return X1e?e[t]!==void 0:K1e.call(e,t)}var Y1e=J1e,Z1e=Lw,Q1e="__lodash_hash_undefined__";function ebe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Z1e&&e===void 0?Q1e:e,this}var tbe=ebe,nbe=F1e,rbe=z1e,ibe=W1e,sbe=Y1e,abe=tbe;function ap(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ap.prototype.clear=nbe;ap.prototype.delete=rbe;ap.prototype.get=ibe;ap.prototype.has=sbe;ap.prototype.set=abe;var obe=ap;function lbe(){this.__data__=[],this.size=0}var ube=lbe;function cbe(t,e){return t===e||t!==t&&e!==e}var nO=cbe,fbe=nO;function hbe(t,e){for(var n=t.length;n--;)if(fbe(t[n][0],e))return n;return-1}var Fw=hbe,dbe=Fw,pbe=Array.prototype,mbe=pbe.splice;function gbe(t){var e=this.__data__,n=dbe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():mbe.call(e,n,1),--this.size,!0}var ybe=gbe,vbe=Fw;function xbe(t){var e=this.__data__,n=vbe(e,t);return n<0?void 0:e[n][1]}var bbe=xbe,_be=Fw;function wbe(t){return _be(this.__data__,t)>-1}var Sbe=wbe,Abe=Fw;function Ebe(t,e){var n=this.__data__,r=Abe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Mbe=Ebe,Cbe=ube,Tbe=ybe,Pbe=bbe,Rbe=Sbe,Ibe=Mbe;function op(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}op.prototype.clear=Cbe;op.prototype.delete=Tbe;op.prototype.get=Pbe;op.prototype.has=Rbe;op.prototype.set=Ibe;var Uw=op,Obe=Sf,kbe=Eo,Nbe=Obe(kbe,"Map"),rO=Nbe,QF=obe,Bbe=Uw,Dbe=rO;function Lbe(){this.size=0,this.__data__={hash:new QF,map:new(Dbe||Bbe),string:new QF}}var Fbe=Lbe;function Ube(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zbe=Ube,jbe=zbe;function Hbe(t,e){var n=t.__data__;return jbe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zw=Hbe,Gbe=zw;function $be(t){var e=Gbe(this,t).delete(t);return this.size-=e?1:0,e}var Vbe=$be,Wbe=zw;function Xbe(t){return Wbe(this,t).get(t)}var qbe=Xbe,Kbe=zw;function Jbe(t){return Kbe(this,t).has(t)}var Ybe=Jbe,Zbe=zw;function Qbe(t,e){var n=Zbe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var e_e=Qbe,t_e=Fbe,n_e=Vbe,r_e=qbe,i_e=Ybe,s_e=e_e;function lp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lp.prototype.clear=t_e;lp.prototype.delete=n_e;lp.prototype.get=r_e;lp.prototype.has=i_e;lp.prototype.set=s_e;var iO=lp,K$=iO,a_e="Expected a function";function sO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(a_e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(sO.Cache||K$),n}sO.Cache=K$;var J$=sO;const o_e=On(J$);var l_e=J$,u_e=500;function c_e(t){var e=l_e(t,function(r){return n.size===u_e&&n.clear(),r}),n=e.cache;return e}var f_e=c_e,h_e=f_e,d_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p_e=/\\(\\)?/g,m_e=h_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(d_e,function(n,r,i,s){e.push(i?s.replace(p_e,"$1"):r||n)}),e}),g_e=m_e;function y_e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var aO=y_e,eU=ev,v_e=aO,x_e=us,b_e=ip,tU=eU?eU.prototype:void 0,nU=tU?tU.toString:void 0;function Y$(t){if(typeof t=="string")return t;if(x_e(t))return v_e(t,Y$)+"";if(b_e(t))return nU?nU.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var __e=Y$,w_e=__e;function S_e(t){return t==null?"":w_e(t)}var Z$=S_e,A_e=us,E_e=eO,M_e=g_e,C_e=Z$;function T_e(t,e){return A_e(t)?t:E_e(t,e)?[t]:M_e(C_e(t))}var Q$=T_e,P_e=ip;function R_e(t){if(typeof t=="string"||P_e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var jw=R_e,I_e=Q$,O_e=jw;function k_e(t,e){e=I_e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[O_e(e[n++])];return n&&n==r?t:void 0}var oO=k_e,N_e=oO;function B_e(t,e,n){var r=t==null?void 0:N_e(t,e);return r===void 0?n:r}var eV=B_e;const na=On(eV);function D_e(t){return t==null}var L_e=D_e;const cn=On(L_e);var F_e=wl,U_e=us,z_e=Sl,j_e="[object String]";function H_e(t){return typeof t=="string"||!U_e(t)&&z_e(t)&&F_e(t)==j_e}var G_e=H_e;const uf=On(G_e);var tV={exports:{}},Dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lO=Symbol.for("react.element"),uO=Symbol.for("react.portal"),Hw=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),$_e=Symbol.for("react.server_context"),Xw=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Kw=Symbol.for("react.suspense_list"),Jw=Symbol.for("react.memo"),Yw=Symbol.for("react.lazy"),V_e=Symbol.for("react.offscreen"),nV;nV=Symbol.for("react.module.reference");function ua(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lO:switch(t=t.type,t){case Hw:case $w:case Gw:case qw:case Kw:return t;default:switch(t=t&&t.$$typeof,t){case $_e:case Ww:case Xw:case Yw:case Jw:case Vw:return t;default:return e}}case uO:return e}}}Dn.ContextConsumer=Ww;Dn.ContextProvider=Vw;Dn.Element=lO;Dn.ForwardRef=Xw;Dn.Fragment=Hw;Dn.Lazy=Yw;Dn.Memo=Jw;Dn.Portal=uO;Dn.Profiler=$w;Dn.StrictMode=Gw;Dn.Suspense=qw;Dn.SuspenseList=Kw;Dn.isAsyncMode=function(){return!1};Dn.isConcurrentMode=function(){return!1};Dn.isContextConsumer=function(t){return ua(t)===Ww};Dn.isContextProvider=function(t){return ua(t)===Vw};Dn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lO};Dn.isForwardRef=function(t){return ua(t)===Xw};Dn.isFragment=function(t){return ua(t)===Hw};Dn.isLazy=function(t){return ua(t)===Yw};Dn.isMemo=function(t){return ua(t)===Jw};Dn.isPortal=function(t){return ua(t)===uO};Dn.isProfiler=function(t){return ua(t)===$w};Dn.isStrictMode=function(t){return ua(t)===Gw};Dn.isSuspense=function(t){return ua(t)===qw};Dn.isSuspenseList=function(t){return ua(t)===Kw};Dn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hw||t===$w||t===Gw||t===qw||t===Kw||t===V_e||typeof t=="object"&&t!==null&&(t.$$typeof===Yw||t.$$typeof===Jw||t.$$typeof===Vw||t.$$typeof===Ww||t.$$typeof===Xw||t.$$typeof===nV||t.getModuleId!==void 0)};Dn.typeOf=ua;tV.exports=Dn;var W_e=tV.exports,X_e=wl,q_e=Sl,K_e="[object Number]";function J_e(t){return typeof t=="number"||q_e(t)&&X_e(t)==K_e}var rV=J_e;const Y_e=On(rV);var Z_e=rV;function Q_e(t){return Z_e(t)&&t!=+t}var ewe=Q_e;const tv=On(ewe);var Da=function(e){return e===0?0:e>0?1:-1},Dc=function(e){return uf(e)&&e.indexOf("%")===e.length-1},ft=function(e){return Y_e(e)&&!tv(e)},twe=function(e){return cn(e)},Lr=function(e){return ft(e)||uf(e)},nwe=0,nv=function(e){var n=++nwe;return"".concat(e||"").concat(n)},cf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ft(e)&&!uf(e))return r;var s;if(Dc(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return tv(s)&&(s=r),i&&s>n&&(s=n),s},eu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},rwe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ia=function(e,n){return ft(e)&&ft(n)?function(r){return e+r*(n-e)}:function(){return n}};function Cb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):na(r,e))===n})}var iwe=function(e,n){return ft(e)&&ft(n)?e-n:uf(e)&&uf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Xh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function e2(t){"@babel/helpers - typeof";return e2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e2(t)}var swe=["viewBox","children"],awe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rU=["points","pathLength"],kM={svg:swe,polygon:rU,polyline:rU},cO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!sp(r))return null;var i={};return Object.keys(r).forEach(function(s){cO.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},owe=function(e,n,r){return function(i){return e(n,r,i),null}},Pb=function(e,n,r){if(!sp(e)||e2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];cO.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=owe(a,n,r))}),i},lwe=["children"],uwe=["children"];function iU(t,e){if(t==null)return{};var n=cwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t2(t){"@babel/helpers - typeof";return t2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t2(t)}var sU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},sl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},aU=null,NM=null,fO=function t(e){if(e===aU&&Array.isArray(NM))return NM;var n=[];return U.Children.forEach(e,function(r){cn(r)||(W_e.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),NM=n,aU=e,n};function ra(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return sl(i)}):r=[sl(e)],fO(t).forEach(function(i){var s=na(i,"type.displayName")||na(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function _s(t,e){var n=ra(t,e);return n&&n[0]}var oU=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ft(r)||r<=0||!ft(i)||i<=0)},fwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hwe=function(e){return e&&e.type&&uf(e.type)&&fwe.indexOf(e.type)>=0},dwe=function(e){return e&&t2(e)==="object"&&"clipDot"in e},pwe=function(e,n,r,i){var s,a=(s=kM==null?void 0:kM[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!rn(e)&&(i&&a.includes(n)||awe.includes(n))||r&&cO.includes(n)},dn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!sp(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;pwe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},n2=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return lU(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!lU(s,a))return!1}return!0},lU=function(e,n){if(cn(e)&&cn(n))return!0;if(!cn(e)&&!cn(n)){var r=e.props||{},i=r.children,s=iU(r,lwe),a=n.props||{},o=a.children,l=iU(a,uwe);return i&&o?Xh(s,l)&&n2(i,o):!i&&!o?Xh(s,l):!1}return!1},uU=function(e,n){var r=[],i={};return fO(e).forEach(function(s,a){if(hwe(s))r.push(s);else if(s){var o=sl(s.type),l=n[o]||{},u=l.handler,f=l.once;if(u&&(!f||!i[o])){var c=u(s,o,a);r.push(c),i[o]=!0}}}),r},mwe=function(e){var n=e&&e.type;return n&&sU[n]?sU[n]:null},gwe=function(e,n){return fO(n).indexOf(e)},ywe=["children","width","height","viewBox","className","style","title","desc"];function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r2.apply(this,arguments)}function vwe(t,e){if(t==null)return{};var n=xwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,u=vwe(t,ywe),f=i||{width:n,height:r,x:0,y:0},c=_n("recharts-surface",s);return he.createElement("svg",r2({},dn(u,!0,"svg"),{className:c,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),he.createElement("title",null,o),he.createElement("desc",null,l),e)}var bwe=["children","className"];function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s2.apply(this,arguments)}function _we(t,e){if(t==null)return{};var n=wwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yr=he.forwardRef(function(t,e){var n=t.children,r=t.className,i=_we(t,bwe),s=_n("recharts-layer",r);return he.createElement("g",s2({className:s},dn(i,!0),{ref:e}),n)}),al=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function Swe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Awe=Swe,Ewe=Awe;function Mwe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ewe(t,e,n)}var Cwe=Mwe,Twe="\\ud800-\\udfff",Pwe="\\u0300-\\u036f",Rwe="\\ufe20-\\ufe2f",Iwe="\\u20d0-\\u20ff",Owe=Pwe+Rwe+Iwe,kwe="\\ufe0e\\ufe0f",Nwe="\\u200d",Bwe=RegExp("["+Nwe+Twe+Owe+kwe+"]");function Dwe(t){return Bwe.test(t)}var iV=Dwe;function Lwe(t){return t.split("")}var Fwe=Lwe,sV="\\ud800-\\udfff",Uwe="\\u0300-\\u036f",zwe="\\ufe20-\\ufe2f",jwe="\\u20d0-\\u20ff",Hwe=Uwe+zwe+jwe,Gwe="\\ufe0e\\ufe0f",$we="["+sV+"]",a2="["+Hwe+"]",o2="\\ud83c[\\udffb-\\udfff]",Vwe="(?:"+a2+"|"+o2+")",aV="[^"+sV+"]",oV="(?:\\ud83c[\\udde6-\\uddff]){2}",lV="[\\ud800-\\udbff][\\udc00-\\udfff]",Wwe="\\u200d",uV=Vwe+"?",cV="["+Gwe+"]?",Xwe="(?:"+Wwe+"(?:"+[aV,oV,lV].join("|")+")"+cV+uV+")*",qwe=cV+uV+Xwe,Kwe="(?:"+[aV+a2+"?",a2,oV,lV,$we].join("|")+")",Jwe=RegExp(o2+"(?="+o2+")|"+Kwe+qwe,"g");function Ywe(t){return t.match(Jwe)||[]}var Zwe=Ywe,Qwe=Fwe,eSe=iV,tSe=Zwe;function nSe(t){return eSe(t)?tSe(t):Qwe(t)}var rSe=nSe,iSe=Cwe,sSe=iV,aSe=rSe,oSe=Z$;function lSe(t){return function(e){e=oSe(e);var n=sSe(e)?aSe(e):void 0,r=n?n[0]:e.charAt(0),i=n?iSe(n,1).join(""):e.slice(1);return r[t]()+i}}var uSe=lSe,cSe=uSe,fSe=cSe("toUpperCase"),hSe=fSe;const Zw=On(hSe);function Hn(t){return function(){return t}}const fV=Math.cos,Rb=Math.sin,Va=Math.sqrt,Ib=Math.PI,Qw=2*Ib,l2=Math.PI,u2=2*l2,bc=1e-6,dSe=u2-bc;function hV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hV;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mSe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hV:pSe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-n,f=a-e,c=o-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>bc)if(!(Math.abs(c*l-u*f)>bc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,m=i-o,x=l*l+u*u,v=d*d+m*m,y=Math.sqrt(x),_=Math.sqrt(h),b=s*Math.tan((l2-Math.acos((x+h-v)/(2*y*_)))/2),w=b/_,E=b/y;Math.abs(w-1)>bc&&this._append`L${e+w*f},${n+w*c}`,this._append`A${s},${s},0,0,${+(c*d>f*m)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,f=n+l,c=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>bc||Math.abs(this._y1-f)>bc)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%u2+u2),h>dSe?this._append`A${r},${r},0,1,${c},${e-o},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>bc&&this._append`A${r},${r},0,${+(h>=l2)},${c},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mSe(e)}function dO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dV(t){this._context=t}dV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function eS(t){return new dV(t)}function pV(t){return t[0]}function mV(t){return t[1]}function gV(t,e){var n=Hn(!0),r=null,i=eS,s=null,a=hO(o);t=typeof t=="function"?t:t===void 0?pV:Hn(t),e=typeof e=="function"?e:e===void 0?mV:Hn(e);function o(l){var u,f=(l=dO(l)).length,c,h=!1,d;for(r==null&&(s=i(d=a())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(c,u,l),+e(c,u,l));if(d)return s=null,d+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function _x(t,e,n){var r=null,i=Hn(!0),s=null,a=eS,o=null,l=hO(u);t=typeof t=="function"?t:t===void 0?pV:Hn(+t),e=typeof e=="function"?e:Hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mV:Hn(+n);function u(c){var h,d,m,x=(c=dO(c)).length,v,y=!1,_,b=new Array(x),w=new Array(x);for(s==null&&(o=a(_=l())),h=0;h<=x;++h){if(!(h<x&&i(v=c[h],h,c))===y)if(y=!y)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=d;--m)o.point(b[m],w[m]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+t(v,h,c),w[h]=+e(v,h,c),o.point(r?+r(v,h,c):b[h],n?+n(v,h,c):w[h]))}if(_)return o=null,_+""||null}function f(){return gV().defined(i).curve(a).context(s)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Hn(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Hn(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Hn(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Hn(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Hn(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Hn(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Hn(!!c),u):i},u.curve=function(c){return arguments.length?(a=c,s!=null&&(o=a(s)),u):a},u.context=function(c){return arguments.length?(c==null?s=o=null:o=a(s=c),u):s},u}class yV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function gSe(t){return new yV(t,!0)}function ySe(t){return new yV(t,!1)}const pO={draw(t,e){const n=Va(e/Ib);t.moveTo(n,0),t.arc(0,0,n,0,Qw)}},vSe={draw(t,e){const n=Va(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vV=Va(1/3),xSe=vV*2,bSe={draw(t,e){const n=Va(e/xSe),r=n*vV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_Se={draw(t,e){const n=Va(e),r=-n/2;t.rect(r,r,n,n)}},wSe=.8908130915292852,xV=Rb(Ib/10)/Rb(7*Ib/10),SSe=Rb(Qw/10)*xV,ASe=-fV(Qw/10)*xV,ESe={draw(t,e){const n=Va(e*wSe),r=SSe*n,i=ASe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Qw*s/5,o=fV(a),l=Rb(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},BM=Va(3),MSe={draw(t,e){const n=-Va(e/(BM*3));t.moveTo(0,n*2),t.lineTo(-BM*n,-n),t.lineTo(BM*n,-n),t.closePath()}},Gs=-.5,$s=Va(3)/2,c2=1/Va(12),CSe=(c2/2+1)*3,TSe={draw(t,e){const n=Va(e/CSe),r=n/2,i=n*c2,s=r,a=n*c2+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Gs*r-$s*i,$s*r+Gs*i),t.lineTo(Gs*s-$s*a,$s*s+Gs*a),t.lineTo(Gs*o-$s*l,$s*o+Gs*l),t.lineTo(Gs*r+$s*i,Gs*i-$s*r),t.lineTo(Gs*s+$s*a,Gs*a-$s*s),t.lineTo(Gs*o+$s*l,Gs*l-$s*o),t.closePath()}};function PSe(t,e){let n=null,r=hO(i);t=typeof t=="function"?t:Hn(t||pO),e=typeof e=="function"?e:Hn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Hn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ob(){}function kb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bV(t){this._context=t}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RSe(t){return new bV(t)}function _V(t){this._context=t}_V.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ISe(t){return new _V(t)}function wV(t){this._context=t}wV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OSe(t){return new wV(t)}function SV(t){this._context=t}SV.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kSe(t){return new SV(t)}function cU(t){return t<0?-1:1}function fU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(cU(s)+cU(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function hU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function DM(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Nb(t){this._context=t}Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DM(this,this._t0,hU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,DM(this,hU(this,n=fU(this,t,e)),n);break;default:DM(this,this._t0,n=fU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AV(t){this._context=new EV(t)}(AV.prototype=Object.create(Nb.prototype)).point=function(t,e){Nb.prototype.point.call(this,e,t)};function EV(t){this._context=t}EV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function NSe(t){return new Nb(t)}function BSe(t){return new AV(t)}function MV(t){this._context=t}MV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dU(t),i=dU(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dU(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function DSe(t){return new MV(t)}function tS(t,e){this._context=t,this._t=e}tS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function LSe(t){return new tS(t,.5)}function FSe(t){return new tS(t,0)}function USe(t){return new tS(t,1)}function _d(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function f2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zSe(t,e){return t[e]}function jSe(t){const e=[];return e.key=t,e}function HSe(){var t=Hn([]),e=f2,n=_d,r=zSe;function i(s){var a=Array.from(t.apply(this,arguments),jSe),o,l=a.length,u=-1,f;for(const c of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(c,a[o].key,u,s)]).data=c;for(o=0,f=dO(e(a));o<l;++o)a[f[o]].index=o;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Hn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?f2:typeof s=="function"?s:Hn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??_d,i):n},i}function GSe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}_d(t,e)}}function $Se(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}_d(t,e)}}function VSe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var f=t[e[o]],c=f[r][1]||0,h=f[r-1][1]||0,d=(c-h)/2,m=0;m<o;++m){var x=t[e[m]],v=x[r][1]||0,y=x[r-1][1]||0;d+=v-y}l+=c,u+=d*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,_d(t,e)}}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}var WSe=["type","size","sizeType"];function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h2.apply(this,arguments)}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){XSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XSe(t,e,n){return e=qSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qSe(t){var e=KSe(t,"string");return Lg(e)=="symbol"?e:e+""}function KSe(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JSe(t,e){if(t==null)return{};var n=YSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CV={symbolCircle:pO,symbolCross:vSe,symbolDiamond:bSe,symbolSquare:_Se,symbolStar:ESe,symbolTriangle:MSe,symbolWye:TSe},ZSe=Math.PI/180,QSe=function(e){var n="symbol".concat(Zw(e));return CV[n]||pO},eAe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ZSe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tAe=function(e,n){CV["symbol".concat(Zw(e))]=n},mO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=JSe(e,WSe),u=mU(mU({},l),{},{type:r,size:s,sizeType:o}),f=function(){var v=QSe(r),y=PSe().type(v).size(eAe(s,o,r));return y()},c=u.className,h=u.cx,d=u.cy,m=dn(u,!0);return h===+h&&d===+d&&s===+s?he.createElement("path",h2({},m,{className:_n("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(d,")"),d:f()})):null};mO.registerSymbol=tAe;function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(this,arguments)}function gU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(n),!0).forEach(function(r){Fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function sAe(t,e,n){return e&&iAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aAe(t,e,n){return e=Bb(e),oAe(t,TV()?Reflect.construct(e,n||[],Bb(t).constructor):e.apply(t,n))}function oAe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lAe(t)}function lAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bb(t)}function uAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p2(t,e)}function p2(t,e){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p2(t,e)}function Fg(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=cAe(t,"string");return wd(e)=="symbol"?e:e+""}function cAe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vs=32,gO=function(t){function e(){return rAe(this,e),aAe(this,e,arguments)}return uAe(e,t),sAe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Vs/2,a=Vs/6,o=Vs/3,l=r.inactive?i:r.color;if(r.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Vs,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Vs,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return he.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vs/8,"h").concat(Vs,"v").concat(Vs*3/4,"h").concat(-Vs,"z"),className:"recharts-legend-icon"});if(he.isValidElement(r.legendIcon)){var u=nAe({},r);return delete u.legendIcon,he.cloneElement(r.legendIcon,u)}return he.createElement(mO,{fill:l,cx:s,cy:s,size:Vs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Vs,height:Vs},c={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(d,m){var x=d.formatter||l,v=_n(Fg(Fg({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=rn(d.value)?null:d.value;al(!rn(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=d.inactive?u:d.color;return he.createElement("li",d2({className:v,style:c,key:"legend-item-".concat(m)},Pb(r.props,d,m)),he.createElement(i2,{width:a,height:a,viewBox:f,style:h},r.renderIcon(d)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(y,d,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);Fg(gO,"displayName","Legend");Fg(gO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fAe=Uw;function hAe(){this.__data__=new fAe,this.size=0}var dAe=hAe;function pAe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var mAe=pAe;function gAe(t){return this.__data__.get(t)}var yAe=gAe;function vAe(t){return this.__data__.has(t)}var xAe=vAe,bAe=Uw,_Ae=rO,wAe=iO,SAe=200;function AAe(t,e){var n=this.__data__;if(n instanceof bAe){var r=n.__data__;if(!_Ae||r.length<SAe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wAe(r)}return n.set(t,e),this.size=n.size,this}var EAe=AAe,MAe=Uw,CAe=dAe,TAe=mAe,PAe=yAe,RAe=xAe,IAe=EAe;function up(t){var e=this.__data__=new MAe(t);this.size=e.size}up.prototype.clear=CAe;up.prototype.delete=TAe;up.prototype.get=PAe;up.prototype.has=RAe;up.prototype.set=IAe;var RV=up,OAe="__lodash_hash_undefined__";function kAe(t){return this.__data__.set(t,OAe),this}var NAe=kAe;function BAe(t){return this.__data__.has(t)}var DAe=BAe,LAe=iO,FAe=NAe,UAe=DAe;function Db(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new LAe;++e<n;)this.add(t[e])}Db.prototype.add=Db.prototype.push=FAe;Db.prototype.has=UAe;var IV=Db;function zAe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var OV=zAe;function jAe(t,e){return t.has(e)}var kV=jAe,HAe=IV,GAe=OV,$Ae=kV,VAe=1,WAe=2;function XAe(t,e,n,r,i,s){var a=n&VAe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var c=-1,h=!0,d=n&WAe?new HAe:void 0;for(s.set(t,e),s.set(e,t);++c<o;){var m=t[c],x=e[c];if(r)var v=a?r(x,m,c,e,t,s):r(m,x,c,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!GAe(e,function(y,_){if(!$Ae(d,_)&&(m===y||i(m,y,n,r,s)))return d.push(_)})){h=!1;break}}else if(!(m===x||i(m,x,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var NV=XAe,qAe=Eo,KAe=qAe.Uint8Array,JAe=KAe;function YAe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ZAe=YAe;function QAe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var yO=QAe,yU=ev,vU=JAe,eEe=nO,tEe=NV,nEe=ZAe,rEe=yO,iEe=1,sEe=2,aEe="[object Boolean]",oEe="[object Date]",lEe="[object Error]",uEe="[object Map]",cEe="[object Number]",fEe="[object RegExp]",hEe="[object Set]",dEe="[object String]",pEe="[object Symbol]",mEe="[object ArrayBuffer]",gEe="[object DataView]",xU=yU?yU.prototype:void 0,LM=xU?xU.valueOf:void 0;function yEe(t,e,n,r,i,s,a){switch(n){case gEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mEe:return!(t.byteLength!=e.byteLength||!s(new vU(t),new vU(e)));case aEe:case oEe:case cEe:return eEe(+t,+e);case lEe:return t.name==e.name&&t.message==e.message;case fEe:case dEe:return t==e+"";case uEe:var o=nEe;case hEe:var l=r&iEe;if(o||(o=rEe),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=sEe,a.set(t,e);var f=tEe(o(t),o(e),r,i,s,a);return a.delete(t),f;case pEe:if(LM)return LM.call(t)==LM.call(e)}return!1}var vEe=yEe;function xEe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var BV=xEe,bEe=BV,_Ee=us;function wEe(t,e,n){var r=e(t);return _Ee(t)?r:bEe(r,n(t))}var SEe=wEe;function AEe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var EEe=AEe;function MEe(){return[]}var CEe=MEe,TEe=EEe,PEe=CEe,REe=Object.prototype,IEe=REe.propertyIsEnumerable,bU=Object.getOwnPropertySymbols,OEe=bU?function(t){return t==null?[]:(t=Object(t),TEe(bU(t),function(e){return IEe.call(t,e)}))}:PEe,kEe=OEe;function NEe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var BEe=NEe,DEe=wl,LEe=Sl,FEe="[object Arguments]";function UEe(t){return LEe(t)&&DEe(t)==FEe}var zEe=UEe,_U=zEe,jEe=Sl,DV=Object.prototype,HEe=DV.hasOwnProperty,GEe=DV.propertyIsEnumerable,$Ee=_U(function(){return arguments}())?_U:function(t){return jEe(t)&&HEe.call(t,"callee")&&!GEe.call(t,"callee")},vO=$Ee,Lb={exports:{}};function VEe(){return!1}var WEe=VEe;Lb.exports;(function(t,e){var n=Eo,r=WEe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(Lb,Lb.exports);var LV=Lb.exports,XEe=9007199254740991,qEe=/^(?:0|[1-9]\d*)$/;function KEe(t,e){var n=typeof t;return e=e??XEe,!!e&&(n=="number"||n!="symbol"&&qEe.test(t))&&t>-1&&t%1==0&&t<e}var xO=KEe,JEe=9007199254740991;function YEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JEe}var bO=YEe,ZEe=wl,QEe=bO,eMe=Sl,tMe="[object Arguments]",nMe="[object Array]",rMe="[object Boolean]",iMe="[object Date]",sMe="[object Error]",aMe="[object Function]",oMe="[object Map]",lMe="[object Number]",uMe="[object Object]",cMe="[object RegExp]",fMe="[object Set]",hMe="[object String]",dMe="[object WeakMap]",pMe="[object ArrayBuffer]",mMe="[object DataView]",gMe="[object Float32Array]",yMe="[object Float64Array]",vMe="[object Int8Array]",xMe="[object Int16Array]",bMe="[object Int32Array]",_Me="[object Uint8Array]",wMe="[object Uint8ClampedArray]",SMe="[object Uint16Array]",AMe="[object Uint32Array]",Xn={};Xn[gMe]=Xn[yMe]=Xn[vMe]=Xn[xMe]=Xn[bMe]=Xn[_Me]=Xn[wMe]=Xn[SMe]=Xn[AMe]=!0;Xn[tMe]=Xn[nMe]=Xn[pMe]=Xn[rMe]=Xn[mMe]=Xn[iMe]=Xn[sMe]=Xn[aMe]=Xn[oMe]=Xn[lMe]=Xn[uMe]=Xn[cMe]=Xn[fMe]=Xn[hMe]=Xn[dMe]=!1;function EMe(t){return eMe(t)&&QEe(t.length)&&!!Xn[ZEe(t)]}var MMe=EMe;function CMe(t){return function(e){return t(e)}}var FV=CMe,Fb={exports:{}};Fb.exports;(function(t,e){var n=W$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Fb,Fb.exports);var TMe=Fb.exports,PMe=MMe,RMe=FV,wU=TMe,SU=wU&&wU.isTypedArray,IMe=SU?RMe(SU):PMe,UV=IMe,OMe=BEe,kMe=vO,NMe=us,BMe=LV,DMe=xO,LMe=UV,FMe=Object.prototype,UMe=FMe.hasOwnProperty;function zMe(t,e){var n=NMe(t),r=!n&&kMe(t),i=!n&&!r&&BMe(t),s=!n&&!r&&!i&&LMe(t),a=n||r||i||s,o=a?OMe(t.length,String):[],l=o.length;for(var u in t)(e||UMe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||DMe(u,l)))&&o.push(u);return o}var jMe=zMe,HMe=Object.prototype;function GMe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||HMe;return t===n}var $Me=GMe;function VMe(t,e){return function(n){return t(e(n))}}var zV=VMe,WMe=zV,XMe=WMe(Object.keys,Object),qMe=XMe,KMe=$Me,JMe=qMe,YMe=Object.prototype,ZMe=YMe.hasOwnProperty;function QMe(t){if(!KMe(t))return JMe(t);var e=[];for(var n in Object(t))ZMe.call(t,n)&&n!="constructor"&&e.push(n);return e}var eCe=QMe,tCe=tO,nCe=bO;function rCe(t){return t!=null&&nCe(t.length)&&!tCe(t)}var rv=rCe,iCe=jMe,sCe=eCe,aCe=rv;function oCe(t){return aCe(t)?iCe(t):sCe(t)}var nS=oCe,lCe=SEe,uCe=kEe,cCe=nS;function fCe(t){return lCe(t,cCe,uCe)}var hCe=fCe,AU=hCe,dCe=1,pCe=Object.prototype,mCe=pCe.hasOwnProperty;function gCe(t,e,n,r,i,s){var a=n&dCe,o=AU(t),l=o.length,u=AU(e),f=u.length;if(l!=f&&!a)return!1;for(var c=l;c--;){var h=o[c];if(!(a?h in e:mCe.call(e,h)))return!1}var d=s.get(t),m=s.get(e);if(d&&m)return d==e&&m==t;var x=!0;s.set(t,e),s.set(e,t);for(var v=a;++c<l;){h=o[c];var y=t[h],_=e[h];if(r)var b=a?r(_,y,h,e,t,s):r(y,_,h,t,e,s);if(!(b===void 0?y===_||i(y,_,n,r,s):b)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(x=!1)}return s.delete(t),s.delete(e),x}var yCe=gCe,vCe=Sf,xCe=Eo,bCe=vCe(xCe,"DataView"),_Ce=bCe,wCe=Sf,SCe=Eo,ACe=wCe(SCe,"Promise"),ECe=ACe,MCe=Sf,CCe=Eo,TCe=MCe(CCe,"Set"),jV=TCe,PCe=Sf,RCe=Eo,ICe=PCe(RCe,"WeakMap"),OCe=ICe,m2=_Ce,g2=rO,y2=ECe,v2=jV,x2=OCe,HV=wl,cp=q$,EU="[object Map]",kCe="[object Object]",MU="[object Promise]",CU="[object Set]",TU="[object WeakMap]",PU="[object DataView]",NCe=cp(m2),BCe=cp(g2),DCe=cp(y2),LCe=cp(v2),FCe=cp(x2),_c=HV;(m2&&_c(new m2(new ArrayBuffer(1)))!=PU||g2&&_c(new g2)!=EU||y2&&_c(y2.resolve())!=MU||v2&&_c(new v2)!=CU||x2&&_c(new x2)!=TU)&&(_c=function(t){var e=HV(t),n=e==kCe?t.constructor:void 0,r=n?cp(n):"";if(r)switch(r){case NCe:return PU;case BCe:return EU;case DCe:return MU;case LCe:return CU;case FCe:return TU}return e});var UCe=_c,FM=RV,zCe=NV,jCe=vEe,HCe=yCe,RU=UCe,IU=us,OU=LV,GCe=UV,$Ce=1,kU="[object Arguments]",NU="[object Array]",wx="[object Object]",VCe=Object.prototype,BU=VCe.hasOwnProperty;function WCe(t,e,n,r,i,s){var a=IU(t),o=IU(e),l=a?NU:RU(t),u=o?NU:RU(e);l=l==kU?wx:l,u=u==kU?wx:u;var f=l==wx,c=u==wx,h=l==u;if(h&&OU(t)){if(!OU(e))return!1;a=!0,f=!1}if(h&&!f)return s||(s=new FM),a||GCe(t)?zCe(t,e,n,r,i,s):jCe(t,e,l,n,r,i,s);if(!(n&$Ce)){var d=f&&BU.call(t,"__wrapped__"),m=c&&BU.call(e,"__wrapped__");if(d||m){var x=d?t.value():t,v=m?e.value():e;return s||(s=new FM),i(x,v,n,r,s)}}return h?(s||(s=new FM),HCe(t,e,n,r,i,s)):!1}var XCe=WCe,qCe=XCe,DU=Sl;function GV(t,e,n,r,i){return t===e?!0:t==null||e==null||!DU(t)&&!DU(e)?t!==t&&e!==e:qCe(t,e,n,r,GV,i)}var _O=GV,KCe=RV,JCe=_O,YCe=1,ZCe=2;function QCe(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],u=t[l],f=o[1];if(a&&o[2]){if(u===void 0&&!(l in t))return!1}else{var c=new KCe;if(r)var h=r(u,f,l,t,e,c);if(!(h===void 0?JCe(f,u,YCe|ZCe,r,c):h))return!1}}return!0}var eTe=QCe,tTe=Lu;function nTe(t){return t===t&&!tTe(t)}var $V=nTe,rTe=$V,iTe=nS;function sTe(t){for(var e=iTe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,rTe(i)]}return e}var aTe=sTe;function oTe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var VV=oTe,lTe=eTe,uTe=aTe,cTe=VV;function fTe(t){var e=uTe(t);return e.length==1&&e[0][2]?cTe(e[0][0],e[0][1]):function(n){return n===t||lTe(n,t,e)}}var hTe=fTe;function dTe(t,e){return t!=null&&e in Object(t)}var pTe=dTe,mTe=Q$,gTe=vO,yTe=us,vTe=xO,xTe=bO,bTe=jw;function _Te(t,e,n){e=mTe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=bTe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&xTe(i)&&vTe(a,i)&&(yTe(t)||gTe(t)))}var wTe=_Te,STe=pTe,ATe=wTe;function ETe(t,e){return t!=null&&ATe(t,e,STe)}var MTe=ETe,CTe=_O,TTe=eV,PTe=MTe,RTe=eO,ITe=$V,OTe=VV,kTe=jw,NTe=1,BTe=2;function DTe(t,e){return RTe(t)&&ITe(e)?OTe(kTe(t),e):function(n){var r=TTe(n,t);return r===void 0&&r===e?PTe(n,t):CTe(e,r,NTe|BTe)}}var LTe=DTe;function FTe(t){return t}var fp=FTe;function UTe(t){return function(e){return e==null?void 0:e[t]}}var zTe=UTe,jTe=oO;function HTe(t){return function(e){return jTe(e,t)}}var GTe=HTe,$Te=zTe,VTe=GTe,WTe=eO,XTe=jw;function qTe(t){return WTe(t)?$Te(XTe(t)):VTe(t)}var KTe=qTe,JTe=hTe,YTe=LTe,ZTe=fp,QTe=us,e2e=KTe;function t2e(t){return typeof t=="function"?t:t==null?ZTe:typeof t=="object"?QTe(t)?YTe(t[0],t[1]):JTe(t):e2e(t)}var Fu=t2e;function n2e(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var WV=n2e;function r2e(t){return t!==t}var i2e=r2e;function s2e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var a2e=s2e,o2e=WV,l2e=i2e,u2e=a2e;function c2e(t,e,n){return e===e?u2e(t,e,n):o2e(t,l2e,n)}var f2e=c2e,h2e=f2e;function d2e(t,e){var n=t==null?0:t.length;return!!n&&h2e(t,e,0)>-1}var p2e=d2e;function m2e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var g2e=m2e;function y2e(){}var v2e=y2e,UM=jV,x2e=v2e,b2e=yO,_2e=1/0,w2e=UM&&1/b2e(new UM([,-0]))[1]==_2e?function(t){return new UM(t)}:x2e,S2e=w2e,A2e=IV,E2e=p2e,M2e=g2e,C2e=kV,T2e=S2e,P2e=yO,R2e=200;function I2e(t,e,n){var r=-1,i=E2e,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=M2e;else if(s>=R2e){var u=e?null:T2e(t);if(u)return P2e(u);a=!1,i=C2e,l=new A2e}else l=e?[]:o;e:for(;++r<s;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,a&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue e;e&&l.push(c),o.push(f)}else i(l,c,n)||(l!==o&&l.push(c),o.push(f))}return o}var O2e=I2e,k2e=Fu,N2e=O2e;function B2e(t,e){return t&&t.length?N2e(t,k2e(e)):[]}var D2e=B2e;const LU=On(D2e);function XV(t,e,n){return e===!0?LU(t,n):rn(e)?LU(t,e):t}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}var L2e=["ref"];function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KV(r.key),r)}}function U2e(t,e,n){return e&&UU(t.prototype,e),n&&UU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2e(t,e,n){return e=Ub(e),j2e(t,qV()?Reflect.construct(e,n||[],Ub(t).constructor):e.apply(t,n))}function j2e(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H2e(t)}function H2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ub(t)}function G2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b2(t,e)}function rS(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=$2e(t,"string");return Sd(e)=="symbol"?e:e+""}function $2e(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V2e(t,e){if(t==null)return{};var n=W2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X2e(t){return t.value}function q2e(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var n=V2e(e,L2e);return he.createElement(gO,n)}var zU=1,qh=function(t){function e(){var n;F2e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=z2e(this,e,[].concat(i)),rS(n,"lastBoundingBox",{width:-1,height:-1}),n}return G2e(e,t),U2e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zU||Math.abs(i.height-this.lastBoundingBox.height)>zU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ho({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var d=this.getBBoxSnapshot();c={left:((u||0)-d.width)/2}}else c=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ho(Ho({},c),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=Ho(Ho({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return he.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(d){r.wrapperNode=d}},q2e(s,Ho(Ho({},this.props),{},{payload:XV(f,u,X2e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ho(Ho({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ft(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);rS(qh,"displayName","Legend");rS(qh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jU=ev,K2e=vO,J2e=us,HU=jU?jU.isConcatSpreadable:void 0;function Y2e(t){return J2e(t)||K2e(t)||!!(HU&&t&&t[HU])}var Z2e=Y2e,Q2e=BV,ePe=Z2e;function JV(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=ePe),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?JV(o,e-1,n,r,i):Q2e(i,o):r||(i[i.length]=o)}return i}var YV=JV;function tPe(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var nPe=tPe,rPe=nPe,iPe=rPe(),sPe=iPe,aPe=sPe,oPe=nS;function lPe(t,e){return t&&aPe(t,e,oPe)}var ZV=lPe,uPe=rv;function cPe(t,e){return function(n,r){if(n==null)return n;if(!uPe(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var fPe=cPe,hPe=ZV,dPe=fPe,pPe=dPe(hPe),wO=pPe,mPe=wO,gPe=rv;function yPe(t,e){var n=-1,r=gPe(t)?Array(t.length):[];return mPe(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var QV=yPe;function vPe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var xPe=vPe,GU=ip;function bPe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=GU(t),a=e!==void 0,o=e===null,l=e===e,u=GU(e);if(!o&&!u&&!s&&t>e||s&&a&&l&&!o&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var _Pe=bPe,wPe=_Pe;function SPe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=wPe(i[r],s[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var APe=SPe,zM=aO,EPe=oO,MPe=Fu,CPe=QV,TPe=xPe,PPe=FV,RPe=APe,IPe=fp,OPe=us;function kPe(t,e,n){e.length?e=zM(e,function(s){return OPe(s)?function(a){return EPe(a,s.length===1?s[0]:s)}:s}):e=[IPe];var r=-1;e=zM(e,PPe(MPe));var i=CPe(t,function(s,a,o){var l=zM(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return TPe(i,function(s,a){return RPe(s,a,n)})}var NPe=kPe;function BPe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var DPe=BPe,LPe=DPe,$U=Math.max;function FPe(t,e,n){return e=$U(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=$U(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),LPe(t,this,o)}}var UPe=FPe;function zPe(t){return function(){return t}}var jPe=zPe,HPe=Sf,GPe=function(){try{var t=HPe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eW=GPe,$Pe=jPe,VU=eW,VPe=fp,WPe=VU?function(t,e){return VU(t,"toString",{configurable:!0,enumerable:!1,value:$Pe(e),writable:!0})}:VPe,XPe=WPe,qPe=800,KPe=16,JPe=Date.now;function YPe(t){var e=0,n=0;return function(){var r=JPe(),i=KPe-(r-n);if(n=r,i>0){if(++e>=qPe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ZPe=YPe,QPe=XPe,eRe=ZPe,tRe=eRe(QPe),nRe=tRe,rRe=fp,iRe=UPe,sRe=nRe;function aRe(t,e){return sRe(iRe(t,e,rRe),t+"")}var oRe=aRe,lRe=nO,uRe=rv,cRe=xO,fRe=Lu;function hRe(t,e,n){if(!fRe(n))return!1;var r=typeof e;return(r=="number"?uRe(n)&&cRe(e,n.length):r=="string"&&e in n)?lRe(n[e],t):!1}var iS=hRe,dRe=YV,pRe=NPe,mRe=oRe,WU=iS,gRe=mRe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&WU(t,e[0],e[1])?e=[]:n>2&&WU(e[0],e[1],e[2])&&(e=[e[0]]),pRe(t,dRe(e,1),[])}),yRe=gRe;const SO=On(yRe);function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function _2(){return _2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_2.apply(this,arguments)}function vRe(t,e){return wRe(t)||_Re(t,e)||bRe(t,e)||xRe()}function xRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bRe(t,e){if(t){if(typeof t=="string")return XU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XU(t,e)}}function XU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Re(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function wRe(t){if(Array.isArray(t))return t}function qU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(n),!0).forEach(function(r){SRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SRe(t,e,n){return e=ARe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ARe(t){var e=ERe(t,"string");return Ug(e)=="symbol"?e:e+""}function ERe(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MRe(t){return Array.isArray(t)&&Lr(t[0])&&Lr(t[1])?t.join(" ~ "):t}var CRe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,c=e.formatter,h=e.itemSorter,d=e.wrapperClassName,m=e.labelClassName,x=e.label,v=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,b=function(){if(f&&f.length){var B={padding:0,margin:0},H=(h?SO(f,h):f).map(function(j,V){if(j.type==="none")return null;var X=jM({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},o),Z=j.formatter||c||MRe,L=j.value,W=j.name,N=L,q=W;if(Z&&N!=null&&q!=null){var te=Z(L,W,j,V,f);if(Array.isArray(te)){var G=vRe(te,2);N=G[0],q=G[1]}else N=te}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:X},Lr(q)?he.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Lr(q)?he.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,he.createElement("span",{className:"recharts-tooltip-item-value"},N),he.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:B},H)}return null},w=jM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=jM({margin:0},u),A=!cn(x),P=A?x:"",I=_n("recharts-default-tooltip",d),R=_n("recharts-tooltip-label",m);A&&v&&f!==void 0&&f!==null&&(P=v(x,f));var M=_?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",_2({className:I,style:w},M),he.createElement("p",{className:R,style:E},he.isValidElement(P)?P:"".concat(P)),b())};function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function Sx(t,e,n){return e=TRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TRe(t){var e=PRe(t,"string");return zg(e)=="symbol"?e:e+""}function PRe(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm="recharts-tooltip-wrapper",RRe={visibility:"hidden"};function IRe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return _n(fm,Sx(Sx(Sx(Sx({},"".concat(fm,"-right"),ft(n)&&e&&ft(e.x)&&n>=e.x),"".concat(fm,"-left"),ft(n)&&e&&ft(e.x)&&n<e.x),"".concat(fm,"-bottom"),ft(r)&&e&&ft(e.y)&&r>=e.y),"".concat(fm,"-top"),ft(r)&&e&&ft(e.y)&&r<e.y))}function KU(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&ft(s[r]))return s[r];var f=n[r]-o-i,c=n[r]+i;if(e[r])return a[r]?f:c;if(a[r]){var h=f,d=l[r];return h<d?Math.max(c,l[r]):Math.max(f,l[r])}var m=c+o,x=l[r]+u;return m>x?Math.max(f,l[r]):Math.max(c,l[r])}function ORe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function kRe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,f,c;return a.height>0&&a.width>0&&n?(f=KU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),c=KU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=ORe({translateX:f,translateY:c,useTranslate3d:o})):u=RRe,{cssProperties:u,cssClasses:IRe({translateX:f,translateY:c,coordinate:n})}}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(r){S2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nW(r.key),r)}}function DRe(t,e,n){return e&&BRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LRe(t,e,n){return e=zb(e),FRe(t,tW()?Reflect.construct(e,n||[],zb(t).constructor):e.apply(t,n))}function FRe(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(t)}function URe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tW=function(){return!!t})()}function zb(t){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zb(t)}function zRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w2(t,e)}function S2(t,e,n){return e=nW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nW(t){var e=jRe(t,"string");return Ad(e)=="symbol"?e:e+""}function jRe(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZU=1,HRe=function(t){function e(){var n;NRe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=LRe(this,e,[].concat(i)),S2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),S2(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return zRe(e,t),DRe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ZU||Math.abs(r.height-this.state.lastBoundingBox.height)>ZU)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,h=i.isAnimationActive,d=i.offset,m=i.position,x=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,b=kRe({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:d,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),w=b.cssClasses,E=b.cssProperties,A=YU(YU({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&c?"visible":"hidden",position:"absolute",top:0,left:0},_);return he.createElement("div",{tabIndex:-1,className:w,style:A,ref:function(I){r.wrapperNode=I}},u)}}])}(U.PureComponent),GRe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hp={isSsr:GRe()};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function QU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(n),!0).forEach(function(r){AO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iW(r.key),r)}}function WRe(t,e,n){return e&&VRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XRe(t,e,n){return e=jb(e),qRe(t,rW()?Reflect.construct(e,n||[],jb(t).constructor):e.apply(t,n))}function qRe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(t)}function KRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rW=function(){return!!t})()}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(t)}function JRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A2(t,e)}function AO(t,e,n){return e=iW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=YRe(t,"string");return Ed(e)=="symbol"?e:e+""}function YRe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZRe(t){return t.dataKey}function QRe(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(CRe,e)}var Ma=function(t){function e(){return $Re(this,e),XRe(this,e,arguments)}return JRe(e,t),WRe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,h=i.isAnimationActive,d=i.offset,m=i.payload,x=i.payloadUniqBy,v=i.position,y=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,E=m??[];c&&E.length&&(E=XV(m.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),x,ZRe));var A=E.length>0;return he.createElement(HRe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:f,hasPayload:A,offset:d,position:v,reverseDirection:y,useTranslate3d:_,viewBox:b,wrapperStyle:w},QRe(u,e4(e4({},this.props),{},{payload:E})))}}])}(U.PureComponent);AO(Ma,"displayName","Tooltip");AO(Ma,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eIe=Eo,tIe=function(){return eIe.Date.now()},nIe=tIe,rIe=/\s/;function iIe(t){for(var e=t.length;e--&&rIe.test(t.charAt(e)););return e}var sIe=iIe,aIe=sIe,oIe=/^\s+/;function lIe(t){return t&&t.slice(0,aIe(t)+1).replace(oIe,"")}var uIe=lIe,cIe=uIe,t4=Lu,fIe=ip,n4=NaN,hIe=/^[-+]0x[0-9a-f]+$/i,dIe=/^0b[01]+$/i,pIe=/^0o[0-7]+$/i,mIe=parseInt;function gIe(t){if(typeof t=="number")return t;if(fIe(t))return n4;if(t4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=t4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cIe(t);var n=dIe.test(t);return n||pIe.test(t)?mIe(t.slice(2),n?2:8):hIe.test(t)?n4:+t}var sW=gIe,yIe=Lu,HM=nIe,r4=sW,vIe="Expected a function",xIe=Math.max,bIe=Math.min;function _Ie(t,e,n){var r,i,s,a,o,l,u=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(vIe);e=r4(e)||0,yIe(n)&&(f=!!n.leading,c="maxWait"in n,s=c?xIe(r4(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function d(A){var P=r,I=i;return r=i=void 0,u=A,a=t.apply(I,P),a}function m(A){return u=A,o=setTimeout(y,e),f?d(A):a}function x(A){var P=A-l,I=A-u,R=e-P;return c?bIe(R,s-I):R}function v(A){var P=A-l,I=A-u;return l===void 0||P>=e||P<0||c&&I>=s}function y(){var A=HM();if(v(A))return _(A);o=setTimeout(y,x(A))}function _(A){return o=void 0,h&&r?d(A):(r=i=void 0,a)}function b(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function w(){return o===void 0?a:_(HM())}function E(){var A=HM(),P=v(A);if(r=arguments,i=this,l=A,P){if(o===void 0)return m(l);if(c)return clearTimeout(o),o=setTimeout(y,e),d(l)}return o===void 0&&(o=setTimeout(y,e)),a}return E.cancel=b,E.flush=w,E}var wIe=_Ie,SIe=wIe,AIe=Lu,EIe="Expected a function";function MIe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(EIe);return AIe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),SIe(t,e,{leading:r,maxWait:e,trailing:i})}var CIe=MIe;const aW=On(CIe);function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){TIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TIe(t,e,n){return e=PIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PIe(t){var e=RIe(t,"string");return jg(e)=="symbol"?e:e+""}function RIe(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IIe(t,e){return BIe(t)||NIe(t,e)||kIe(t,e)||OIe()}function OIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kIe(t,e){if(t){if(typeof t=="string")return s4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s4(t,e)}}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function BIe(t){if(Array.isArray(t))return t}var a4=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,f=u===void 0?0:u,c=t.minHeight,h=t.maxHeight,d=t.children,m=t.debounce,x=m===void 0?0:m,v=t.id,y=t.className,_=t.onResize,b=t.style,w=b===void 0?{}:b,E=U.useRef(null),A=U.useRef();A.current=_,U.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var P=U.useState({containerWidth:i.width,containerHeight:i.height}),I=IIe(P,2),R=I[0],M=I[1],k=U.useCallback(function(H,j){M(function(V){var X=Math.round(H),Z=Math.round(j);return V.containerWidth===X&&V.containerHeight===Z?V:{containerWidth:X,containerHeight:Z}})},[]);U.useEffect(function(){var H=function(W){var N,q=W[0].contentRect,te=q.width,G=q.height;k(te,G),(N=A.current)===null||N===void 0||N.call(A,te,G)};x>0&&(H=aW(H,x,{trailing:!0,leading:!1}));var j=new ResizeObserver(H),V=E.current.getBoundingClientRect(),X=V.width,Z=V.height;return k(X,Z),j.observe(E.current),function(){j.disconnect()}},[k,x]);var B=U.useMemo(function(){var H=R.containerWidth,j=R.containerHeight;if(H<0||j<0)return null;al(Dc(a)||Dc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),al(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Dc(a)?H:a,X=Dc(l)?j:l;n&&n>0&&(V?X=V/n:X&&(V=X*n),h&&X>h&&(X=h)),al(V>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,X,a,l,f,c,n);var Z=!Array.isArray(d)&&sl(d.type).endsWith("Chart");return he.Children.map(d,function(L){return he.isValidElement(L)?U.cloneElement(L,Ax({width:V,height:X},Z?{style:Ax({height:"100%",width:"100%",maxHeight:X,maxWidth:V},L.props.style)}:{})):L})},[n,d,l,h,c,f,R,a]);return he.createElement("div",{id:v?"".concat(v):void 0,className:_n("recharts-responsive-container",y),style:Ax(Ax({},w),{},{width:a,height:l,minWidth:f,minHeight:c,maxHeight:h}),ref:E},B)}),oW=function(e){return null};oW.displayName="Cell";function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){DIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DIe(t,e,n){return e=LIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LIe(t){var e=FIe(t,"string");return Hg(e)=="symbol"?e:e+""}function FIe(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fh={widthCache:{},cacheCount:0},UIe=2e3,zIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},l4="recharts_measurement_span";function jIe(t){var e=E2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Zm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hp.isSsr)return{width:0,height:0};var r=jIe(n),i=JSON.stringify({text:e,copyStyle:r});if(fh.widthCache[i])return fh.widthCache[i];try{var s=document.getElementById(l4);s||(s=document.createElement("span"),s.setAttribute("id",l4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=E2(E2({},zIe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return fh.widthCache[i]=l,++fh.cacheCount>UIe&&(fh.cacheCount=0,fh.widthCache={}),l}catch{return{width:0,height:0}}},HIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function Hb(t,e){return WIe(t)||VIe(t,e)||$Ie(t,e)||GIe()}function GIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ie(t,e){if(t){if(typeof t=="string")return u4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u4(t,e)}}function u4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function WIe(t){if(Array.isArray(t))return t}function XIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KIe(r.key),r)}}function qIe(t,e,n){return e&&c4(t.prototype,e),n&&c4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KIe(t){var e=JIe(t,"string");return Gg(e)=="symbol"?e:e+""}function JIe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QIe=Object.keys(lW),kh="NaN";function eOe(t,e){return t*lW[e]}var Ex=function(){function t(e,n){XIe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!YIe.test(n)&&(this.num=NaN,this.unit=""),QIe.includes(n)&&(this.num=eOe(e,n),this.unit="px")}return qIe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ZIe.exec(n))!==null&&r!==void 0?r:[],s=Hb(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function uW(t){if(t.includes(kh))return kh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=f4.exec(e))!==null&&n!==void 0?n:[],i=Hb(r,4),s=i[1],a=i[2],o=i[3],l=Ex.parse(s??""),u=Ex.parse(o??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return kh;e=e.replace(f4,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,h=(c=h4.exec(e))!==null&&c!==void 0?c:[],d=Hb(h,4),m=d[1],x=d[2],v=d[3],y=Ex.parse(m??""),_=Ex.parse(v??""),b=x==="+"?y.add(_):y.subtract(_);if(b.isNaN())return kh;e=e.replace(h4,b.toString())}return e}var d4=/\(([^()]*)\)/;function tOe(t){for(var e=t;e.includes("(");){var n=d4.exec(e),r=Hb(n,2),i=r[1];e=e.replace(d4,uW(i))}return e}function nOe(t){var e=t.replace(/\s+/g,"");return e=tOe(e),e=uW(e),e}function rOe(t){try{return nOe(t)}catch{return kh}}function GM(t){var e=rOe(t.slice(5,-1));return e===kh?"":e}var iOe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sOe=["dx","dy","angle","className","breakAll"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(this,arguments)}function p4(t,e){if(t==null)return{};var n=aOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m4(t,e){return cOe(t)||uOe(t,e)||lOe(t,e)||oOe()}function oOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lOe(t,e){if(t){if(typeof t=="string")return g4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g4(t,e)}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function cOe(t){if(Array.isArray(t))return t}var cW=/[ \f\n\r\t\v\u2028\u2029]+/,fW=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];cn(n)||(r?s=n.toString().split(""):s=n.toString().split(cW));var a=s.map(function(l){return{word:l,width:Zm(l,i).width}}),o=r?0:Zm("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},fOe=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,u=e.breakAll,f=ft(a),c=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(X,Z){var L=Z.word,W=Z.width,N=X[X.length-1];if(N&&(i==null||s||N.width+W+r<Number(i)))N.words.push(L),N.width+=W+r;else{var q={words:[L],width:W};X.push(q)}return X},[])},d=h(n),m=function(V){return V.reduce(function(X,Z){return X.width>Z.width?X:Z})};if(!f)return d;for(var x="",v=function(V){var X=c.slice(0,V),Z=fW({breakAll:u,style:l,children:X+x}).wordsWithComputedWidth,L=h(Z),W=L.length>a||m(L).width>Number(i);return[W,L]},y=0,_=c.length-1,b=0,w;y<=_&&b<=c.length-1;){var E=Math.floor((y+_)/2),A=E-1,P=v(A),I=m4(P,2),R=I[0],M=I[1],k=v(E),B=m4(k,1),H=B[0];if(!R&&!H&&(y=E+1),R&&H&&(_=E-1),!R&&H){w=M;break}b++}return w||d},y4=function(e){var n=cn(e)?[]:e.toString().split(cW);return[{words:n}]},hOe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!hp.isSsr){var l,u,f=fW({breakAll:a,children:i,style:s});if(f){var c=f.wordsWithComputedWidth,h=f.spaceWidth;l=c,u=h}else return y4(i);return fOe({breakAll:a,children:i,maxLines:o,style:s},l,u,n,r)}return y4(i)},v4="#808080",Gb=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,c=f===void 0?!1:f,h=e.textAnchor,d=h===void 0?"start":h,m=e.verticalAnchor,x=m===void 0?"end":m,v=e.fill,y=v===void 0?v4:v,_=p4(e,iOe),b=U.useMemo(function(){return hOe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:c,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,c,_.style,_.width]),w=_.dx,E=_.dy,A=_.angle,P=_.className,I=_.breakAll,R=p4(_,sOe);if(!Lr(r)||!Lr(s))return null;var M=r+(ft(w)?w:0),k=s+(ft(E)?E:0),B;switch(x){case"start":B=GM("calc(".concat(u,")"));break;case"middle":B=GM("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:B=GM("calc(".concat(b.length-1," * -").concat(o,")"));break}var H=[];if(c){var j=b[0].width,V=_.width;H.push("scale(".concat((ft(V)?V/j:1)/j,")"))}return A&&H.push("rotate(".concat(A,", ").concat(M,", ").concat(k,")")),H.length&&(R.transform=H.join(" ")),he.createElement("text",M2({},dn(R,!0),{x:M,y:k,className:_n("recharts-text",P),textAnchor:d,fill:y.includes("url")?v4:y}),b.map(function(X,Z){var L=X.words.join(I?"":" ");return he.createElement("tspan",{x:M,dy:Z===0?B:o,key:"".concat(L,"-").concat(Z)},L)}))};function xu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dOe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EO(t){let e,n,r;t.length!==2?(e=xu,n=(o,l)=>xu(t(o),l),r=(o,l)=>t(o)-l):(e=t===xu||t===dOe?t:pOe,n=t,r=t);function i(o,l,u=0,f=o.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<0?u=c+1:f=c}while(u<f)}return u}function s(o,l,u=0,f=o.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function a(o,l,u=0,f=o.length){const c=i(o,l,u,f-1);return c>u&&r(o[c-1],l)>-r(o[c],l)?c-1:c}return{left:i,center:a,right:s}}function pOe(){return 0}function hW(t){return t===null?NaN:+t}function*mOe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const gOe=EO(xu),iv=gOe.right;EO(hW).center;class x4 extends Map{constructor(e,n=xOe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(b4(this,e))}has(e){return super.has(b4(this,e))}set(e,n){return super.set(yOe(this,e),n)}delete(e){return super.delete(vOe(this,e))}}function b4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yOe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vOe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xOe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bOe(t=xu){if(t===xu)return dW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _Oe=Math.sqrt(50),wOe=Math.sqrt(10),SOe=Math.sqrt(2);function $b(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=_Oe?10:s>=wOe?5:s>=SOe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?$b(t,e,n*2):[o,l,u]}function C2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?$b(e,t,n):$b(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function T2(t,e,n){return e=+e,t=+t,n=+n,$b(t,e,n)[2]}function P2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?T2(e,t,n):T2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function w4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dW:bOe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*c/l+h)),m=Math.min(r,Math.floor(e+(l-u)*c/l+h));pW(t,e,d,m,i)}const s=t[e];let a=n,o=r;for(hm(t,n,e),i(t[r],s)>0&&hm(t,n,r);a<o;){for(hm(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?hm(t,n,o):(++o,hm(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function hm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function AOe(t,e,n){if(t=Float64Array.from(mOe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return w4(t);if(e>=1)return _4(t);var r,i=(r-1)*e,s=Math.floor(i),a=_4(pW(t,s).subarray(0,s+1)),o=w4(t.subarray(s+1));return a+(o-a)*(i-s)}}function EOe(t,e,n=hW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function MOe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ca(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Al(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R2=Symbol("implicit");function MO(){var t=new x4,e=[],n=[],r=R2;function i(s){let a=t.get(s);if(a===void 0){if(r!==R2)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new x4;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return MO(e,n).unknown(r)},ca.apply(i,arguments),i}function $g(){var t=MO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,d=i<r,m=d?i:r,x=d?r:i;s=(x-m)/Math.max(1,h-l+u*2),o&&(s=Math.floor(s)),m+=(x-m-s*(h-l))*f,a=s*(1-l),o&&(m=Math.round(m),a=Math.round(a));var v=MOe(h).map(function(y){return m+s*y});return n(d?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,c()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,c()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return $g(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},ca.apply(c(),arguments)}function mW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mW(e())},t}function Qm(){return mW($g.apply(null,arguments).paddingInner(1))}function CO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sv(){}var Vg=.7,Vb=1/Vg,Kh="\\s*([+-]?\\d+)\\s*",Wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",COe=/^#([0-9a-f]{3,8})$/,TOe=new RegExp(`^rgb\\(${Kh},${Kh},${Kh}\\)$`),POe=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),ROe=new RegExp(`^rgba\\(${Kh},${Kh},${Kh},${Wg}\\)$`),IOe=new RegExp(`^rgba\\(${go},${go},${go},${Wg}\\)$`),OOe=new RegExp(`^hsl\\(${Wg},${go},${go}\\)$`),kOe=new RegExp(`^hsla\\(${Wg},${go},${go},${Wg}\\)$`),S4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CO(sv,Xg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:A4,formatHex:A4,formatHex8:NOe,formatHsl:BOe,formatRgb:E4,toString:E4});function A4(){return this.rgb().formatHex()}function NOe(){return this.rgb().formatHex8()}function BOe(){return yW(this).formatHsl()}function E4(){return this.rgb().formatRgb()}function Xg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=COe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?M4(e):n===3?new ts(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TOe.exec(t))?new ts(e[1],e[2],e[3],1):(e=POe.exec(t))?new ts(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ROe.exec(t))?Mx(e[1],e[2],e[3],e[4]):(e=IOe.exec(t))?Mx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OOe.exec(t))?P4(e[1],e[2]/100,e[3]/100,1):(e=kOe.exec(t))?P4(e[1],e[2]/100,e[3]/100,e[4]):S4.hasOwnProperty(t)?M4(S4[t]):t==="transparent"?new ts(NaN,NaN,NaN,0):null}function M4(t){return new ts(t>>16&255,t>>8&255,t&255,1)}function Mx(t,e,n,r){return r<=0&&(t=e=n=NaN),new ts(t,e,n,r)}function DOe(t){return t instanceof sv||(t=Xg(t)),t?(t=t.rgb(),new ts(t.r,t.g,t.b,t.opacity)):new ts}function I2(t,e,n,r){return arguments.length===1?DOe(t):new ts(t,e,n,r??1)}function ts(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}CO(ts,I2,gW(sv,{brighter(t){return t=t==null?Vb:Math.pow(Vb,t),new ts(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vg:Math.pow(Vg,t),new ts(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ts(Xc(this.r),Xc(this.g),Xc(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C4,formatHex:C4,formatHex8:LOe,formatRgb:T4,toString:T4}));function C4(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function LOe(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function T4(){const t=Wb(this.opacity);return`${t===1?"rgb(":"rgba("}${Xc(this.r)}, ${Xc(this.g)}, ${Xc(this.b)}${t===1?")":`, ${t})`}`}function Wb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lc(t){return t=Xc(t),(t<16?"0":"")+t.toString(16)}function P4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oa(t,e,n,r)}function yW(t){if(t instanceof Oa)return new Oa(t.h,t.s,t.l,t.opacity);if(t instanceof sv||(t=Xg(t)),!t)return new Oa;if(t instanceof Oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Oa(a,o,l,t.opacity)}function FOe(t,e,n,r){return arguments.length===1?yW(t):new Oa(t,e,n,r??1)}function Oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}CO(Oa,FOe,gW(sv,{brighter(t){return t=t==null?Vb:Math.pow(Vb,t),new Oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vg:Math.pow(Vg,t),new Oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ts($M(t>=240?t-240:t+120,i,r),$M(t,i,r),$M(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oa(R4(this.h),Cx(this.s),Cx(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wb(this.opacity);return`${t===1?"hsl(":"hsla("}${R4(this.h)}, ${Cx(this.s)*100}%, ${Cx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R4(t){return t=(t||0)%360,t<0?t+360:t}function Cx(t){return Math.max(0,Math.min(1,t||0))}function $M(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const TO=t=>()=>t;function UOe(t,e){return function(n){return t+n*e}}function zOe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jOe(t){return(t=+t)==1?vW:function(e,n){return n-e?zOe(e,n,t):TO(isNaN(e)?n:e)}}function vW(t,e){var n=e-t;return n?UOe(t,n):TO(isNaN(t)?e:t)}const I4=function t(e){var n=jOe(e);function r(i,s){var a=n((i=I2(i)).r,(s=I2(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=vW(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function HOe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function GOe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $Oe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=dp(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function VOe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function WOe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=dp(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var O2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VM=new RegExp(O2.source,"g");function XOe(t){return function(){return t}}function qOe(t){return function(e){return t(e)+""}}function KOe(t,e){var n=O2.lastIndex=VM.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=O2.exec(t))&&(i=VM.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Xb(r,i)})),n=VM.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?qOe(l[0].x):XOe(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)o[(c=l[f]).i]=c.x(u);return o.join("")})}function dp(t,e){var n=typeof e,r;return e==null||n==="boolean"?TO(e):(n==="number"?Xb:n==="string"?(r=Xg(e))?(e=r,I4):KOe:e instanceof Xg?I4:e instanceof Date?VOe:GOe(e)?HOe:Array.isArray(e)?$Oe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WOe:Xb)(t,e)}function PO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function JOe(t,e){e===void 0&&(e=t,t=dp);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function YOe(t){return function(){return t}}function qb(t){return+t}var O4=[0,1];function Fi(t){return t}function k2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:YOe(isNaN(e)?NaN:.5)}function ZOe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function QOe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=k2(i,r),s=n(a,s)):(r=k2(r,i),s=n(s,a)),function(o){return s(r(o))}}function eke(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=k2(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=iv(t,o,1,r)-1;return s[l](i[l](o))}}function av(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sS(){var t=O4,e=O4,n=dp,r,i,s,a=Fi,o,l,u;function f(){var h=Math.min(t.length,e.length);return a!==Fi&&(a=ZOe(t[0],t[h-1])),o=h>2?eke:QOe,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(r),e,n)))(r(a(h)))}return c.invert=function(h){return a(i((u||(u=o(e,t.map(r),Xb)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,qb),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=PO,f()},c.clamp=function(h){return arguments.length?(a=h?!0:Fi,f()):a!==Fi},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(s=h,c):s},function(h,d){return r=h,i=d,f()}}function RO(){return sS()(Fi,Fi)}function tke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Md(t){return t=Kb(Math.abs(t)),t?t[1]:NaN}function nke(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function rke(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ike=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qg(t){if(!(e=ike.exec(t)))throw new Error("invalid format: "+t);var e;return new IO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qg.prototype=IO.prototype;function IO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ske(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xW;function ake(t,e){var n=Kb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(xW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kb(t,Math.max(0,e+s-1))[0]}function k4(t,e){var n=Kb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>k4(t*100,e),r:k4,s:ake,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function B4(t){return t}var D4=Array.prototype.map,L4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oke(t){var e=t.grouping===void 0||t.thousands===void 0?B4:nke(D4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?B4:rke(D4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=qg(c);var h=c.fill,d=c.align,m=c.sign,x=c.symbol,v=c.zero,y=c.width,_=c.comma,b=c.precision,w=c.trim,E=c.type;E==="n"?(_=!0,E="g"):N4[E]||(b===void 0&&(b=12),w=!0,E="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var A=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",P=x==="$"?r:/[%p]/.test(E)?a:"",I=N4[E],R=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(k){var B=A,H=P,j,V,X;if(E==="c")H=I(k)+H,k="";else{k=+k;var Z=k<0||1/k<0;if(k=isNaN(k)?l:I(Math.abs(k),b),w&&(k=ske(k)),Z&&+k==0&&m!=="+"&&(Z=!1),B=(Z?m==="("?m:o:m==="-"||m==="("?"":m)+B,H=(E==="s"?L4[8+xW/3]:"")+H+(Z&&m==="("?")":""),R){for(j=-1,V=k.length;++j<V;)if(X=k.charCodeAt(j),48>X||X>57){H=(X===46?i+k.slice(j+1):k.slice(j))+H,k=k.slice(0,j);break}}}_&&!v&&(k=e(k,1/0));var L=B.length+k.length+H.length,W=L<y?new Array(y-L+1).join(h):"";switch(_&&v&&(k=e(W+k,W.length?y-H.length:1/0),W=""),d){case"<":k=B+k+H+W;break;case"=":k=B+W+k+H;break;case"^":k=W.slice(0,L=W.length>>1)+B+k+H+W.slice(L);break;default:k=W+B+k+H;break}return s(k)}return M.toString=function(){return c+""},M}function f(c,h){var d=u((c=qg(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(Md(h)/3)))*3,x=Math.pow(10,-m),v=L4[8+m/3];return function(y){return d(x*y)+v}}return{format:u,formatPrefix:f}}var Tx,OO,bW;lke({thousands:",",grouping:[3],currency:["$",""]});function lke(t){return Tx=oke(t),OO=Tx.format,bW=Tx.formatPrefix,Tx}function uke(t){return Math.max(0,-Md(Math.abs(t)))}function cke(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Md(e)/3)))*3-Md(Math.abs(t)))}function fke(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Md(e)-Md(t))+1}function _W(t,e,n,r){var i=P2(t,e,n),s;switch(r=qg(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=cke(i,a))&&(r.precision=s),bW(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=fke(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=uke(i))&&(r.precision=s-(r.type==="%")*2);break}}return OO(r)}function Uu(t){var e=t.domain;return t.ticks=function(n){var r=e();return C2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _W(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,f=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);f-- >0;){if(u=T2(a,o,n),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Jb(){var t=RO();return t.copy=function(){return av(t,Jb())},ca.apply(t,arguments),Uu(t)}function wW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return wW(t).unknown(e)},t=arguments.length?Array.from(t,qb):[0,1],Uu(n)}function SW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function F4(t){return Math.log(t)}function U4(t){return Math.exp(t)}function hke(t){return-Math.log(-t)}function dke(t){return-Math.exp(-t)}function pke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mke(t){return t===10?pke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gke(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function z4(t){return(e,n)=>-t(-e,n)}function kO(t){const e=t(F4,U4),n=e.domain;let r=10,i,s;function a(){return i=gke(r),s=mke(r),n()[0]<0?(i=z4(i),s=z4(s),t(hke,dke)):t(F4,U4),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),d=i(f),m,x;const v=o==null?10:+o;let y=[];if(!(r%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(m=1;m<r;++m)if(x=h<0?m/s(-h):m*s(h),!(x<u)){if(x>f)break;y.push(x)}}else for(;h<=d;++h)for(m=r-1;m>=1;--m)if(x=h>0?m/s(-h):m*s(h),!(x<u)){if(x>f)break;y.push(x)}y.length*2<v&&(y=C2(u,f,v))}else y=C2(h,d,Math.min(d-h,v)).map(s);return c?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=qg(l)).precision==null&&(l.trim=!0),l=OO(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return f=>{let c=f/s(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(SW(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function AW(){const t=kO(sS()).domain([1,10]);return t.copy=()=>av(t,AW()).base(t.base()),ca.apply(t,arguments),t}function j4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NO(t){var e=1,n=t(j4(e),H4(e));return n.constant=function(r){return arguments.length?t(j4(e=+r),H4(e)):e},Uu(n)}function EW(){var t=NO(sS());return t.copy=function(){return av(t,EW()).constant(t.constant())},ca.apply(t,arguments)}function G4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vke(t){return t<0?-t*t:t*t}function BO(t){var e=t(Fi,Fi),n=1;function r(){return n===1?t(Fi,Fi):n===.5?t(yke,vke):t(G4(n),G4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Uu(e)}function DO(){var t=BO(sS());return t.copy=function(){return av(t,DO()).exponent(t.exponent())},ca.apply(t,arguments),t}function xke(){return DO.apply(null,arguments).exponent(.5)}function $4(t){return Math.sign(t)*t*t}function bke(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MW(){var t=RO(),e=[0,1],n=!1,r;function i(s){var a=bke(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert($4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,qb)).map($4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return MW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ca.apply(i,arguments),Uu(i)}function CW(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=EOe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[iv(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(xu),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return CW().domain(t).range(e).unknown(r)},ca.apply(s,arguments)}function TW(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[iv(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return TW().domain([t,e]).range(i).unknown(s)},ca.apply(Uu(a),arguments)}function PW(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[iv(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return PW().domain(t).range(e).unknown(n)},ca.apply(i,arguments)}const WM=new Date,XM=new Date;function jr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>jr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(WM.setTime(+s),XM.setTime(+a),t(WM),t(XM),Math.floor(n(WM,XM))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Yb=jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yb);Yb.range;const Qo=1e3,ea=Qo*60,el=ea*60,ml=el*24,LO=ml*7,V4=ml*30,qM=ml*365,Fc=jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qo)},(t,e)=>(e-t)/Qo,t=>t.getUTCSeconds());Fc.range;const FO=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qo)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getMinutes());FO.range;const UO=jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getUTCMinutes());UO.range;const zO=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qo-t.getMinutes()*ea)},(t,e)=>{t.setTime(+t+e*el)},(t,e)=>(e-t)/el,t=>t.getHours());zO.range;const jO=jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*el)},(t,e)=>(e-t)/el,t=>t.getUTCHours());jO.range;const ov=jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ea)/ml,t=>t.getDate()-1);ov.range;const aS=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>t.getUTCDate()-1);aS.range;const RW=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>Math.floor(t/ml));RW.range;function Af(t){return jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ea)/LO)}const oS=Af(0),Zb=Af(1),_ke=Af(2),wke=Af(3),Cd=Af(4),Ske=Af(5),Ake=Af(6);oS.range;Zb.range;_ke.range;wke.range;Cd.range;Ske.range;Ake.range;function Ef(t){return jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LO)}const lS=Ef(0),Qb=Ef(1),Eke=Ef(2),Mke=Ef(3),Td=Ef(4),Cke=Ef(5),Tke=Ef(6);lS.range;Qb.range;Eke.range;Mke.range;Td.range;Cke.range;Tke.range;const HO=jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());HO.range;const GO=jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GO.range;const gl=jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gl.range;const yl=jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});yl.range;function IW(t,e,n,r,i,s){const a=[[Fc,1,Qo],[Fc,5,5*Qo],[Fc,15,15*Qo],[Fc,30,30*Qo],[s,1,ea],[s,5,5*ea],[s,15,15*ea],[s,30,30*ea],[i,1,el],[i,3,3*el],[i,6,6*el],[i,12,12*el],[r,1,ml],[r,2,2*ml],[n,1,LO],[e,1,V4],[e,3,3*V4],[t,1,qM]];function o(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const d=c&&typeof c.range=="function"?c:l(u,f,c),m=d?d.range(u,+f+1):[];return h?m.reverse():m}function l(u,f,c){const h=Math.abs(f-u)/c,d=EO(([,,v])=>v).right(a,h);if(d===a.length)return t.every(P2(u/qM,f/qM,c));if(d===0)return Yb.every(Math.max(P2(u,f,c),1));const[m,x]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return m.every(x)}return[o,l]}const[Pke,Rke]=IW(yl,GO,lS,RW,jO,UO),[Ike,Oke]=IW(gl,HO,oS,ov,zO,FO);function KM(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function JM(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function kke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=pm(i),f=mm(i),c=pm(s),h=mm(s),d=pm(a),m=mm(a),x=pm(o),v=mm(o),y=pm(l),_=mm(l),b={a:Z,A:L,b:W,B:N,c:null,d:Y4,e:Y4,f:nNe,g:hNe,G:pNe,H:Qke,I:eNe,j:tNe,L:OW,m:rNe,M:iNe,p:q,q:te,Q:ez,s:tz,S:sNe,u:aNe,U:oNe,V:lNe,w:uNe,W:cNe,x:null,X:null,y:fNe,Y:dNe,Z:mNe,"%":Q4},w={a:G,A:Ie,b:Oe,B:ae,c:null,d:Z4,e:Z4,f:xNe,g:PNe,G:INe,H:gNe,I:yNe,j:vNe,L:NW,m:bNe,M:_Ne,p:_e,q:Ge,Q:ez,s:tz,S:wNe,u:SNe,U:ANe,V:ENe,w:MNe,W:CNe,x:null,X:null,y:TNe,Y:RNe,Z:ONe,"%":Q4},E={a:M,A:k,b:B,B:H,c:j,d:K4,e:K4,f:Kke,g:q4,G:X4,H:J4,I:J4,j:Vke,L:qke,m:$ke,M:Wke,p:R,q:Gke,Q:Yke,s:Zke,S:Xke,u:Fke,U:Uke,V:zke,w:Lke,W:jke,x:V,X,y:q4,Y:X4,Z:Hke,"%":Jke};b.x=A(n,b),b.X=A(r,b),b.c=A(e,b),w.x=A(n,w),w.X=A(r,w),w.c=A(e,w);function A(we,Le){return function(Je){var Pe=[],Q=-1,Me=0,Re=we.length,Ce,Ee,Ye;for(Je instanceof Date||(Je=new Date(+Je));++Q<Re;)we.charCodeAt(Q)===37&&(Pe.push(we.slice(Me,Q)),(Ee=W4[Ce=we.charAt(++Q)])!=null?Ce=we.charAt(++Q):Ee=Ce==="e"?" ":"0",(Ye=Le[Ce])&&(Ce=Ye(Je,Ee)),Pe.push(Ce),Me=Q+1);return Pe.push(we.slice(Me,Q)),Pe.join("")}}function P(we,Le){return function(Je){var Pe=dm(1900,void 0,1),Q=I(Pe,we,Je+="",0),Me,Re;if(Q!=Je.length)return null;if("Q"in Pe)return new Date(Pe.Q);if("s"in Pe)return new Date(Pe.s*1e3+("L"in Pe?Pe.L:0));if(Le&&!("Z"in Pe)&&(Pe.Z=0),"p"in Pe&&(Pe.H=Pe.H%12+Pe.p*12),Pe.m===void 0&&(Pe.m="q"in Pe?Pe.q:0),"V"in Pe){if(Pe.V<1||Pe.V>53)return null;"w"in Pe||(Pe.w=1),"Z"in Pe?(Me=JM(dm(Pe.y,0,1)),Re=Me.getUTCDay(),Me=Re>4||Re===0?Qb.ceil(Me):Qb(Me),Me=aS.offset(Me,(Pe.V-1)*7),Pe.y=Me.getUTCFullYear(),Pe.m=Me.getUTCMonth(),Pe.d=Me.getUTCDate()+(Pe.w+6)%7):(Me=KM(dm(Pe.y,0,1)),Re=Me.getDay(),Me=Re>4||Re===0?Zb.ceil(Me):Zb(Me),Me=ov.offset(Me,(Pe.V-1)*7),Pe.y=Me.getFullYear(),Pe.m=Me.getMonth(),Pe.d=Me.getDate()+(Pe.w+6)%7)}else("W"in Pe||"U"in Pe)&&("w"in Pe||(Pe.w="u"in Pe?Pe.u%7:"W"in Pe?1:0),Re="Z"in Pe?JM(dm(Pe.y,0,1)).getUTCDay():KM(dm(Pe.y,0,1)).getDay(),Pe.m=0,Pe.d="W"in Pe?(Pe.w+6)%7+Pe.W*7-(Re+5)%7:Pe.w+Pe.U*7-(Re+6)%7);return"Z"in Pe?(Pe.H+=Pe.Z/100|0,Pe.M+=Pe.Z%100,JM(Pe)):KM(Pe)}}function I(we,Le,Je,Pe){for(var Q=0,Me=Le.length,Re=Je.length,Ce,Ee;Q<Me;){if(Pe>=Re)return-1;if(Ce=Le.charCodeAt(Q++),Ce===37){if(Ce=Le.charAt(Q++),Ee=E[Ce in W4?Le.charAt(Q++):Ce],!Ee||(Pe=Ee(we,Je,Pe))<0)return-1}else if(Ce!=Je.charCodeAt(Pe++))return-1}return Pe}function R(we,Le,Je){var Pe=u.exec(Le.slice(Je));return Pe?(we.p=f.get(Pe[0].toLowerCase()),Je+Pe[0].length):-1}function M(we,Le,Je){var Pe=d.exec(Le.slice(Je));return Pe?(we.w=m.get(Pe[0].toLowerCase()),Je+Pe[0].length):-1}function k(we,Le,Je){var Pe=c.exec(Le.slice(Je));return Pe?(we.w=h.get(Pe[0].toLowerCase()),Je+Pe[0].length):-1}function B(we,Le,Je){var Pe=y.exec(Le.slice(Je));return Pe?(we.m=_.get(Pe[0].toLowerCase()),Je+Pe[0].length):-1}function H(we,Le,Je){var Pe=x.exec(Le.slice(Je));return Pe?(we.m=v.get(Pe[0].toLowerCase()),Je+Pe[0].length):-1}function j(we,Le,Je){return I(we,e,Le,Je)}function V(we,Le,Je){return I(we,n,Le,Je)}function X(we,Le,Je){return I(we,r,Le,Je)}function Z(we){return a[we.getDay()]}function L(we){return s[we.getDay()]}function W(we){return l[we.getMonth()]}function N(we){return o[we.getMonth()]}function q(we){return i[+(we.getHours()>=12)]}function te(we){return 1+~~(we.getMonth()/3)}function G(we){return a[we.getUTCDay()]}function Ie(we){return s[we.getUTCDay()]}function Oe(we){return l[we.getUTCMonth()]}function ae(we){return o[we.getUTCMonth()]}function _e(we){return i[+(we.getUTCHours()>=12)]}function Ge(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var Le=A(we+="",b);return Le.toString=function(){return we},Le},parse:function(we){var Le=P(we+="",!1);return Le.toString=function(){return we},Le},utcFormat:function(we){var Le=A(we+="",w);return Le.toString=function(){return we},Le},utcParse:function(we){var Le=P(we+="",!0);return Le.toString=function(){return we},Le}}}var W4={"-":"",_:" ",0:"0"},ei=/^\s*\d+/,Nke=/^%/,Bke=/[\\^$*+?|[\]().{}]/g;function Mn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Dke(t){return t.replace(Bke,"\\$&")}function pm(t){return new RegExp("^(?:"+t.map(Dke).join("|")+")","i")}function mm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Lke(t,e,n){var r=ei.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Fke(t,e,n){var r=ei.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Uke(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zke(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jke(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function X4(t,e,n){var r=ei.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function q4(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Hke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gke(t,e,n){var r=ei.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $ke(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function K4(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vke(t,e,n){var r=ei.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function J4(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wke(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xke(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qke(t,e,n){var r=ei.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Kke(t,e,n){var r=ei.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jke(t,e,n){var r=Nke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Yke(t,e,n){var r=ei.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Zke(t,e,n){var r=ei.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Y4(t,e){return Mn(t.getDate(),e,2)}function Qke(t,e){return Mn(t.getHours(),e,2)}function eNe(t,e){return Mn(t.getHours()%12||12,e,2)}function tNe(t,e){return Mn(1+ov.count(gl(t),t),e,3)}function OW(t,e){return Mn(t.getMilliseconds(),e,3)}function nNe(t,e){return OW(t,e)+"000"}function rNe(t,e){return Mn(t.getMonth()+1,e,2)}function iNe(t,e){return Mn(t.getMinutes(),e,2)}function sNe(t,e){return Mn(t.getSeconds(),e,2)}function aNe(t){var e=t.getDay();return e===0?7:e}function oNe(t,e){return Mn(oS.count(gl(t)-1,t),e,2)}function kW(t){var e=t.getDay();return e>=4||e===0?Cd(t):Cd.ceil(t)}function lNe(t,e){return t=kW(t),Mn(Cd.count(gl(t),t)+(gl(t).getDay()===4),e,2)}function uNe(t){return t.getDay()}function cNe(t,e){return Mn(Zb.count(gl(t)-1,t),e,2)}function fNe(t,e){return Mn(t.getFullYear()%100,e,2)}function hNe(t,e){return t=kW(t),Mn(t.getFullYear()%100,e,2)}function dNe(t,e){return Mn(t.getFullYear()%1e4,e,4)}function pNe(t,e){var n=t.getDay();return t=n>=4||n===0?Cd(t):Cd.ceil(t),Mn(t.getFullYear()%1e4,e,4)}function mNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mn(e/60|0,"0",2)+Mn(e%60,"0",2)}function Z4(t,e){return Mn(t.getUTCDate(),e,2)}function gNe(t,e){return Mn(t.getUTCHours(),e,2)}function yNe(t,e){return Mn(t.getUTCHours()%12||12,e,2)}function vNe(t,e){return Mn(1+aS.count(yl(t),t),e,3)}function NW(t,e){return Mn(t.getUTCMilliseconds(),e,3)}function xNe(t,e){return NW(t,e)+"000"}function bNe(t,e){return Mn(t.getUTCMonth()+1,e,2)}function _Ne(t,e){return Mn(t.getUTCMinutes(),e,2)}function wNe(t,e){return Mn(t.getUTCSeconds(),e,2)}function SNe(t){var e=t.getUTCDay();return e===0?7:e}function ANe(t,e){return Mn(lS.count(yl(t)-1,t),e,2)}function BW(t){var e=t.getUTCDay();return e>=4||e===0?Td(t):Td.ceil(t)}function ENe(t,e){return t=BW(t),Mn(Td.count(yl(t),t)+(yl(t).getUTCDay()===4),e,2)}function MNe(t){return t.getUTCDay()}function CNe(t,e){return Mn(Qb.count(yl(t)-1,t),e,2)}function TNe(t,e){return Mn(t.getUTCFullYear()%100,e,2)}function PNe(t,e){return t=BW(t),Mn(t.getUTCFullYear()%100,e,2)}function RNe(t,e){return Mn(t.getUTCFullYear()%1e4,e,4)}function INe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Td(t):Td.ceil(t),Mn(t.getUTCFullYear()%1e4,e,4)}function ONe(){return"+0000"}function Q4(){return"%"}function ez(t){return+t}function tz(t){return Math.floor(+t/1e3)}var hh,DW,LW;kNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kNe(t){return hh=kke(t),DW=hh.format,hh.parse,LW=hh.utcFormat,hh.utcParse,hh}function NNe(t){return new Date(t)}function BNe(t){return t instanceof Date?+t:+new Date(+t)}function $O(t,e,n,r,i,s,a,o,l,u){var f=RO(),c=f.invert,h=f.domain,d=u(".%L"),m=u(":%S"),x=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),_=u("%b %d"),b=u("%B"),w=u("%Y");function E(A){return(l(A)<A?d:o(A)<A?m:a(A)<A?x:s(A)<A?v:r(A)<A?i(A)<A?y:_:n(A)<A?b:w)(A)}return f.invert=function(A){return new Date(c(A))},f.domain=function(A){return arguments.length?h(Array.from(A,BNe)):h().map(NNe)},f.ticks=function(A){var P=h();return t(P[0],P[P.length-1],A??10)},f.tickFormat=function(A,P){return P==null?E:u(P)},f.nice=function(A){var P=h();return(!A||typeof A.range!="function")&&(A=e(P[0],P[P.length-1],A??10)),A?h(SW(P,A)):f},f.copy=function(){return av(f,$O(t,e,n,r,i,s,a,o,l,u))},f}function DNe(){return ca.apply($O(Ike,Oke,gl,HO,oS,ov,zO,FO,Fc,DW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LNe(){return ca.apply($O(Pke,Rke,yl,GO,lS,aS,jO,UO,Fc,LW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uS(){var t=0,e=1,n,r,i,s,a=Fi,o=!1,l;function u(c){return c==null||isNaN(c=+c)?l:a(i===0?.5:(c=(s(c)-n)*i,o?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(o=!!c,u):o},u.interpolator=function(c){return arguments.length?(a=c,u):a};function f(c){return function(h){var d,m;return arguments.length?([d,m]=h,a=c(d,m),u):[a(0),a(1)]}}return u.range=f(dp),u.rangeRound=f(PO),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return s=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function zu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FW(){var t=Uu(uS()(Fi));return t.copy=function(){return zu(t,FW())},Al.apply(t,arguments)}function UW(){var t=kO(uS()).domain([1,10]);return t.copy=function(){return zu(t,UW()).base(t.base())},Al.apply(t,arguments)}function zW(){var t=NO(uS());return t.copy=function(){return zu(t,zW()).constant(t.constant())},Al.apply(t,arguments)}function VO(){var t=BO(uS());return t.copy=function(){return zu(t,VO()).exponent(t.exponent())},Al.apply(t,arguments)}function FNe(){return VO.apply(null,arguments).exponent(.5)}function jW(){var t=[],e=Fi;function n(r){if(r!=null&&!isNaN(r=+r))return e((iv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>AOe(t,s/r))},n.copy=function(){return jW(e).domain(t)},Al.apply(n,arguments)}function cS(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,u=Fi,f,c=!1,h;function d(x){return isNaN(x=+x)?h:(x=.5+((x=+f(x))-s)*(r*x<r*s?o:l),u(c?Math.max(0,Math.min(1,x)):x))}d.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),s=f(e=+e),a=f(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,d):[t,e,n]},d.clamp=function(x){return arguments.length?(c=!!x,d):c},d.interpolator=function(x){return arguments.length?(u=x,d):u};function m(x){return function(v){var y,_,b;return arguments.length?([y,_,b]=v,u=JOe(x,[y,_,b]),d):[u(0),u(.5),u(1)]}}return d.range=m(dp),d.rangeRound=m(PO),d.unknown=function(x){return arguments.length?(h=x,d):h},function(x){return f=x,i=x(t),s=x(e),a=x(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,d}}function HW(){var t=Uu(cS()(Fi));return t.copy=function(){return zu(t,HW())},Al.apply(t,arguments)}function GW(){var t=kO(cS()).domain([.1,1,10]);return t.copy=function(){return zu(t,GW()).base(t.base())},Al.apply(t,arguments)}function $W(){var t=NO(cS());return t.copy=function(){return zu(t,$W()).constant(t.constant())},Al.apply(t,arguments)}function WO(){var t=BO(cS());return t.copy=function(){return zu(t,WO()).exponent(t.exponent())},Al.apply(t,arguments)}function UNe(){return WO.apply(null,arguments).exponent(.5)}const nz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$g,scaleDiverging:HW,scaleDivergingLog:GW,scaleDivergingPow:WO,scaleDivergingSqrt:UNe,scaleDivergingSymlog:$W,scaleIdentity:wW,scaleImplicit:R2,scaleLinear:Jb,scaleLog:AW,scaleOrdinal:MO,scalePoint:Qm,scalePow:DO,scaleQuantile:CW,scaleQuantize:TW,scaleRadial:MW,scaleSequential:FW,scaleSequentialLog:UW,scaleSequentialPow:VO,scaleSequentialQuantile:jW,scaleSequentialSqrt:FNe,scaleSequentialSymlog:zW,scaleSqrt:xke,scaleSymlog:EW,scaleThreshold:PW,scaleTime:DNe,scaleUtc:LNe,tickFormat:_W},Symbol.toStringTag,{value:"Module"}));var zNe=ip;function jNe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!zNe(a):n(a,o)))var o=a,l=s}return l}var VW=jNe;function HNe(t,e){return t>e}var GNe=HNe,$Ne=VW,VNe=GNe,WNe=fp;function XNe(t){return t&&t.length?$Ne(t,WNe,VNe):void 0}var qNe=XNe;const fS=On(qNe);function KNe(t,e){return t<e}var JNe=KNe,YNe=VW,ZNe=JNe,QNe=fp;function eBe(t){return t&&t.length?YNe(t,QNe,ZNe):void 0}var tBe=eBe;const hS=On(tBe);var nBe=aO,rBe=Fu,iBe=QV,sBe=us;function aBe(t,e){var n=sBe(t)?nBe:iBe;return n(t,rBe(e))}var oBe=aBe,lBe=YV,uBe=oBe;function cBe(t,e){return lBe(uBe(t,e),1)}var fBe=cBe;const hBe=On(fBe);var dBe=_O;function pBe(t,e){return dBe(t,e)}var mBe=pBe;const dS=On(mBe);var pp=1e9,gBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qO,tr=!0,aa="[DecimalError] ",qc=aa+"Invalid argument: ",XO=aa+"Exponent out of range: ",mp=Math.floor,wc=Math.pow,yBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ws,Wr=1e7,qn=7,WW=9007199254740991,e_=mp(WW/qn),Et={};Et.absoluteValue=Et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Et.comparedTo=Et.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Et.dividedBy=Et.div=function(t){return ol(this,new this.constructor(t))};Et.dividedToIntegerBy=Et.idiv=function(t){var e=this,n=e.constructor;return Un(ol(e,new n(t),0,1),n.precision)};Et.equals=Et.eq=function(t){return!this.cmp(t)};Et.exponent=function(){return Pr(this)};Et.greaterThan=Et.gt=function(t){return this.cmp(t)>0};Et.greaterThanOrEqualTo=Et.gte=function(t){return this.cmp(t)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(t){return this.cmp(t)<0};Et.lessThanOrEqualTo=Et.lte=function(t){return this.cmp(t)<1};Et.logarithm=Et.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ws))throw Error(aa+"NaN");if(n.s<1)throw Error(aa+(n.s?"NaN":"-Infinity"));return n.eq(ws)?new r(0):(tr=!1,e=ol(Kg(n,s),Kg(t,s),s),tr=!0,Un(e,i))};Et.minus=Et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KW(e,t):XW(e,(t.s=-t.s,t))};Et.modulo=Et.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(aa+"NaN");return n.s?(tr=!1,e=ol(n,t,0,1).times(t),tr=!0,n.minus(e)):Un(new r(n),i)};Et.naturalExponential=Et.exp=function(){return qW(this)};Et.naturalLogarithm=Et.ln=function(){return Kg(this)};Et.negated=Et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Et.plus=Et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XW(e,t):KW(e,(t.s=-t.s,t))};Et.precision=Et.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qc+t);if(e=Pr(i)+1,r=i.d.length-1,n=r*qn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Et.squareRoot=Et.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(aa+"NaN")}for(t=Pr(o),tr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=uo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(ol(o,s,a+2)).times(.5),uo(s.d).slice(0,a)===(e=uo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Un(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return tr=!0,Un(r,n)};Et.times=Et.mul=function(t){var e,n,r,i,s,a,o,l,u,f=this,c=f.constructor,h=f.d,d=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=h.length,u=d.length,l<u&&(s=h,h=d,d=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+d[r]*h[i-r-1]+e,s[i--]=o%Wr|0,e=o/Wr|0;s[i]=(s[i]+e)%Wr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,tr?Un(t,c.precision):t};Et.toDecimalPlaces=Et.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(wo(t,0,pp),e===void 0?e=r.rounding:wo(e,0,8),Un(n,t+Pr(n)+1,e))};Et.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ff(r,!0):(wo(t,0,pp),e===void 0?e=i.rounding:wo(e,0,8),r=Un(new i(r),t+1,e),n=ff(r,!0,t+1)),n};Et.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?ff(i):(wo(t,0,pp),e===void 0?e=s.rounding:wo(e,0,8),r=Un(new s(i),t+Pr(i)+1,e),n=ff(r.abs(),!1,t+Pr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Et.toInteger=Et.toint=function(){var t=this,e=t.constructor;return Un(new e(t),Pr(t)+1,e.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(ws);if(o=new l(o),!o.s){if(t.s<1)throw Error(aa+"Infinity");return o}if(o.eq(ws))return o;if(r=l.precision,t.eq(ws))return Un(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=f<0?-f:f)<=WW){for(i=new l(ws),e=Math.ceil(r/qn+4),tr=!1;n%2&&(i=i.times(o),iz(i.d,e)),n=mp(n/2),n!==0;)o=o.times(o),iz(o.d,e);return tr=!0,t.s<0?new l(ws).div(i):Un(i,r)}}else if(s<0)throw Error(aa+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,tr=!1,i=t.times(Kg(o,r+u)),tr=!0,i=qW(i),i.s=s,i};Et.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Pr(i),r=ff(i,n<=s.toExpNeg||n>=s.toExpPos)):(wo(t,1,pp),e===void 0?e=s.rounding:wo(e,0,8),i=Un(new s(i),t,e),n=Pr(i),r=ff(i,t<=n||n<=s.toExpNeg,t)),r};Et.toSignificantDigits=Et.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(wo(t,1,pp),e===void 0?e=r.rounding:wo(e,0,8)),Un(new r(n),t,e)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pr(t),n=t.constructor;return ff(t,e<=n.toExpNeg||e>=n.toExpPos)};function XW(t,e){var n,r,i,s,a,o,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),tr?Un(e,c):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(c/qn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Wr|0,l[s]%=Wr;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,tr?Un(e,c):e}function wo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(qc+t)}function uo(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=qn-r.length,n&&(s+=Kl(n)),s+=r;a=t[e],r=a+"",n=qn-r.length,n&&(s+=Kl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ol=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Wr|0,a=s/Wr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Wr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,f,c,h,d,m,x,v,y,_,b,w,E,A,P,I,R=r.constructor,M=r.s==i.s?1:-1,k=r.d,B=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(aa+"Division by zero");for(l=r.e-i.e,P=B.length,E=k.length,d=new R(M),m=d.d=[],u=0;B[u]==(k[u]||0);)++u;if(B[u]>(k[u]||0)&&--l,s==null?_=s=R.precision:a?_=s+(Pr(r)-Pr(i))+1:_=s,_<0)return new R(0);if(_=_/qn+2|0,u=0,P==1)for(f=0,B=B[0],_++;(u<E||f)&&_--;u++)b=f*Wr+(k[u]||0),m[u]=b/B|0,f=b%B|0;else{for(f=Wr/(B[0]+1)|0,f>1&&(B=t(B,f),k=t(k,f),P=B.length,E=k.length),w=P,x=k.slice(0,P),v=x.length;v<P;)x[v++]=0;I=B.slice(),I.unshift(0),A=B[0],B[1]>=Wr/2&&++A;do f=0,o=e(B,x,P,v),o<0?(y=x[0],P!=v&&(y=y*Wr+(x[1]||0)),f=y/A|0,f>1?(f>=Wr&&(f=Wr-1),c=t(B,f),h=c.length,v=x.length,o=e(c,x,h,v),o==1&&(f--,n(c,P<h?I:B,h))):(f==0&&(o=f=1),c=B.slice()),h=c.length,h<v&&c.unshift(0),n(x,c,v),o==-1&&(v=x.length,o=e(B,x,P,v),o<1&&(f++,n(x,P<v?I:B,v))),v=x.length):o===0&&(f++,x=[0]),m[u++]=f,o&&x[0]?x[v++]=k[w]||0:(x=[k[w]],v=1);while((w++<E||x[0]!==void 0)&&_--)}return m[0]||m.shift(),d.e=l,Un(d,a?s+Pr(d)+1:s)}}();function qW(t,e){var n,r,i,s,a,o,l=0,u=0,f=t.constructor,c=f.precision;if(Pr(t)>16)throw Error(XO+Pr(t));if(!t.s)return new f(ws);for(tr=!1,o=c,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(wc(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new f(ws),f.precision=o;;){if(i=Un(i.times(t),o),n=n.times(++l),a=s.plus(ol(i,n,o)),uo(a.d).slice(0,o)===uo(s.d).slice(0,o)){for(;u--;)s=Un(s.times(s),o);return f.precision=c,e==null?(tr=!0,Un(s,c)):s}s=a}}function Pr(t){for(var e=t.e*qn,n=t.d[0];n>=10;n/=10)e++;return e}function YM(t,e,n){if(e>t.LN10.sd())throw tr=!0,n&&(t.precision=n),Error(aa+"LN10 precision limit exceeded");return Un(new t(t.LN10),e)}function Kl(t){for(var e="";t--;)e+="0";return e}function Kg(t,e){var n,r,i,s,a,o,l,u,f,c=1,h=10,d=t,m=d.d,x=d.constructor,v=x.precision;if(d.s<1)throw Error(aa+(d.s?"NaN":"-Infinity"));if(d.eq(ws))return new x(0);if(e==null?(tr=!1,u=v):u=e,d.eq(10))return e==null&&(tr=!0),YM(x,u);if(u+=h,x.precision=u,n=uo(m),r=n.charAt(0),s=Pr(d),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=uo(d.d),r=n.charAt(0),c++;s=Pr(d),r>1?(d=new x("0."+n),s++):d=new x(r+"."+n.slice(1))}else return l=YM(x,u+2,v).times(s+""),d=Kg(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=v,e==null?(tr=!0,Un(d,v)):d;for(o=a=d=ol(d.minus(ws),d.plus(ws),u),f=Un(d.times(d),u),i=3;;){if(a=Un(a.times(f),u),l=o.plus(ol(a,new x(i),u)),uo(l.d).slice(0,u)===uo(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(YM(x,u+2,v).times(s+""))),o=ol(o,new x(c),u),x.precision=v,e==null?(tr=!0,Un(o,v)):o;o=l,i+=2}}function rz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=mp(n/qn),t.d=[],r=(n+1)%qn,n<0&&(r+=qn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qn;r<i;)t.d.push(+e.slice(r,r+=qn));e=e.slice(r),r=qn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tr&&(t.e>e_||t.e<-e_))throw Error(XO+n)}else t.s=0,t.e=0,t.d=[0];return t}function Un(t,e,n){var r,i,s,a,o,l,u,f,c=t.d;for(a=1,s=c[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=qn,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/qn),s=c.length,f>=s)return t;for(u=s=c[f],a=1;s>=10;s/=10)a++;r%=qn,i=r-qn+a}if(n!==void 0&&(s=wc(10,a-i-1),o=u/s%10|0,l=e<0||c[f+1]!==void 0||u%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/wc(10,a-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(s=Pr(t),c.length=1,e=e-s-1,c[0]=wc(10,(qn-e%qn)%qn),t.e=mp(-e/qn)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,s=1,f--):(c.length=f+1,s=wc(10,qn-r),c[f]=i>0?(u/wc(10,a-i)%wc(10,i)|0)*s:0),l)for(;;)if(f==0){(c[0]+=s)==Wr&&(c[0]=1,++t.e);break}else{if(c[f]+=s,c[f]!=Wr)break;c[f--]=0,s=1}for(r=c.length;c[--r]===0;)c.pop();if(tr&&(t.e>e_||t.e<-e_))throw Error(XO+Pr(t));return t}function KW(t,e){var n,r,i,s,a,o,l,u,f,c,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),tr?Un(e,d):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(f=a<0,f?(n=l,a=-a,o=c.length):(n=c,r=u,o=l.length),i=Math.max(Math.ceil(d/qn),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=c.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}a=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),o=l.length,i=c.length-o;i>0;--i)l[o++]=0;for(i=c.length;i>a;){if(l[--i]<c[i]){for(s=i;s&&l[--s]===0;)l[s]=Wr-1;--l[s],l[i]+=Wr}l[i]-=c[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,tr?Un(e,d):e):new h(0)}function ff(t,e,n){var r,i=Pr(t),s=uo(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Kl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Kl(-i-1)+s,n&&(r=n-a)>0&&(s+=Kl(r))):i>=a?(s+=Kl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Kl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Kl(r))),t.s<0?"-"+s:s}function iz(t,e){if(t.length>e)return t.length=e,!0}function JW(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(qc+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return rz(a,s.toString())}else if(typeof s!="string")throw Error(qc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,yBe.test(s))rz(a,s);else throw Error(qc+s)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JW,i.config=i.set=vBe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vBe(t){if(!t||typeof t!="object")throw Error(aa+"Object expected");var e,n,r,i=["precision",1,pp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(mp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(qc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qc+n+": "+r);return this}var qO=JW(gBe);ws=new qO(1);const Ln=qO;function xBe(t){return SBe(t)||wBe(t)||_Be(t)||bBe()}function bBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Be(t,e){if(t){if(typeof t=="string")return N2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(t,e)}}function wBe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SBe(t){if(Array.isArray(t))return N2(t)}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ABe=function(e){return e},YW={},ZW=function(e){return e===YW},sz=function(e){return function n(){return arguments.length===0||arguments.length===1&&ZW(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},EBe=function t(e,n){return e===1?n:sz(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==YW}).length;return a>=e?n.apply(void 0,i):t(e-a,sz(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=i.map(function(c){return ZW(c)?l.shift():c});return n.apply(void 0,xBe(f).concat(l))}))})},pS=function(e){return EBe(e.length,e)},B2=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},MBe=pS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),CBe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ABe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},D2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},QW=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function TBe(t){var e;return t===0?e=1:e=Math.floor(new Ln(t).abs().log(10).toNumber())+1,e}function PBe(t,e,n){for(var r=new Ln(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var RBe=pS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),IBe=pS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),OBe=pS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const mS={rangeStep:PBe,getDigitCount:TBe,interpolateNumber:RBe,uninterpolateNumber:IBe,uninterpolateTruncation:OBe};function L2(t){return BBe(t)||NBe(t)||e7(t)||kBe()}function kBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NBe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BBe(t){if(Array.isArray(t))return F2(t)}function Jg(t,e){return FBe(t)||LBe(t,e)||e7(t,e)||DBe()}function DBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LBe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function FBe(t){if(Array.isArray(t))return t}function t7(t){var e=Jg(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function n7(t,e,n){if(t.lte(0))return new Ln(0);var r=mS.getDigitCount(t.toNumber()),i=new Ln(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ln(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Ln(Math.ceil(l))}function UBe(t,e,n){var r=1,i=new Ln(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ln(10).pow(mS.getDigitCount(t)-1),i=new Ln(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ln(Math.floor(t)))}else t===0?i=new Ln(Math.floor((e-1)/2)):n||(i=new Ln(Math.floor(t)));var a=Math.floor((e-1)/2),o=CBe(MBe(function(l){return i.add(new Ln(l-a).mul(r)).toNumber()}),B2);return o(0,e)}function r7(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ln(0),tickMin:new Ln(0),tickMax:new Ln(0)};var s=n7(new Ln(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ln(0):(a=new Ln(t).add(e).div(2),a=a.sub(new Ln(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Ln(e).sub(a).div(s).toNumber()),u=o+l+1;return u>n?r7(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:s,tickMin:a.sub(new Ln(o).mul(s)),tickMax:a.add(new Ln(l).mul(s))})}function zBe(t){var e=Jg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=t7([n,r]),l=Jg(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(L2(B2(0,i-1).map(function(){return 1/0}))):[].concat(L2(B2(0,i-1).map(function(){return-1/0})),[f]);return n>r?D2(c):c}if(u===f)return UBe(u,i,s);var h=r7(u,f,a,s),d=h.step,m=h.tickMin,x=h.tickMax,v=mS.rangeStep(m,x.add(new Ln(.1).mul(d)),d);return n>r?D2(v):v}function jBe(t,e){var n=Jg(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=t7([r,i]),o=Jg(a,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=n7(new Ln(u).sub(l).div(f-1),s,0),h=[].concat(L2(mS.rangeStep(new Ln(l),new Ln(u).sub(new Ln(.99).mul(c)),c)),[u]);return r>i?D2(h):h}var HBe=QW(zBe),GBe=QW(jBe),$Be="Invariant failed";function hf(t,e){throw new Error($Be)}var VBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function WBe(t,e){return JBe(t)||KBe(t,e)||qBe(t,e)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qBe(t,e){if(t){if(typeof t=="string")return az(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return az(t,e)}}function az(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function JBe(t){if(Array.isArray(t))return t}function YBe(t,e){if(t==null)return{};var n=ZBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a7(r.key),r)}}function tDe(t,e,n){return e&&eDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nDe(t,e,n){return e=n_(e),rDe(t,i7()?Reflect.construct(e,n||[],n_(t).constructor):e.apply(t,n))}function rDe(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iDe(t)}function iDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i7=function(){return!!t})()}function n_(t){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n_(t)}function sDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U2(t,e)}function U2(t,e){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U2(t,e)}function s7(t,e,n){return e=a7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a7(t){var e=aDe(t,"string");return Pd(e)=="symbol"?e:e+""}function aDe(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lv=function(t){function e(){return QBe(this,e),nDe(this,e,arguments)}return sDe(e,t),tDe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,h=YBe(r,VBe),d=dn(h,!1);this.props.direction==="x"&&f.type!=="number"&&hf();var m=l.map(function(x){var v=u(x,o),y=v.x,_=v.y,b=v.value,w=v.errorVal;if(!w)return null;var E=[],A,P;if(Array.isArray(w)){var I=WBe(w,2);A=I[0],P=I[1]}else A=P=w;if(s==="vertical"){var R=f.scale,M=_+i,k=M+a,B=M-a,H=R(b-A),j=R(b+P);E.push({x1:j,y1:k,x2:j,y2:B}),E.push({x1:H,y1:M,x2:j,y2:M}),E.push({x1:H,y1:k,x2:H,y2:B})}else if(s==="horizontal"){var V=c.scale,X=y+i,Z=X-a,L=X+a,W=V(b-A),N=V(b+P);E.push({x1:Z,y1:N,x2:L,y2:N}),E.push({x1:X,y1:W,x2:X,y2:N}),E.push({x1:Z,y1:W,x2:L,y2:W})}return he.createElement(yr,t_({className:"recharts-errorBar",key:"bar-".concat(E.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},d),E.map(function(q){return he.createElement("line",t_({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return he.createElement(yr,{className:"recharts-errorBars"},m)}}])}(he.Component);s7(lv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});s7(lv,"displayName","ErrorBar");function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){oDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oDe(t,e,n){return e=lDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lDe(t){var e=uDe(t,"string");return Yg(e)=="symbol"?e:e+""}function uDe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o7=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=_s(n,qh);if(!a)return null;var o=qh.defaultProps,l=o!==void 0?dc(dc({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(f,c){var h=c.item,d=c.props,m=d.sectors||d.data||[];return f.concat(m.map(function(x){return{type:a.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(f){var c=f.item,h=c.type.defaultProps,d=h!==void 0?dc(dc({},h),c.props):{},m=d.dataKey,x=d.name,v=d.legendType,y=d.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:KO(c),value:x||m,payload:d}}),dc(dc(dc({},l),qh.getWithHeight(a,i)),{},{payload:u,item:a})};function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function lz(t){return dDe(t)||hDe(t)||fDe(t)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fDe(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function hDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dDe(t){if(Array.isArray(t))return z2(t)}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jh(t,e,n){return e=pDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pDe(t){var e=mDe(t,"string");return Zg(e)=="symbol"?e:e+""}function mDe(t,e){if(Zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rs(t,e,n){return cn(t)||cn(e)?n:Lr(e)?na(t,e,n):rn(e)?e(t):n}function eg(t,e,n,r){var i=hBe(t,function(o){return Rs(o,e)});if(n==="number"){var s=i.filter(function(o){return ft(o)||parseFloat(o)});return s.length?[hS(s),fS(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!cn(o)}):i;return a.map(function(o){return Lr(o)||o instanceof Date?o:""})}var gDe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<o;u++){var f=u>0?i[u-1].coordinate:i[o-1].coordinate,c=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,d=void 0;if(Da(c-f)!==Da(h-c)){var m=[];if(Da(h-c)===Da(l[1]-l[0])){d=h;var x=c+l[1]-l[0];m[0]=Math.min(x,(x+f)/2),m[1]=Math.max(x,(x+f)/2)}else{d=f;var v=h+l[1]-l[0];m[0]=Math.min(c,(v+c)/2),m[1]=Math.max(c,(v+c)/2)}var y=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var _=Math.min(f,h),b=Math.max(f,h);if(e>(_+c)/2&&e<=(b+c)/2){a=i[u].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){a=r[w].index;break}return a},KO=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},yDe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,u=o.length;l<u;l++)for(var f=s[o[l]].stackGroups,c=Object.keys(f),h=0,d=c.length;h<d;h++){var m=f[c[h]],x=m.items,v=m.cateAxisId,y=x.filter(function(P){return sl(P.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,b=_!==void 0?hr(hr({},_),y[0].props):y[0].props,w=b.barSize,E=b[v];a[E]||(a[E]=[]);var A=cn(w)?n:w;a[E].push({item:y[0],stackList:y.slice(1),barSize:cn(A)?void 0:cf(A,r,0)})}}return a},vDe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var u=cf(n,i,0,!0),f,c=[];if(a[0].barSize===+a[0].barSize){var h=!1,d=i/l,m=a.reduce(function(w,E){return w+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&d>0&&(h=!0,d*=.9,m=l*d);var x=(i-m)/2>>0,v={offset:x-u,size:0};f=a.reduce(function(w,E){var A={item:E.item,position:{offset:v.offset+v.size+u,size:h?d:E.barSize}},P=[].concat(lz(w),[A]);return v=P[P.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){P.push({item:I,position:v})}),P},c)}else{var y=cf(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var _=(i-2*y-(l-1)*u)/l;_>1&&(_>>=0);var b=o===+o?Math.min(_,o):_;f=a.reduce(function(w,E,A){var P=[].concat(lz(w),[{item:E.item,position:{offset:y+(_+u)*A+(_-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},c)}return f},xDe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),u=o7({children:s,legendWidth:l});if(u){var f=i||{},c=f.width,h=f.height,d=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&d!=="center"&&ft(e[d]))return hr(hr({},e),{},Jh({},d,e[d]+(c||0)));if((x==="horizontal"||x==="vertical"&&d==="center")&&m!=="middle"&&ft(e[m]))return hr(hr({},e),{},Jh({},m,e[m]+(h||0)))}return e},bDe=function(e,n,r){return cn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},l7=function(e,n,r,i,s){var a=n.props.children,o=ra(a,lv).filter(function(u){return bDe(i,s,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=Rs(f,r);if(cn(c))return u;var h=Array.isArray(c)?[hS(c),fS(c)]:[c,c],d=l.reduce(function(m,x){var v=Rs(f,x,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0])}return null},_De=function(e,n,r,i,s){var a=n.map(function(o){return l7(e,o,r,s,i)}).filter(function(o){return!cn(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},u7=function(e,n,r,i,s){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&l7(e,l,u,i)||eg(e,u,r,s)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)o[u[f]]||(o[u[f]]=!0,l.push(u[f]));return l},[])},c7=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},f7=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},tl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Da(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(c){var h=s?s.indexOf(c):c;return{coordinate:i(h)+u,value:c,offset:u}});return f.filter(function(c){return!tv(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,h){return{coordinate:i(c)+u,value:c,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,h){return{coordinate:i(c)+u,value:s?s[c]:c,index:h,offset:u}})},ZM=new WeakMap,Px=function(e,n){if(typeof n!="function")return e;ZM.has(e)||ZM.set(e,new WeakMap);var r=ZM.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},wDe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:$g(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Jb(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Qm(),realScaleType:"point"}:s==="category"?{scale:$g(),realScaleType:"band"}:{scale:Jb(),realScaleType:"linear"};if(uf(i)){var l="scale".concat(Zw(i));return{scale:(nz[l]||Qm)(),realScaleType:nz[l]?l:"point"}}return rn(i)?{scale:i}:{scale:Qm(),realScaleType:"point"}},cz=1e-4,SDe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-cz,a=Math.max(i[0],i[1])+cz,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},ADe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},EDe=function(e,n){if(!n||n.length!==2||!ft(n[0])||!ft(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ft(e[0])||e[0]<r)&&(s[0]=r),(!ft(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},MDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=tv(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},CDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=tv(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},TDe={sign:MDe,expand:GSe,none:_d,silhouette:$Se,wiggle:VSe,positive:CDe},PDe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=TDe[r],a=HSe().keys(i).value(function(o,l){return+Rs(o,l,0)}).order(f2).offset(s);return a(e)},RDe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},u=o.reduce(function(c,h){var d,m=(d=h.type)!==null&&d!==void 0&&d.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,x=m.stackId,v=m.hide;if(v)return c;var y=m[r],_=c[y]||{hasStack:!1,stackGroups:{}};if(Lr(x)){var b=_.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),_.hasStack=!0,_.stackGroups[x]=b}else _.stackGroups[nv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return hr(hr({},c),{},Jh({},y,_))},l),f={};return Object.keys(u).reduce(function(c,h){var d=u[h];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(x,v){var y=d.stackGroups[v];return hr(hr({},x),{},Jh({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:PDe(e,y.items,s)}))},m)}return hr(hr({},c),{},Jh({},h,d))},f)},IDe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=HBe(u,s,o);return e.domain([hS(f),fS(f)]),{niceTicks:f}}if(s&&i==="number"){var c=e.domain(),h=GBe(c,s,o);return{niceTicks:h}}return null};function fz(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cn(i[e.dataKey])){var o=Cb(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Rs(i,cn(a)?e.dataKey:a);return cn(l)?null:e.scale(l)}var hz=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Rs(a,n.dataKey,n.domain[o]);return cn(l)?null:n.scale(l)-s/2+i},ODe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},kDe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Lr(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},NDe=function(e){return e.reduce(function(n,r){return[hS(r.concat([n[0]]).filter(ft)),fS(r.concat([n[1]]).filter(ft))]},[1/0,-1/0])},h7=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(u,f){var c=NDe(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},dz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j2=function(e,n,r){if(rn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ft(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(dz.test(e[0])){var s=+dz.exec(e[0])[1];i[0]=n[0]-s}else rn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ft(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(pz.test(e[1])){var a=+pz.exec(e[1])[1];i[1]=n[1]+a}else rn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},r_=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=SO(n,function(c){return c.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var u=s[o],f=s[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},mz=function(e,n,r){return!e||!e.length||dS(e,na(r,"type.defaultProps.domain"))?n:e},d7=function(e,n){var r=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return hr(hr({},dn(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:KO(e),value:Rs(n,i),type:l,payload:n,chartType:u,hide:f})};function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(n),!0).forEach(function(r){BDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BDe(t,e,n){return e=DDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DDe(t){var e=LDe(t,"string");return Qg(e)=="symbol"?e:e+""}function LDe(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i_=Math.PI/180,FDe=function(e){return e*180/Math.PI},ii=function(e,n,r,i){return{x:e+Math.cos(-i_*i)*r,y:n+Math.sin(-i_*i)*r}},UDe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},zDe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=UDe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:o,angle:FDe(u),angleInRadian:u}},jDe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},HDe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},vz=function(e,n){var r=e.x,i=e.y,s=zDe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var f=jDe(n),c=f.startAngle,h=f.endAngle,d=o,m;if(c<=h){for(;d>h;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=h}else{for(;d>c;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=c}return m?yz(yz({},n),{},{radius:a,angle:HDe(d,n)}):null};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}var GDe=["offset"];function $De(t){return qDe(t)||XDe(t)||WDe(t)||VDe()}function VDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(t,e){if(t){if(typeof t=="string")return H2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H2(t,e)}}function XDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qDe(t){if(Array.isArray(t))return H2(t)}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KDe(t,e){if(t==null)return{};var n=JDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(n),!0).forEach(function(r){YDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YDe(t,e,n){return e=ZDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZDe(t){var e=QDe(t,"string");return ey(e)=="symbol"?e:e+""}function QDe(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}var eLe=function(e){var n=e.value,r=e.formatter,i=cn(e.children)?n:e.children;return rn(r)?r(i):i},tLe=function(e,n){var r=Da(n-e),i=Math.min(Math.abs(n-e),360);return r*i},nLe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,u=l.cx,f=l.cy,c=l.innerRadius,h=l.outerRadius,d=l.startAngle,m=l.endAngle,x=l.clockWise,v=(c+h)/2,y=tLe(d,m),_=y>=0?1:-1,b,w;i==="insideStart"?(b=d+_*a,w=x):i==="insideEnd"?(b=m-_*a,w=!x):i==="end"&&(b=m+_*a,w=x),w=y<=0?w:!w;var E=ii(u,f,v,b),A=ii(u,f,v,b+(w?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(A.x,",").concat(A.y),I=cn(e.id)?nv("recharts-radial-line-"):e.id;return he.createElement("text",ty({},r,{dominantBaseline:"central",className:_n("recharts-radial-bar-label",o)}),he.createElement("defs",null,he.createElement("path",{id:I,d:P})),he.createElement("textPath",{xlinkHref:"#".concat(I)},n))},rLe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.startAngle,c=s.endAngle,h=(f+c)/2;if(i==="outside"){var d=ii(a,o,u+r,h),m=d.x,x=d.y;return{x:m,y:x,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=ii(a,o,v,h),_=y.x,b=y.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},iLe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,u=a.width,f=a.height,c=f>=0?1:-1,h=c*i,d=c>0?"end":"start",m=c>0?"start":"end",x=u>=0?1:-1,v=x*i,y=x>0?"end":"start",_=x>0?"start":"end";if(s==="top"){var b={x:o+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:d};return kr(kr({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var w={x:o+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return kr(kr({},w),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(s==="left"){var E={x:o-v,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return kr(kr({},E),r?{width:Math.max(E.x-r.x,0),height:f}:{})}if(s==="right"){var A={x:o+u+v,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return kr(kr({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:f}:{})}var P=r?{width:u,height:f}:{};return s==="insideLeft"?kr({x:o+v,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},P):s==="insideRight"?kr({x:o+u-v,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},P):s==="insideTop"?kr({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},P):s==="insideBottom"?kr({x:o+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:d},P):s==="insideTopLeft"?kr({x:o+v,y:l+h,textAnchor:_,verticalAnchor:m},P):s==="insideTopRight"?kr({x:o+u-v,y:l+h,textAnchor:y,verticalAnchor:m},P):s==="insideBottomLeft"?kr({x:o+v,y:l+f-h,textAnchor:_,verticalAnchor:d},P):s==="insideBottomRight"?kr({x:o+u-v,y:l+f-h,textAnchor:y,verticalAnchor:d},P):sp(s)&&(ft(s.x)||Dc(s.x))&&(ft(s.y)||Dc(s.y))?kr({x:o+cf(s.x,u),y:l+cf(s.y,f),textAnchor:"end",verticalAnchor:"end"},P):kr({x:o+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},sLe=function(e){return"cx"in e&&ft(e.cx)};function _i(t){var e=t.offset,n=e===void 0?5:e,r=KDe(t,GDe),i=kr({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,h=i.textBreakAll;if(!s||cn(o)&&cn(l)&&!U.isValidElement(u)&&!rn(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var d;if(rn(u)){if(d=U.createElement(u,i),U.isValidElement(d))return d}else d=eLe(i);var m=sLe(s),x=dn(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return nLe(i,d,x);var v=m?rLe(i):iLe(i);return he.createElement(Gb,ty({className:_n("recharts-label",c)},x,v,{breakAll:h}),d)}_i.displayName="Label";var p7=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,h=e.y,d=e.top,m=e.left,x=e.width,v=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(ft(x)&&ft(v)){if(ft(c)&&ft(h))return{x:c,y:h,width:x,height:v};if(ft(d)&&ft(m))return{x:d,y:m,width:x,height:v}}return ft(c)&&ft(h)?{x:c,y:h,width:0,height:0}:ft(n)&&ft(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:f||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},aLe=function(e,n){return e?e===!0?he.createElement(_i,{key:"label-implicit",viewBox:n}):Lr(e)?he.createElement(_i,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===_i?U.cloneElement(e,{key:"label-implicit",viewBox:n}):he.createElement(_i,{key:"label-implicit",content:e,viewBox:n}):rn(e)?he.createElement(_i,{key:"label-implicit",content:e,viewBox:n}):sp(e)?he.createElement(_i,ty({viewBox:n},e,{key:"label-implicit"})):null:null},oLe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=p7(e),a=ra(i,_i).map(function(l,u){return U.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var o=aLe(e.label,n||s);return[o].concat($De(a))};_i.parseViewBox=p7;_i.renderCallByParent=oLe;function lLe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uLe=lLe;const cLe=On(uLe);function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}var fLe=["valueAccessor"],hLe=["data","dataKey","clockWise","id","textBreakAll"];function dLe(t){return yLe(t)||gLe(t)||mLe(t)||pLe()}function pLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mLe(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function gLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yLe(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){vLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vLe(t,e,n){return e=xLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xLe(t){var e=bLe(t,"string");return ny(e)=="symbol"?e:e+""}function bLe(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wz(t,e){if(t==null)return{};var n=_Le(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Le(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wLe=function(e){return Array.isArray(e.value)?cLe(e.value):e.value};function bu(t){var e=t.valueAccessor,n=e===void 0?wLe:e,r=wz(t,fLe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,u=wz(r,hLe);return!i||!i.length?null:he.createElement(yr,{className:"recharts-label-list"},i.map(function(f,c){var h=cn(s)?n(f,c):Rs(f&&f.payload,s),d=cn(o)?{}:{id:"".concat(o,"-").concat(c)};return he.createElement(_i,s_({},dn(f,!0),u,d,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:_i.parseViewBox(cn(a)?f:_z(_z({},f),{},{clockWise:a})),key:"label-".concat(c),index:c}))}))}bu.displayName="LabelList";function SLe(t,e){return t?t===!0?he.createElement(bu,{key:"labelList-implicit",data:e}):he.isValidElement(t)||rn(t)?he.createElement(bu,{key:"labelList-implicit",data:e,content:t}):sp(t)?he.createElement(bu,s_({data:e},t,{key:"labelList-implicit"})):null:null}function ALe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ra(r,bu).map(function(a,o){return U.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=SLe(t.label,e);return[s].concat(dLe(i))}bu.renderCallByParent=ALe;function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function Sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(n),!0).forEach(function(r){ELe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ELe(t,e,n){return e=MLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MLe(t){var e=CLe(t,"string");return ry(e)=="symbol"?e:e+""}function CLe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TLe=function(e,n){var r=Da(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Rx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(o?1:-1)+i,c=Math.asin(l/f)/i_,h=u?s:s+a*c,d=ii(n,r,f,h),m=ii(n,r,i,h),x=u?s-a*c:s,v=ii(n,r,f*Math.cos(c*i_),x);return{center:d,circleTangency:m,lineTangency:v,theta:c}},m7=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=TLe(a,o),u=a+l,f=ii(n,r,s,a),c=ii(n,r,s,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var d=ii(n,r,i,a),m=ii(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},PLe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=Da(f-u),h=Rx({cx:n,cy:r,radius:s,angle:u,sign:c,cornerRadius:a,cornerIsExternal:l}),d=h.circleTangency,m=h.lineTangency,x=h.theta,v=Rx({cx:n,cy:r,radius:s,angle:f,sign:-c,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,_=v.lineTangency,b=v.theta,w=l?Math.abs(u-f):Math.abs(u-f)-x-b;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):m7({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=Rx({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=A.circleTangency,I=A.lineTangency,R=A.theta,M=Rx({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=M.circleTangency,B=M.lineTangency,H=M.theta,j=l?Math.abs(u-f):Math.abs(u-f)-R-H;if(j<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(c>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},RLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g7=function(e){var n=Az(Az({},RLe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,h=n.className;if(a<s||f===c)return null;var d=_n("recharts-sector",h),m=a-s,x=cf(o,m,0,!0),v;return x>0&&Math.abs(f-c)<360?v=PLe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(x,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):v=m7({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:f,endAngle:c}),he.createElement("path",$2({},dn(n,!0),{className:d,d:v,role:"img"}))};function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(r){ILe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ILe(t,e,n){return e=OLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OLe(t){var e=kLe(t,"string");return iy(e)=="symbol"?e:e+""}function kLe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cz={curveBasisClosed:ISe,curveBasisOpen:OSe,curveBasis:RSe,curveBumpX:gSe,curveBumpY:ySe,curveLinearClosed:kSe,curveLinear:eS,curveMonotoneX:NSe,curveMonotoneY:BSe,curveNatural:DSe,curveStep:LSe,curveStepAfter:USe,curveStepBefore:FSe},Ix=function(e){return e.x===+e.x&&e.y===+e.y},gm=function(e){return e.x},ym=function(e){return e.y},NLe=function(e,n){if(rn(e))return e;var r="curve".concat(Zw(e));return(r==="curveMonotone"||r==="curveBump")&&n?Cz["".concat(r).concat(n==="vertical"?"Y":"X")]:Cz[r]||eS},BLe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=NLe(r,o),c=u?s.filter(function(x){return Ix(x)}):s,h;if(Array.isArray(a)){var d=u?a.filter(function(x){return Ix(x)}):a,m=c.map(function(x,v){return Mz(Mz({},x),{},{base:d[v]})});return o==="vertical"?h=_x().y(ym).x1(gm).x0(function(x){return x.base.x}):h=_x().x(gm).y1(ym).y0(function(x){return x.base.y}),h.defined(Ix).curve(f),h(m)}return o==="vertical"&&ft(a)?h=_x().y(ym).x1(gm).x0(a):ft(a)?h=_x().x(gm).y1(ym).y0(a):h=gV().x(gm).y(ym),h.defined(Ix).curve(f),h(c)},W2=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?BLe(e):i;return U.createElement("path",V2({},dn(e,!1),Tb(e),{className:_n("recharts-curve",n),d:a,ref:s}))},DLe=Object.getOwnPropertyNames,LLe=Object.getOwnPropertySymbols,FLe=Object.prototype.hasOwnProperty;function Tz(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Ox(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function Pz(t){return DLe(t).concat(LLe(t))}var ULe=Object.hasOwn||function(t,e){return FLe.call(t,e)};function Mf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var zLe="__v",jLe="__o",HLe="_owner",Rz=Object.getOwnPropertyDescriptor,Iz=Object.keys;function GLe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $Le(t,e){return Mf(t.getTime(),e.getTime())}function VLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function WLe(t,e){return t===e}function Oz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var u=e.entries(),f=!1,c=0;(o=u.next())&&!o.done;){if(i[c]){c++;continue}var h=a.value,d=o.value;if(n.equals(h[0],d[0],l,c,t,e,n)&&n.equals(h[1],d[1],h[0],d[0],t,e,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var XLe=Mf;function qLe(t,e,n){var r=Iz(t),i=r.length;if(Iz(e).length!==i)return!1;for(;i-- >0;)if(!y7(t,e,n,r[i]))return!1;return!0}function vm(t,e,n){var r=Pz(t),i=r.length;if(Pz(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!y7(t,e,n,s)||(a=Rz(t,s),o=Rz(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function KLe(t,e){return Mf(t.valueOf(),e.valueOf())}function JLe(t,e){return t.source===e.source&&t.flags===e.flags}function kz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(o=l.next())&&!o.done;){if(!i[f]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function YLe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ZLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function y7(t,e,n,r){return(r===HLe||r===jLe||r===zLe)&&(t.$$typeof||e.$$typeof)?!0:ULe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var QLe="[object Arguments]",e3e="[object Boolean]",t3e="[object Date]",n3e="[object Error]",r3e="[object Map]",i3e="[object Number]",s3e="[object Object]",a3e="[object RegExp]",o3e="[object Set]",l3e="[object String]",u3e="[object URL]",c3e=Array.isArray,Nz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Bz=Object.assign,f3e=Object.prototype.toString.call.bind(Object.prototype.toString);function h3e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,c=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,x,v){if(m===x)return!0;if(m==null||x==null)return!1;var y=typeof m;if(y!==typeof x)return!1;if(y!=="object")return y==="number"?a(m,x,v):y==="function"?i(m,x,v):!1;var _=m.constructor;if(_!==x.constructor)return!1;if(_===Object)return o(m,x,v);if(c3e(m))return e(m,x,v);if(Nz!=null&&Nz(m))return c(m,x,v);if(_===Date)return n(m,x,v);if(_===RegExp)return u(m,x,v);if(_===Map)return s(m,x,v);if(_===Set)return f(m,x,v);var b=f3e(m);return b===t3e?n(m,x,v):b===a3e?u(m,x,v):b===r3e?s(m,x,v):b===o3e?f(m,x,v):b===s3e?typeof m.then!="function"&&typeof x.then!="function"&&o(m,x,v):b===u3e?h(m,x,v):b===n3e?r(m,x,v):b===QLe?o(m,x,v):b===e3e||b===i3e||b===l3e?l(m,x,v):!1}}function d3e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?vm:GLe,areDatesEqual:$Le,areErrorsEqual:VLe,areFunctionsEqual:WLe,areMapsEqual:r?Tz(Oz,vm):Oz,areNumbersEqual:XLe,areObjectsEqual:r?vm:qLe,arePrimitiveWrappersEqual:KLe,areRegExpsEqual:JLe,areSetsEqual:r?Tz(kz,vm):kz,areTypedArraysEqual:r?vm:YLe,areUrlsEqual:ZLe};if(n&&(i=Bz({},i,n(i))),e){var s=Ox(i.areArraysEqual),a=Ox(i.areMapsEqual),o=Ox(i.areObjectsEqual),l=Ox(i.areSetsEqual);i=Bz({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function p3e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function m3e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,u){var f=r(),c=f.cache,h=c===void 0?e?new WeakMap:void 0:c,d=f.meta;return n(l,u,{cache:h,equals:i,meta:d,strict:s})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return n(l,u,a)}}var g3e=ju();ju({strict:!0});ju({circular:!0});ju({circular:!0,strict:!0});ju({createInternalComparator:function(){return Mf}});ju({strict:!0,createInternalComparator:function(){return Mf}});ju({circular:!0,createInternalComparator:function(){return Mf}});ju({circular:!0,createInternalComparator:function(){return Mf},strict:!0});function ju(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=d3e(t),l=h3e(o),u=r?r(l):p3e(l);return m3e({circular:n,comparator:l,createState:i,equals:u,strict:a})}function y3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Dz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):y3e(i)};requestAnimationFrame(r)}function X2(t){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X2(t)}function v3e(t){return w3e(t)||_3e(t)||b3e(t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(t,e){if(t){if(typeof t=="string")return Lz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lz(t,e)}}function Lz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w3e(t){if(Array.isArray(t))return t}function S3e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=v3e(a),l=o[0],u=o.slice(1);if(typeof l=="number"){Dz(i.bind(null,u),l);return}i(l),Dz(i.bind(null,u));return}X2(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){v7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e,n){return e=A3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3e(t){var e=E3e(t,"string");return sy(e)==="symbol"?e:String(e)}function E3e(t,e){if(sy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M3e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},C3e=function(e){return e},T3e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},tg=function(e,n){return Object.keys(n).reduce(function(r,i){return Uz(Uz({},r),{},v7({},i,e(i,n[i])))},{})},zz=function(e,n,r){return e.map(function(i){return"".concat(T3e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function P3e(t,e){return O3e(t)||I3e(t,e)||x7(t,e)||R3e()}function R3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function O3e(t){if(Array.isArray(t))return t}function k3e(t){return D3e(t)||B3e(t)||x7(t)||N3e()}function N3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function B3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D3e(t){if(Array.isArray(t))return q2(t)}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a_=1e-4,b7=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},_7=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},jz=function(e,n){return function(r){var i=b7(e,n);return _7(i,r)}},L3e=function(e,n){return function(r){var i=b7(e,n),s=[].concat(k3e(i.map(function(a,o){return a*o}).slice(1)),[0]);return _7(s,r)}},Hz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=P3e(u,4);i=f[0],s=f[1],a=f[2],o=f[3]}}}var c=jz(i,a),h=jz(s,o),d=L3e(i,a),m=function(y){return y>1?1:y<0?0:y},x=function(y){for(var _=y>1?1:y,b=_,w=0;w<8;++w){var E=c(b)-_,A=d(b);if(Math.abs(E-_)<a_||A<a_)return h(b);b=m(b-E/A)}return h(b)};return x.isStepper=!1,x},F3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(f,c,h){var d=-(f-c)*r,m=h*s,x=h+(d-m)*o/1e3,v=h*o/1e3+f;return Math.abs(v-c)<a_&&Math.abs(x)<a_?[c,0]:[v,x]};return l.isStepper=!0,l.dt=o,l},U3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hz(i);case"spring":return F3e();default:if(i.split("(")[0]==="cubic-bezier")return Hz(i)}return typeof i=="function"?i:null};function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function Gz(t){return H3e(t)||j3e(t)||w7(t)||z3e()}function z3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H3e(t){if(Array.isArray(t))return J2(t)}function $z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(n),!0).forEach(function(r){K2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K2(t,e,n){return e=G3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3e(t){var e=$3e(t,"string");return ay(e)==="symbol"?e:String(e)}function $3e(t,e){if(ay(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3e(t,e){return q3e(t)||X3e(t,e)||w7(t,e)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7(t,e){if(t){if(typeof t=="string")return J2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J2(t,e)}}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function q3e(t){if(Array.isArray(t))return t}var o_=function(e,n,r){return e+(n-e)*r},Y2=function(e){var n=e.from,r=e.to;return n!==r},K3e=function t(e,n,r){var i=tg(function(s,a){if(Y2(a)){var o=e(a.from,a.to,a.velocity),l=V3e(o,2),u=l[0],f=l[1];return ni(ni({},a),{},{from:u,velocity:f})}return a},n);return r<1?tg(function(s,a){return Y2(a)?ni(ni({},a),{},{velocity:o_(a.velocity,i[s].velocity,r),from:o_(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const J3e=function(t,e,n,r,i){var s=M3e(t,e),a=s.reduce(function(v,y){return ni(ni({},v),{},K2({},y,[t[y],e[y]]))},{}),o=s.reduce(function(v,y){return ni(ni({},v),{},K2({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,f,c=function(){return null},h=function(){return tg(function(y,_){return _.from},o)},d=function(){return!Object.values(o).filter(Y2).length},m=function(y){u||(u=y);var _=y-u,b=_/n.dt;o=K3e(n,o,b),i(ni(ni(ni({},t),e),h())),u=y,d()||(l=requestAnimationFrame(c))},x=function(y){f||(f=y);var _=(y-f)/r,b=tg(function(E,A){return o_.apply(void 0,Gz(A).concat([n(_)]))},a);if(i(ni(ni(ni({},t),e),b)),_<1)l=requestAnimationFrame(c);else{var w=tg(function(E,A){return o_.apply(void 0,Gz(A).concat([n(1)]))},a);i(ni(ni(ni({},t),e),w))}};return c=n.isStepper?m:x,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var Y3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z3e(t,e){if(t==null)return{};var n=Q3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QM(t){return rFe(t)||nFe(t)||tFe(t)||eFe()}function eFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tFe(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function nFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rFe(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vz(Object(n),!0).forEach(function(r){Tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tm(t,e,n){return e=S7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S7(r.key),r)}}function aFe(t,e,n){return e&&sFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S7(t){var e=oFe(t,"string");return Rd(e)==="symbol"?e:String(e)}function oFe(t,e){if(Rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q2(t,e)}function Q2(t,e){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q2(t,e)}function uFe(t){var e=cFe();return function(){var r=l_(t),i;if(e){var s=l_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return eP(this,i)}}function eP(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tP(t)}function tP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l_(t){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l_(t)}var vl=function(t){lFe(n,t);var e=uFe(n);function n(r,i){var s;iFe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,u=a.from,f=a.to,c=a.steps,h=a.children,d=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(tP(s)),s.changeStyle=s.changeStyle.bind(tP(s)),!o||d<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),eP(s);if(c&&c.length)s.state={style:c[0].style};else if(u){if(typeof h=="function")return s.state={style:u},eP(s);s.state={style:l?Tm({},l,u):u}}else s.state={style:{}};return s}return aFe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,f=s.to,c=s.from,h=this.state.style;if(o){if(!a){var d={style:l?Tm({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(d);return}if(!(g3e(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?c:i.to;if(this.state&&h){var v={style:l?Tm({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(v)}this.runAnimation(_a(_a({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,h=i.onAnimationStart,d=J3e(a,o,U3e(u),l,this.changeStyle),m=function(){s.stopJSAnimation=d()};this.manager.start([h,f,m,l,c])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,u=a[0],f=u.style,c=u.duration,h=c===void 0?0:c,d=function(x,v,y){if(y===0)return x;var _=v.duration,b=v.easing,w=b===void 0?"ease":b,E=v.style,A=v.properties,P=v.onAnimationEnd,I=y>0?a[y-1]:v,R=A||Object.keys(E);if(typeof w=="function"||w==="spring")return[].concat(QM(x),[s.runJSAnimation.bind(s,{from:I.style,to:E,duration:_,easing:w}),_]);var M=zz(R,_,w),k=_a(_a(_a({},I.style),E),{},{transition:M});return[].concat(QM(x),[k,_,P]).filter(C3e)};return this.manager.start([l].concat(QM(a.reduce(d,[f,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=S3e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,h=i.steps,d=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof d=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?Tm({},o,l):l,v=zz(Object.keys(x),a,u);m.start([f,s,_a(_a({},x),{},{transition:v}),a,c])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Z3e(i,Y3e),u=U.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!o||u===0||a<=0)return s;var c=function(d){var m=d.props,x=m.style,v=x===void 0?{}:x,y=m.className,_=U.cloneElement(d,_a(_a({},l),{},{style:_a(_a({},v),f),className:y}));return _};return u===1?c(U.Children.only(s)):he.createElement("div",null,U.Children.map(s,function(h){return c(h)}))}}]),n}(U.PureComponent);vl.displayName="Animate";vl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vl.propTypes={from:Rn.oneOfType([Rn.object,Rn.string]),to:Rn.oneOfType([Rn.object,Rn.string]),attributeName:Rn.string,duration:Rn.number,begin:Rn.number,easing:Rn.oneOfType([Rn.string,Rn.func]),steps:Rn.arrayOf(Rn.shape({duration:Rn.number.isRequired,style:Rn.object.isRequired,easing:Rn.oneOfType([Rn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Rn.func]),properties:Rn.arrayOf("string"),onAnimationEnd:Rn.func})),children:Rn.oneOfType([Rn.node,Rn.func]),isActive:Rn.bool,canBegin:Rn.bool,onAnimationEnd:Rn.func,shouldReAnimate:Rn.bool,onAnimationStart:Rn.func,onAnimationReStart:Rn.func};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function fFe(t,e){return mFe(t)||pFe(t,e)||dFe(t,e)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(t,e){if(t){if(typeof t=="string")return Wz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wz(t,e)}}function Wz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function mFe(t){if(Array.isArray(t))return t}function Xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(n),!0).forEach(function(r){gFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gFe(t,e,n){return e=yFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yFe(t){var e=vFe(t,"string");return oy(e)=="symbol"?e:e+""}function vFe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kz=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&s instanceof Array){for(var c=[0,0,0,0],h=0,d=4;h<d;h++)c[h]=s[h]>a?a:s[h];f="M".concat(e,",").concat(n+o*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*c[1])),f+="L ".concat(e+r,",").concat(n+i-o*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*c[3])),f+="Z"}else if(a>0&&s===+s&&s>0){var m=Math.min(a,s);f="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*m," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},xFe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(s,s+o),f=Math.max(s,s+o),c=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=f&&i>=c&&i<=h}return!1},bFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JO=function(e){var n=qz(qz({},bFe),e),r=U.useRef(),i=U.useState(-1),s=fFe(i,2),a=s[0],o=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,h=n.radius,d=n.className,m=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var b=_n("recharts-rectangle",d);return _?he.createElement(vl,{canBegin:a>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:x,animationEasing:m,isActive:_},function(w){var E=w.width,A=w.height,P=w.x,I=w.y;return he.createElement(vl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:y,easing:m},he.createElement("path",u_({},dn(n,!0),{className:b,d:Kz(P,I,E,A,h),ref:r})))}):he.createElement("path",u_({},dn(n,!0),{className:b,d:Kz(l,u,f,c,h)}))};function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(this,arguments)}var YO=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=_n("recharts-dot",s);return n===+n&&r===+r&&i===+i?U.createElement("circle",nP({},dn(e,!1),Tb(e),{className:a,cx:n,cy:r,r:i})):null};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}var _Fe=["x","y","top","left","width","height","className"];function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(this,arguments)}function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wFe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){SFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SFe(t,e,n){return e=AFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AFe(t){var e=EFe(t,"string");return ly(e)=="symbol"?e:e+""}function EFe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MFe(t,e){if(t==null)return{};var n=CFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TFe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},PFe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,u=l===void 0?0:l,f=e.width,c=f===void 0?0:f,h=e.height,d=h===void 0?0:h,m=e.className,x=MFe(e,_Fe),v=wFe({x:r,y:s,top:o,left:u,width:c,height:d},x);return!ft(r)||!ft(s)||!ft(c)||!ft(d)||!ft(o)||!ft(u)?null:he.createElement("path",rP({},dn(v,!0),{className:_n("recharts-cross",m),d:TFe(r,s,c,d,o,u)}))},RFe=zV,IFe=RFe(Object.getPrototypeOf,Object),OFe=IFe,kFe=wl,NFe=OFe,BFe=Sl,DFe="[object Object]",LFe=Function.prototype,FFe=Object.prototype,A7=LFe.toString,UFe=FFe.hasOwnProperty,zFe=A7.call(Object);function jFe(t){if(!BFe(t)||kFe(t)!=DFe)return!1;var e=NFe(t);if(e===null)return!0;var n=UFe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&A7.call(n)==zFe}var HFe=jFe;const GFe=On(HFe);var $Fe=wl,VFe=Sl,WFe="[object Boolean]";function XFe(t){return t===!0||t===!1||VFe(t)&&$Fe(t)==WFe}var qFe=XFe;const KFe=On(qFe);function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function JFe(t,e){return eUe(t)||QFe(t,e)||ZFe(t,e)||YFe()}function YFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZFe(t,e){if(t){if(typeof t=="string")return Yz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yz(t,e)}}function Yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function eUe(t){if(Array.isArray(t))return t}function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(n),!0).forEach(function(r){tUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tUe(t,e,n){return e=nUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nUe(t){var e=rUe(t,"string");return uy(e)=="symbol"?e:e+""}function rUe(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ej=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},iUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sUe=function(e){var n=Qz(Qz({},iUe),e),r=U.useRef(),i=U.useState(-1),s=JFe(i,2),a=s[0],o=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,h=n.height,d=n.className,m=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||h!==+h||f===0&&c===0||h===0)return null;var _=_n("recharts-trapezoid",d);return y?he.createElement(vl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:h,x:l,y:u},duration:x,animationEasing:m,isActive:y},function(b){var w=b.upperWidth,E=b.lowerWidth,A=b.height,P=b.x,I=b.y;return he.createElement(vl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:m},he.createElement("path",c_({},dn(n,!0),{className:_,d:ej(P,I,w,E,A),ref:r})))}):he.createElement("g",null,he.createElement("path",c_({},dn(n,!0),{className:_,d:ej(l,u,f,c,h)})))},aUe=["option","shapeType","propTransformer","activeClassName","isActive"];function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function oUe(t,e){if(t==null)return{};var n=lUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){uUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uUe(t,e,n){return e=cUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cUe(t){var e=fUe(t,"string");return cy(e)=="symbol"?e:e+""}function fUe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hUe(t,e){return f_(f_({},e),t)}function dUe(t,e){return t==="symbols"}function nj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return he.createElement(JO,n);case"trapezoid":return he.createElement(sUe,n);case"sector":return he.createElement(g7,n);case"symbols":if(dUe(e))return he.createElement(mO,n);break;default:return null}}function pUe(t){return U.isValidElement(t)?t.props:t}function mUe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?hUe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=oUe(t,aUe),u;if(U.isValidElement(e))u=U.cloneElement(e,f_(f_({},l),pUe(e)));else if(rn(e))u=e(l);else if(GFe(e)&&!KFe(e)){var f=i(e,l);u=he.createElement(nj,{shapeType:n,elementProps:f})}else{var c=l;u=he.createElement(nj,{shapeType:n,elementProps:c})}return o?he.createElement(yr,{className:a},u):u}function gS(t,e){return e!=null&&"trapezoids"in t.props}function yS(t,e){return e!=null&&"sectors"in t.props}function fy(t,e){return e!=null&&"points"in t.props}function gUe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function yUe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function vUe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function xUe(t,e){var n;return gS(t,e)?n=gUe:yS(t,e)?n=yUe:fy(t,e)&&(n=vUe),n}function bUe(t,e){var n;return gS(t,e)?n="trapezoids":yS(t,e)?n="sectors":fy(t,e)&&(n="points"),n}function _Ue(t,e){if(gS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(yS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return fy(t,e)?e.payload:{}}function wUe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bUe(n,e),s=_Ue(n,e),a=r.filter(function(l,u){var f=dS(s,l),c=n.props[i].filter(function(m){var x=xUe(n,e);return x(m,e)}),h=n.props[i].indexOf(c[c.length-1]),d=u===h;return f&&d}),o=r.indexOf(a[a.length-1]);return o}var SUe=Math.ceil,AUe=Math.max;function EUe(t,e,n,r){for(var i=-1,s=AUe(SUe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var MUe=EUe,CUe=sW,rj=1/0,TUe=17976931348623157e292;function PUe(t){if(!t)return t===0?t:0;if(t=CUe(t),t===rj||t===-rj){var e=t<0?-1:1;return e*TUe}return t===t?t:0}var E7=PUe,RUe=MUe,IUe=iS,eC=E7;function OUe(t){return function(e,n,r){return r&&typeof r!="number"&&IUe(e,n,r)&&(n=r=void 0),e=eC(e),n===void 0?(n=e,e=0):n=eC(n),r=r===void 0?e<n?1:-1:eC(r),RUe(e,n,r,t)}}var kUe=OUe,NUe=kUe,BUe=NUe(),DUe=BUe;const h_=On(DUe);function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){M7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M7(t,e,n){return e=LUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LUe(t){var e=FUe(t,"string");return hy(e)=="symbol"?e:e+""}function FUe(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UUe=["Webkit","Moz","O","ms"],zUe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=UUe.reduce(function(s,a){return sj(sj({},s),{},M7({},a+r,n))},{});return i[e]=n,i};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){xs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T7(r.key),r)}}function HUe(t,e,n){return e&&oj(t.prototype,e),n&&oj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GUe(t,e,n){return e=p_(e),$Ue(t,C7()?Reflect.construct(e,n||[],p_(t).constructor):e.apply(t,n))}function $Ue(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(t)}function VUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!t})()}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(t)}function WUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iP(t,e)}function iP(t,e){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iP(t,e)}function xs(t,e,n){return e=T7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T7(t){var e=XUe(t,"string");return Id(e)=="symbol"?e:e+""}function XUe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qUe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Qm().domain(h_(0,l)).range([s,s+a-o]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},lj=function(e){return e.changedTouches&&!!e.changedTouches.length},Od=function(t){function e(n){var r;return jUe(this,e),r=GUe(this,e,[n]),xs(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),xs(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),xs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),xs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xs(r,"handleSlideDragStart",function(i){var s=lj(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return WUe(e,t),HUe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,f=u.length-1,c=Math.min(i,s),h=Math.max(i,s),d=e.getIndexInRange(a,c),m=e.getIndexInRange(a,h);return{startIndex:d-d%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Rs(s[r],o,r);return rn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,h=l.startIndex,d=l.endIndex,m=l.onChange,x=r.pageX-s;x>0?x=Math.min(x,u+f-c-o,u+f-c-a):x<0&&(x=Math.max(x,u-a,u-o));var v=this.getIndex({startX:a+x,endX:o+x});(v.startIndex!==h||v.endIndex!==d)&&m&&m(v),this.setState({startX:a+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=lj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[a],f=this.props,c=f.x,h=f.width,d=f.travellerWidth,m=f.onChange,x=f.gap,v=f.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,c+h-d-u):_<0&&(_=Math.max(_,c-u)),y[a]=u+_;var b=this.getIndex(y),w=b.startIndex,E=b.endIndex,A=function(){var I=v.length-1;return a==="startX"&&(o>l?w%x===0:E%x===0)||o<l&&E===I||a==="endX"&&(o>l?E%x===0:w%x===0)||o>l&&E===I};this.setState(xs(xs({},a,u+_),"brushMoveStartX",r.pageX),function(){m&&A()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,u=a.endX,f=this.state[i],c=o.indexOf(f);if(c!==-1){var h=c+r;if(!(h===-1||h>=o.length)){var d=o[h];i==="startX"&&d>=u||i==="endX"&&d<=l||this.setState(xs({},i,d),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,u=r.stroke;return he.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,u=r.children,f=r.padding,c=U.Children.only(u);return c?he.cloneElement(c,{x:i,y:s,width:a,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,h=l.traveller,d=l.ariaLabel,m=l.data,x=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),_=tC(tC({},dn(this.props,!1)),{},{x:y,y:u,width:f,height:c}),b=d||"Min value: ".concat((s=m[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=m[v])===null||a===void 0?void 0:a.name);return he.createElement(yr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,u=s.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:c,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,h=f.endX,d=5,m={pointerEvents:"none",fill:u};return he.createElement(yr,{className:"recharts-brush-texts"},he.createElement(Gb,d_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,h)-d,y:a+o/2},m),this.getTextOfTick(i)),he.createElement(Gb,d_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,h)+l+d,y:a+o/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,h=this.state,d=h.startX,m=h.endX,x=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!ft(o)||!ft(l)||!ft(u)||!ft(f)||u<=0||f<=0)return null;var b=_n("recharts-brush",s),w=he.Children.count(a)===1,E=zUe("userSelect","none");return he.createElement(yr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(x||v||y||_||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,u=Math.floor(s+o/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),he.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return he.isValidElement(r)?s=he.cloneElement(r,i):rn(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return tC({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?qUe({data:s,width:a,x:o,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(U.PureComponent);xs(Od,"displayName","Brush");xs(Od,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var KUe=wO;function JUe(t,e){var n;return KUe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var YUe=JUe,ZUe=OV,QUe=Fu,e4e=YUe,t4e=us,n4e=iS;function r4e(t,e,n){var r=t4e(t)?ZUe:e4e;return n&&n4e(t,e,n)&&(e=void 0),r(t,QUe(e))}var i4e=r4e;const s4e=On(i4e);var yo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},uj=eW;function a4e(t,e,n){e=="__proto__"&&uj?uj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var o4e=a4e,l4e=o4e,u4e=ZV,c4e=Fu;function f4e(t,e){var n={};return e=c4e(e),u4e(t,function(r,i,s){l4e(n,i,e(r,i,s))}),n}var h4e=f4e;const d4e=On(h4e);function p4e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var m4e=p4e,g4e=wO;function y4e(t,e){var n=!0;return g4e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var v4e=y4e,x4e=m4e,b4e=v4e,_4e=Fu,w4e=us,S4e=iS;function A4e(t,e,n){var r=w4e(t)?x4e:b4e;return n&&S4e(t,e,n)&&(e=void 0),r(t,_4e(e))}var E4e=A4e;const P7=On(E4e);var M4e=["x","y"];function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function sP(){return sP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sP.apply(this,arguments)}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){C4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C4e(t,e,n){return e=T4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4e(t){var e=P4e(t,"string");return dy(e)=="symbol"?e:e+""}function P4e(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R4e(t,e){if(t==null)return{};var n=I4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O4e(t,e){var n=t.x,r=t.y,i=R4e(t,M4e),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),f=parseInt(u,10),c="".concat(e.width||i.width),h=parseInt(c,10);return xm(xm(xm(xm(xm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function fj(t){return he.createElement(mUe,sP({shapeType:"rectangle",propTransformer:O4e,activeClassName:"recharts-active-bar"},t))}var k4e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ft(r)||twe(r);return s?e(r,i):(s||hf(),n)}},N4e=["value","background"],R7;function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function B4e(t,e){if(t==null)return{};var n=D4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O7(r.key),r)}}function F4e(t,e,n){return e&&dj(t.prototype,e),n&&dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U4e(t,e,n){return e=g_(e),z4e(t,I7()?Reflect.construct(e,n||[],g_(t).constructor):e.apply(t,n))}function z4e(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j4e(t)}function j4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I7=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g_(t)}function H4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aP(t,e)}function ou(t,e,n){return e=O7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O7(t){var e=G4e(t,"string");return kd(e)=="symbol"?e:e+""}function G4e(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uv=function(t){function e(){var n;L4e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=U4e(this,e,[].concat(i)),ou(n,"state",{isAnimationFinished:!1}),ou(n,"id",nv("recharts-bar-")),ou(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ou(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return H4e(e,t),F4e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,u=s.activeBar,f=dn(this.props,!1);return r&&r.map(function(c,h){var d=h===l,m=d?u:a,x=Cr(Cr(Cr({},f),c),{},{isActive:d,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return he.createElement(yr,m_({className:"recharts-bar-rectangle"},Pb(i.props,c,h),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(h)}),he.createElement(fj,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,h=this.state.prevData;return he.createElement(vl,{begin:l,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,x=s.map(function(v,y){var _=h&&h[y];if(_){var b=Ia(_.x,v.x),w=Ia(_.y,v.y),E=Ia(_.width,v.width),A=Ia(_.height,v.height);return Cr(Cr({},v),{},{x:b(m),y:w(m),width:E(m),height:A(m)})}if(a==="horizontal"){var P=Ia(0,v.height),I=P(m);return Cr(Cr({},v),{},{y:v.y+v.height-I,height:I})}var R=Ia(0,v.width),M=R(m);return Cr(Cr({},v),{},{width:M})});return he.createElement(yr,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!dS(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=dn(this.props.background,!1);return s.map(function(u,f){u.value;var c=u.background,h=B4e(u,N4e);if(!c)return null;var d=Cr(Cr(Cr(Cr(Cr({},h),{},{fill:"#eee"},c),l),Pb(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return he.createElement(fj,m_({key:"background-bar-".concat(f),option:r.props.background,isActive:f===o},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,u=s.layout,f=s.children,c=ra(f,lv);if(!c)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,d=function(v,y){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Rs(v,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return he.createElement(yr,m,c.map(function(x){return he.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,h=r.height,d=r.isAnimationActive,m=r.background,x=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=_n("recharts-bar",a),_=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,w=_||b,E=cn(x)?this.id:x;return he.createElement(yr,{className:y},_||b?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(E)},he.createElement("rect",{x:_?u:u-c/2,y:b?f:f-h/2,width:_?c:c*2,height:b?h:h*2}))):null,he.createElement(yr,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,E),(!d||v)&&bu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);R7=uv;ou(uv,"displayName","Bar");ou(uv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ou(uv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,h=t.offset,d=ADe(r,n);if(!d)return null;var m=e.layout,x=n.type.defaultProps,v=x!==void 0?Cr(Cr({},x),n.props):n.props,y=v.dataKey,_=v.children,b=v.minPointSize,w=m==="horizontal"?a:s,E=u?w.scale.domain():null,A=ODe({numericAxis:w}),P=ra(_,oW),I=c.map(function(R,M){var k,B,H,j,V,X;u?k=EDe(u[f+M],E):(k=Rs(R,y),Array.isArray(k)||(k=[A,k]));var Z=k4e(b,R7.defaultProps.minPointSize)(k[1],M);if(m==="horizontal"){var L,W=[a.scale(k[0]),a.scale(k[1])],N=W[0],q=W[1];B=hz({axis:s,ticks:o,bandSize:i,offset:d.offset,entry:R,index:M}),H=(L=q??N)!==null&&L!==void 0?L:void 0,j=d.size;var te=N-q;if(V=Number.isNaN(te)?0:te,X={x:B,y:a.y,width:j,height:a.height},Math.abs(Z)>0&&Math.abs(V)<Math.abs(Z)){var G=Da(V||Z)*(Math.abs(Z)-Math.abs(V));H-=G,V+=G}}else{var Ie=[s.scale(k[0]),s.scale(k[1])],Oe=Ie[0],ae=Ie[1];if(B=Oe,H=hz({axis:a,ticks:l,bandSize:i,offset:d.offset,entry:R,index:M}),j=ae-Oe,V=d.size,X={x:s.x,y:H,width:s.width,height:V},Math.abs(Z)>0&&Math.abs(j)<Math.abs(Z)){var _e=Da(j||Z)*(Math.abs(Z)-Math.abs(j));j+=_e}}return Cr(Cr(Cr({},R),{},{x:B,y:H,width:j,height:V,value:u?k:k[1],payload:R,background:X},P&&P[M]&&P[M].props),{},{tooltipPayload:[d7(n,R)],tooltipPosition:{x:B+j/2,y:H+V/2}})});return Cr({data:I,layout:m},h)});function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function $4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k7(r.key),r)}}function V4e(t,e,n){return e&&pj(t.prototype,e),n&&pj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vS(t,e,n){return e=k7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k7(t){var e=W4e(t,"string");return py(e)=="symbol"?e:e+""}function W4e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X4e=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!_s(u,uv);return f.reduce(function(d,m){var x=n[m],v=x.orientation,y=x.domain,_=x.padding,b=_===void 0?{}:_,w=x.mirror,E=x.reversed,A="".concat(v).concat(w?"Mirror":""),P,I,R,M,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var B=y[1]-y[0],H=1/0,j=x.categoricalDomain.sort(iwe);if(j.forEach(function(Ie,Oe){Oe>0&&(H=Math.min((Ie||0)-(j[Oe-1]||0),H))}),Number.isFinite(H)){var V=H/B,X=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(P=V*X/2),x.padding==="no-gap"){var Z=cf(e.barCategoryGap,V*X),L=V*X/2;P=L-Z-(L-Z)/X*Z}}}i==="xAxis"?I=[r.left+(b.left||0)+(P||0),r.left+r.width-(b.right||0)-(P||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(P||0),r.top+r.height-(b.bottom||0)-(P||0)]:I=x.range,E&&(I=[I[1],I[0]]);var W=wDe(x,s,h),N=W.scale,q=W.realScaleType;N.domain(y).range(I),SDe(N);var te=IDe(N,Ca(Ca({},x),{},{realScaleType:q}));i==="xAxis"?(k=v==="top"&&!w||v==="bottom"&&w,R=r.left,M=c[A]-k*x.height):i==="yAxis"&&(k=v==="left"&&!w||v==="right"&&w,R=c[A]-k*x.width,M=r.top);var G=Ca(Ca(Ca({},x),te),{},{realScaleType:q,x:R,y:M,scale:N,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return G.bandSize=r_(G,te),!x.hide&&i==="xAxis"?c[A]+=(k?-1:1)*G.height:x.hide||(c[A]+=(k?-1:1)*G.width),Ca(Ca({},d),{},vS({},m,G))},{})},N7=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},q4e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return N7({x:n,y:r},{x:i,y:s})},B7=function(){function t(e){$4e(this,t),this.scale=e}return V4e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();vS(B7,"EPS",1e-4);var ZO=function(e){var n=Object.keys(e).reduce(function(r,i){return Ca(Ca({},r),{},vS({},i,B7.create(e[i])))},{});return Ca(Ca({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return d4e(i,function(l,u){return n[u].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return P7(i,function(s,a){return n[a].isInRange(s)})}})};function K4e(t){return(t%180+180)%180}var J4e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=K4e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Y4e=Fu,Z4e=rv,Q4e=nS;function eze(t){return function(e,n,r){var i=Object(e);if(!Z4e(e)){var s=Y4e(n);e=Q4e(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var tze=eze,nze=E7;function rze(t){var e=nze(t),n=e%1;return e===e?n?e-n:e:0}var ize=rze,sze=WV,aze=Fu,oze=ize,lze=Math.max;function uze(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:oze(n);return i<0&&(i=lze(r+i,0)),sze(t,aze(e),i)}var cze=uze,fze=tze,hze=cze,dze=fze(hze),pze=dze;const mze=On(pze);var gze=o_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QO=U.createContext(void 0),ek=U.createContext(void 0),D7=U.createContext(void 0),L7=U.createContext({}),F7=U.createContext(void 0),U7=U.createContext(0),z7=U.createContext(0),gj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,u=e.height,f=gze(s);return he.createElement(QO.Provider,{value:r},he.createElement(ek.Provider,{value:i},he.createElement(L7.Provider,{value:s},he.createElement(D7.Provider,{value:f},he.createElement(F7.Provider,{value:a},he.createElement(U7.Provider,{value:u},he.createElement(z7.Provider,{value:l},o)))))))},yze=function(){return U.useContext(F7)},j7=function(e){var n=U.useContext(QO);n==null&&hf();var r=n[e];return r==null&&hf(),r},vze=function(){var e=U.useContext(QO);return eu(e)},xze=function(){var e=U.useContext(ek),n=mze(e,function(r){return P7(r.domain,Number.isFinite)});return n||eu(e)},H7=function(e){var n=U.useContext(ek);n==null&&hf();var r=n[e];return r==null&&hf(),r},bze=function(){var e=U.useContext(D7);return e},_ze=function(){return U.useContext(L7)},tk=function(){return U.useContext(z7)},nk=function(){return U.useContext(U7)};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$7(r.key),r)}}function Aze(t,e,n){return e&&Sze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eze(t,e,n){return e=y_(e),Mze(t,G7()?Reflect.construct(e,n||[],y_(t).constructor):e.apply(t,n))}function Mze(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cze(t)}function Cze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!t})()}function y_(t){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y_(t)}function Tze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oP(t,e)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){rk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rk(t,e,n){return e=$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $7(t){var e=Pze(t,"string");return Nd(e)=="symbol"?e:e+""}function Pze(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rze(t,e){return Nze(t)||kze(t,e)||Oze(t,e)||Ize()}function Ize(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oze(t,e){if(t){if(typeof t=="string")return xj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xj(t,e)}}function xj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Nze(t){if(Array.isArray(t))return t}function lP(){return lP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lP.apply(this,arguments)}var Bze=function(e,n){var r;return he.isValidElement(e)?r=he.cloneElement(e,n):rn(e)?r=e(n):r=he.createElement("line",lP({},n,{className:"recharts-reference-line-line"})),r},Dze=function(e,n,r,i,s,a,o,l,u){var f=s.x,c=s.y,h=s.width,d=s.height;if(r){var m=u.y,x=e.y.apply(m,{position:a});if(yo(u,"discard")&&!e.y.isInRange(x))return null;var v=[{x:f+h,y:x},{x:f,y:x}];return l==="left"?v.reverse():v}if(n){var y=u.x,_=e.x.apply(y,{position:a});if(yo(u,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:c+d},{x:_,y:c}];return o==="top"?b.reverse():b}if(i){var w=u.segment,E=w.map(function(A){return e.apply(A,{position:a})});return yo(u,"discard")&&s4e(E,function(A){return!e.isInRange(A)})?null:E}return null};function Lze(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,u=yze(),f=j7(i),c=H7(s),h=bze();if(!u||!h)return null;al(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ZO({x:f.scale,y:c.scale}),m=Lr(e),x=Lr(n),v=r&&r.length===2,y=Dze(d,m,x,v,h,t.position,f.orientation,c.orientation,t);if(!y)return null;var _=Rze(y,2),b=_[0],w=b.x,E=b.y,A=_[1],P=A.x,I=A.y,R=yo(t,"hidden")?"url(#".concat(u,")"):void 0,M=vj(vj({clipPath:R},dn(t,!0)),{},{x1:w,y1:E,x2:P,y2:I});return he.createElement(yr,{className:_n("recharts-reference-line",o)},Bze(a,M),_i.renderCallByParent(t,q4e({x1:w,y1:E,x2:P,y2:I})))}var ik=function(t){function e(){return wze(this,e),Eze(this,e,arguments)}return Tze(e,t),Aze(e,[{key:"render",value:function(){return he.createElement(Lze,this.props)}}])}(he.Component);rk(ik,"displayName","ReferenceLine");rk(ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uP.apply(this,arguments)}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){xS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W7(r.key),r)}}function zze(t,e,n){return e&&Uze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jze(t,e,n){return e=v_(e),Hze(t,V7()?Reflect.construct(e,n||[],v_(t).constructor):e.apply(t,n))}function Hze(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gze(t)}function Gze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V7=function(){return!!t})()}function v_(t){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v_(t)}function $ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}function cP(t,e){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cP(t,e)}function xS(t,e,n){return e=W7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7(t){var e=Vze(t,"string");return Bd(e)=="symbol"?e:e+""}function Vze(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wze=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=ZO({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return yo(e,"discard")&&!a.isInRange(o)?null:o},bS=function(t){function e(){return Fze(this,e),jze(this,e,arguments)}return $ze(e,t),zze(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,u=Lr(i),f=Lr(s);if(al(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=Wze(this.props);if(!c)return null;var h=c.x,d=c.y,m=this.props,x=m.shape,v=m.className,y=yo(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=_j(_j({clipPath:y},dn(this.props,!0)),{},{cx:h,cy:d});return he.createElement(yr,{className:_n("recharts-reference-dot",v)},e.renderDot(x,_),_i.renderCallByParent(this.props,{x:h-a,y:d-a,width:2*a,height:2*a}))}}])}(he.Component);xS(bS,"displayName","ReferenceDot");xS(bS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xS(bS,"renderDot",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):rn(t)?n=t(e):n=he.createElement(YO,uP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function fP(){return fP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fP.apply(this,arguments)}function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){_S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q7(r.key),r)}}function Kze(t,e,n){return e&&qze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jze(t,e,n){return e=x_(e),Yze(t,X7()?Reflect.construct(e,n||[],x_(t).constructor):e.apply(t,n))}function Yze(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zze(t)}function Zze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X7=function(){return!!t})()}function x_(t){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x_(t)}function Qze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hP(t,e)}function _S(t,e,n){return e=q7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q7(t){var e=eje(t,"string");return Dd(e)=="symbol"?e:e+""}function eje(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tje=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,u=s.y2,f=s.xAxis,c=s.yAxis;if(!f||!c)return null;var h=ZO({x:f.scale,y:c.scale}),d={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return yo(s,"discard")&&(!h.isInRange(d)||!h.isInRange(m))?null:N7(d,m)},wS=function(t){function e(){return Xze(this,e),Jze(this,e,arguments)}return Qze(e,t),Kze(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;al(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Lr(i),h=Lr(s),d=Lr(a),m=Lr(o),x=this.props.shape;if(!c&&!h&&!d&&!m&&!x)return null;var v=tje(c,h,d,m,this.props);if(!v&&!x)return null;var y=yo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return he.createElement(yr,{className:_n("recharts-reference-area",l)},e.renderRect(x,Sj(Sj({clipPath:y},dn(this.props,!0)),v)),_i.renderCallByParent(this.props,v))}}])}(he.Component);_S(wS,"displayName","ReferenceArea");_S(wS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_S(wS,"renderRect",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):rn(t)?n=t(e):n=he.createElement(JO,fP({},e,{className:"recharts-reference-area-rect"})),n});function K7(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nje(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return J4e(r,n)}function rje(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function b_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ije(t,e){return K7(t,e+1)}function sje(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,u=1,f=a,c=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:K7(r,u)};var x=l,v,y=function(){return v===void 0&&(v=n(m,x)),v},_=m.coordinate,b=l===0||b_(t,_,y,f,o);b||(l=0,f=a,u+=1),b&&(f=_+t*(y()/2+i),l+=u)},h;u<=s.length;)if(h=c(),h)return h.v;return[]}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aje(t,e,n){return e=oje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oje(t){var e=lje(t,"string");return my(e)=="symbol"?e:e+""}function lje(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uje(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,u=function(h){var d=s[h],m,x=function(){return m===void 0&&(m=n(d,h)),m};if(h===a-1){var v=t*(d.coordinate+t*x()/2-l);s[h]=d=xi(xi({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate})}else s[h]=d=xi(xi({},d),{},{tickCoord:d.coordinate});var y=b_(t,d.tickCoord,x,o,l);y&&(l=d.tickCoord-t*(x()/2+i),s[h]=xi(xi({},d),{},{isShow:!0}))},f=a-1;f>=0;f--)u(f);return s}function cje(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,u=e.end;if(s){var f=r[o-1],c=n(f,o-1),h=t*(f.coordinate+t*c/2-u);a[o-1]=f=xi(xi({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var d=b_(t,f.tickCoord,function(){return c},l,u);d&&(u=f.tickCoord-t*(c/2+i),a[o-1]=xi(xi({},f),{},{isShow:!0}))}for(var m=s?o-1:o,x=function(_){var b=a[_],w,E=function(){return w===void 0&&(w=n(b,_)),w};if(_===0){var A=t*(b.coordinate-t*E()/2-l);a[_]=b=xi(xi({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else a[_]=b=xi(xi({},b),{},{tickCoord:b.coordinate});var P=b_(t,b.tickCoord,E,l,u);P&&(l=b.tickCoord+t*(E()/2+i),a[_]=xi(xi({},b),{},{isShow:!0}))},v=0;v<m;v++)x(v);return a}function sk(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(ft(l)||hp.isSsr)return ije(i,typeof l=="number"&&ft(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",m=f&&d==="width"?Zm(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(b,w){var E=rn(u)?u(b.value,w):b.value;return d==="width"?nje(Zm(E,{fontSize:e,letterSpacing:n}),m,c):Zm(E,{fontSize:e,letterSpacing:n})[d]},v=i.length>=2?Da(i[1].coordinate-i[0].coordinate):1,y=rje(s,v,d);return l==="equidistantPreserveStart"?sje(v,y,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=cje(v,y,x,i,a,l==="preserveStartEnd"):h=uje(v,y,x,i,a),h.filter(function(_){return _.isShow}))}var fje=["viewBox"],hje=["viewBox"],dje=["ticks"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nC(t,e){if(t==null)return{};var n=pje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y7(r.key),r)}}function gje(t,e,n){return e&&Mj(t.prototype,e),n&&Mj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yje(t,e,n){return e=__(e),vje(t,J7()?Reflect.construct(e,n||[],__(t).constructor):e.apply(t,n))}function vje(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xje(t)}function xje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!t})()}function __(t){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},__(t)}function bje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dP(t,e)}function ak(t,e,n){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y7(t){var e=_je(t,"string");return Ld(e)=="symbol"?e:e+""}function _je(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gp=function(t){function e(n){var r;return mje(this,e),r=yje(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bje(e,t),gje(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=nC(r,fje),o=this.props,l=o.viewBox,u=nC(o,hje);return!Xh(s,l)||!Xh(a,u)||!Xh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,h=i.tickMargin,d,m,x,v,y,_,b=c?-1:1,w=r.tickSize||f,E=ft(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":d=m=r.coordinate,v=a+ +!c*l,x=v-b*w,_=x-b*h,y=E;break;case"left":x=v=r.coordinate,m=s+ +!c*o,d=m-b*w,y=d-b*h,_=E;break;case"right":x=v=r.coordinate,m=s+ +c*o,d=m+b*w,y=d+b*h,_=E;break;default:d=m=r.coordinate,v=a+ +c*l,x=v+b*w,_=x+b*h,y=E;break}return{line:{x1:d,y1:x,x2:m,y2:v},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=Or(Or(Or({},dn(this.props,!1)),dn(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);c=Or(Or({},c),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var d=+(l==="left"&&!u||l==="right"&&u);c=Or(Or({},c),{},{x1:i+d*a,y1:s,x2:i+d*a,y2:s+o})}return he.createElement("line",Nh({},c,{className:_n("recharts-cartesian-axis-line",na(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,u=o.stroke,f=o.tick,c=o.tickFormatter,h=o.unit,d=sk(Or(Or({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=dn(this.props,!1),y=dn(f,!1),_=Or(Or({},v),{},{fill:"none"},dn(l,!1)),b=d.map(function(w,E){var A=a.getTickLineCoord(w),P=A.line,I=A.tick,R=Or(Or(Or(Or({textAnchor:m,verticalAnchor:x},v),{},{stroke:"none",fill:u},y),I),{},{index:E,payload:w,visibleTicksCount:d.length,tickFormatter:c});return he.createElement(yr,Nh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Pb(a.props,w,E)),l&&he.createElement("line",Nh({},_,P,{className:_n("recharts-cartesian-axis-tick-line",na(l,"className"))})),f&&e.renderTickItem(f,R,"".concat(rn(c)?c(w.value,E):w.value).concat(h||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,h=c.ticks,d=nC(c,dje),m=h;return rn(l)&&(m=h&&h.length>0?l(this.props):l(d)),a<=0||o<=0||!m||!m.length?null:he.createElement(yr,{className:_n("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),_i.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=_n(i.className,"recharts-cartesian-axis-tick-value");return he.isValidElement(r)?a=he.cloneElement(r,Or(Or({},i),{},{className:o})):rn(r)?a=r(Or(Or({},i),{},{className:o})):a=he.createElement(Gb,Nh({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(U.Component);ak(gp,"displayName","CartesianAxis");ak(gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wje=["x1","y1","x2","y2","key"],Sje=["offset"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){Aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aje(t,e,n){return e=Eje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eje(t){var e=Mje(t,"string");return df(e)=="symbol"?e:e+""}function Mje(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function Tj(t,e){if(t==null)return{};var n=Cje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tje=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return he.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Z7(t,e){var n;if(he.isValidElement(t))n=he.cloneElement(t,e);else if(rn(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=Tj(e,wje),u=dn(l,!1);u.offset;var f=Tj(u,Sje);n=he.createElement("line",Uc({},f,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function Pje(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=wi(wi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Z7(i,u)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Rje(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=wi(wi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Z7(i,u)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ije(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==f[0]&&f.unshift(0);var c=f.map(function(h,d){var m=!f[d+1],x=m?i+a-h:f[d+1]-h;if(x<=0)return null;var v=d%e.length;return he.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:x,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Oje(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,d){return h-d});s!==f[0]&&f.unshift(0);var c=f.map(function(h,d){var m=!f[d+1],x=m?s+o-h:f[d+1]-h;if(x<=0)return null;var v=d%r.length;return he.createElement("rect",{key:"react-".concat(d),x:h,y:a,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var kje=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return f7(sk(wi(wi(wi({},gp.defaultProps),r),{},{ticks:tl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},Nje=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return f7(sk(wi(wi(wi({},gp.defaultProps),r),{},{ticks:tl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},dh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pP(t){var e,n,r,i,s,a,o=tk(),l=nk(),u=_ze(),f=wi(wi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:dh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:dh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:dh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:dh.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:dh.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:dh.verticalFill,x:ft(t.x)?t.x:u.left,y:ft(t.y)?t.y:u.top,width:ft(t.width)?t.width:u.width,height:ft(t.height)?t.height:u.height}),c=f.x,h=f.y,d=f.width,m=f.height,x=f.syncWithTicks,v=f.horizontalValues,y=f.verticalValues,_=vze(),b=xze();if(!ft(d)||d<=0||!ft(m)||m<=0||!ft(c)||c!==+c||!ft(h)||h!==+h)return null;var w=f.verticalCoordinatesGenerator||kje,E=f.horizontalCoordinatesGenerator||Nje,A=f.horizontalPoints,P=f.verticalPoints;if((!A||!A.length)&&rn(E)){var I=v&&v.length,R=E({yAxis:b?wi(wi({},b),{},{ticks:I?v:b.ticks}):void 0,width:o,height:l,offset:u},I?!0:x);al(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(df(R),"]")),Array.isArray(R)&&(A=R)}if((!P||!P.length)&&rn(w)){var M=y&&y.length,k=w({xAxis:_?wi(wi({},_),{},{ticks:M?y:_.ticks}):void 0,width:o,height:l,offset:u},M?!0:x);al(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(df(k),"]")),Array.isArray(k)&&(P=k)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(Tje,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),he.createElement(Pje,Uc({},f,{offset:u,horizontalPoints:A,xAxis:_,yAxis:b})),he.createElement(Rje,Uc({},f,{offset:u,verticalPoints:P,xAxis:_,yAxis:b})),he.createElement(Ije,Uc({},f,{horizontalPoints:A})),he.createElement(Oje,Uc({},f,{verticalPoints:P})))}pP.displayName="CartesianGrid";var Bje=["type","layout","connectNulls","ref"],Dje=["key"];function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Pj(t,e){if(t==null)return{};var n=Lje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){Ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ph(t){return jje(t)||zje(t)||Uje(t)||Fje()}function Fje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uje(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function zje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jje(t){if(Array.isArray(t))return mP(t)}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eX(r.key),r)}}function Gje(t,e,n){return e&&Ij(t.prototype,e),n&&Ij(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $je(t,e,n){return e=w_(e),Vje(t,Q7()?Reflect.construct(e,n||[],w_(t).constructor):e.apply(t,n))}function Vje(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wje(t)}function Wje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q7=function(){return!!t})()}function w_(t){return w_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w_(t)}function Xje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gP(t,e)}function gP(t,e){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gP(t,e)}function Ta(t,e,n){return e=eX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=qje(t,"string");return Fd(e)=="symbol"?e:e+""}function qje(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ud=function(t){function e(){var n;Hje(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$je(this,e,[].concat(i)),Ta(n,"state",{isAnimationFinished:!0,totalLength:0}),Ta(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Ta(n,"getStrokeDasharray",function(a,o,l){var u=l.reduce(function(y,_){return y+_});if(!u)return n.generateSimpleStrokeDasharray(o,a);for(var f=Math.floor(a/u),c=a%u,h=o-a,d=[],m=0,x=0;m<l.length;x+=l[m],++m)if(x+l[m]>c){d=[].concat(ph(l.slice(0,m)),[c-x]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(ph(e.repeat(l,f)),ph(d),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Ta(n,"id",nv("recharts-line-")),Ta(n,"pathRef",function(a){n.mainCurve=a}),Ta(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ta(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Xje(e,t),Gje(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,u=s.layout,f=s.children,c=ra(f,lv);if(!c)return null;var h=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:Rs(x.payload,v)}},d={clipPath:r?"url(#clipPath-".concat(i,")"):null};return he.createElement(yr,d,c.map(function(m){return he.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,f=o.dataKey,c=dn(this.props,!1),h=dn(l,!0),d=u.map(function(x,v){var y=vs(vs(vs({key:"dot-".concat(v),r:3},c),h),{},{index:v,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return e.renderDotItem(l,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return he.createElement(yr,ng({className:"recharts-line-dots",key:"dots"},m),d)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,u=o.layout,f=o.connectNulls;o.ref;var c=Pj(o,Bje),h=vs(vs(vs({},dn(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:f});return he.createElement(W2,ng({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,u=a.isAnimationActive,f=a.animationBegin,c=a.animationDuration,h=a.animationEasing,d=a.animationId,m=a.animateNewValues,x=a.width,v=a.height,y=this.state,_=y.prevPoints,b=y.totalLength;return he.createElement(vl,{begin:f,duration:c,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var E=w.t;if(_){var A=_.length/o.length,P=o.map(function(B,H){var j=Math.floor(H*A);if(_[j]){var V=_[j],X=Ia(V.x,B.x),Z=Ia(V.y,B.y);return vs(vs({},B),{},{x:X(E),y:Z(E)})}if(m){var L=Ia(x*2,B.x),W=Ia(v/2,B.y);return vs(vs({},B),{},{x:L(E),y:W(E)})}return vs(vs({},B),{},{x:B.x,y:B.y})});return s.renderCurveStatically(P,r,i)}var I=Ia(0,b),R=I(E),M;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});M=s.getStrokeDasharray(R,b,k)}else M=s.generateSimpleStrokeDasharray(b,R);return s.renderCurveStatically(o,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return o&&a&&a.length&&(!u&&f>0||!dS(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,h=i.left,d=i.width,m=i.height,x=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,_=o.length===1,b=_n("recharts-line",l),w=u&&u.allowDataOverflow,E=f&&f.allowDataOverflow,A=w||E,P=cn(v)?this.id:v,I=(r=dn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=I.r,M=R===void 0?3:R,k=I.strokeWidth,B=k===void 0?2:k,H=dwe(a)?a:{},j=H.clipDot,V=j===void 0?!0:j,X=M*2+B;return he.createElement(yr,{className:b},w||E?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(P)},he.createElement("rect",{x:w?h:h-d/2,y:E?c:c-m/2,width:w?d:d*2,height:E?m:m*2})),!V&&he.createElement("clipPath",{id:"clipPath-dots-".concat(P)},he.createElement("rect",{x:h-X/2,y:c-X/2,width:d+X,height:m+X}))):null,!_&&this.renderCurve(A,P),this.renderErrorBar(A,P),(_||a)&&this.renderDots(A,V,P),(!x||y)&&bu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(ph(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(ph(a),ph(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(he.isValidElement(r))s=he.cloneElement(r,i);else if(rn(r))s=r(i);else{var a=i.key,o=Pj(i,Dje),l=_n("recharts-line-dot",typeof r!="boolean"?r.className:"");s=he.createElement(YO,ng({key:a},o,{className:l}))}return s}}])}(U.PureComponent);Ta(Ud,"displayName","Line");Ta(Ud,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ta(Ud,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(h,d){var m=Rs(h,a);return f==="horizontal"?{x:fz({axis:n,ticks:i,bandSize:o,entry:h,index:d}),y:cn(m)?null:r.scale(m),value:m,payload:h}:{x:cn(m)?null:n.scale(m),y:fz({axis:r,ticks:s,bandSize:o,entry:h,index:d}),value:m,payload:h}});return vs({points:c,layout:f},u)});function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Kje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rX(r.key),r)}}function Yje(t,e,n){return e&&Jje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zje(t,e,n){return e=S_(e),Qje(t,tX()?Reflect.construct(e,n||[],S_(t).constructor):e.apply(t,n))}function Qje(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5e(t)}function e5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tX=function(){return!!t})()}function S_(t){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S_(t)}function t5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yP(t,e)}function yP(t,e){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yP(t,e)}function nX(t,e,n){return e=rX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=n5e(t,"string");return zd(e)=="symbol"?e:e+""}function n5e(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vP(){return vP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function r5e(t){var e=t.xAxisId,n=tk(),r=nk(),i=j7(e);return i==null?null:U.createElement(gp,vP({},i,{className:_n("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return tl(a,!0)}}))}var gy=function(t){function e(){return Kje(this,e),Zje(this,e,arguments)}return t5e(e,t),Yje(e,[{key:"render",value:function(){return U.createElement(r5e,this.props)}}])}(U.Component);nX(gy,"displayName","XAxis");nX(gy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function i5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aX(r.key),r)}}function a5e(t,e,n){return e&&s5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o5e(t,e,n){return e=A_(e),l5e(t,iX()?Reflect.construct(e,n||[],A_(t).constructor):e.apply(t,n))}function l5e(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u5e(t)}function u5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function A_(t){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A_(t)}function c5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xP(t,e)}function xP(t,e){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xP(t,e)}function sX(t,e,n){return e=aX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=f5e(t,"string");return jd(e)=="symbol"?e:e+""}function f5e(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bP(){return bP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bP.apply(this,arguments)}var h5e=function(e){var n=e.yAxisId,r=tk(),i=nk(),s=H7(n);return s==null?null:U.createElement(gp,bP({},s,{className:_n("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return tl(o,!0)}}))},yy=function(t){function e(){return i5e(this,e),o5e(this,e,arguments)}return c5e(e,t),a5e(e,[{key:"render",value:function(){return U.createElement(h5e,this.props)}}])}(U.Component);sX(yy,"displayName","YAxis");sX(yy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Oj(t){return g5e(t)||m5e(t)||p5e(t)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p5e(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function m5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g5e(t){if(Array.isArray(t))return _P(t)}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wP=function(e,n,r,i,s){var a=ra(e,ik),o=ra(e,bS),l=[].concat(Oj(a),Oj(o)),u=ra(e,wS),f="".concat(i,"Id"),c=i[0],h=n;if(l.length&&(h=l.reduce(function(x,v){if(v.props[f]===r&&yo(v.props,"extendDomain")&&ft(v.props[c])){var y=v.props[c];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),u.length){var d="".concat(c,"1"),m="".concat(c,"2");h=u.reduce(function(x,v){if(v.props[f]===r&&yo(v.props,"extendDomain")&&ft(v.props[d])&&ft(v.props[m])){var y=v.props[d],_=v.props[m];return[Math.min(x[0],y,_),Math.max(x[1],y,_)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,v){return ft(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},oX={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,c,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,c||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,d=c.length,m=new Array(d);h<d;h++)m[h]=c[h].fn;return m},o.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},o.prototype.emit=function(u,f,c,h,d,m){var x=n?n+u:u;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,_,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,c),!0;case 4:return v.fn.call(v.context,f,c,h),!0;case 5:return v.fn.call(v.context,f,c,h,d),!0;case 6:return v.fn.call(v.context,f,c,h,d,m),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];v.fn.apply(v.context,_)}else{var w=v.length,E;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,f);break;case 3:v[b].fn.call(v[b].context,f,c);break;case 4:v[b].fn.call(v[b].context,f,c,h);break;default:if(!_)for(E=1,_=new Array(y-1);E<y;E++)_[E-1]=arguments[E];v[b].fn.apply(v[b].context,_)}}return!0},o.prototype.on=function(u,f,c){return s(this,u,f,c,!1)},o.prototype.once=function(u,f,c){return s(this,u,f,c,!0)},o.prototype.removeListener=function(u,f,c,h){var d=n?n+u:u;if(!this._events[d])return this;if(!f)return a(this,d),this;var m=this._events[d];if(m.fn)m.fn===f&&(!h||m.once)&&(!c||m.context===c)&&a(this,d);else{for(var x=0,v=[],y=m.length;x<y;x++)(m[x].fn!==f||h&&!m[x].once||c&&m[x].context!==c)&&v.push(m[x]);v.length?this._events[d]=v.length===1?v[0]:v:a(this,d)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(oX);var y5e=oX.exports;const v5e=On(y5e);var rC=new v5e,iC="recharts.syncMouseEvents";function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function x5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lX(r.key),r)}}function _5e(t,e,n){return e&&b5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sC(t,e,n){return e=lX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lX(t){var e=w5e(t,"string");return vy(e)=="symbol"?e:e+""}function w5e(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S5e=function(){function t(){x5e(this,t),sC(this,"activeIndex",0),sC(this,"coordinateList",[]),sC(this,"layout","horizontal")}return _5e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,h=n.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=s+l+u,h=a+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:c,pageY:h})}}}])}();function A5e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ft(r)&&ft(i))return!0}return!1}function E5e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function uX(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=ii(e,n,r,i),o=ii(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function M5e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,c=e.angle,h=ii(o,l,u,c),d=ii(o,l,f,c);r=h.x,i=h.y,s=d.x,a=d.y}else return uX(e);return[{x:r,y:i},{x:s,y:a}]}function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){C5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C5e(t,e,n){return e=T5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5e(t){var e=P5e(t,"string");return xy(e)=="symbol"?e:e+""}function P5e(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R5e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,c=t.layout,h=t.chartName,d=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var m,x=W2;if(h==="ScatterChart")m=a,x=PFe;else if(h==="BarChart")m=E5e(c,a,l,f),x=JO;else if(c==="radial"){var v=uX(a),y=v.cx,_=v.cy,b=v.radius,w=v.startAngle,E=v.endAngle;m={cx:y,cy:_,startAngle:w,endAngle:E,innerRadius:b,outerRadius:b},x=g7}else m={points:M5e(c,a,l)},x=W2;var A=kx(kx(kx(kx({stroke:"#ccc",pointerEvents:"none"},l),m),dn(d,!1)),{},{payload:o,payloadIndex:u,className:_n("recharts-tooltip-cursor",d.className)});return U.isValidElement(d)?U.cloneElement(d,A):U.createElement(x,A)}var I5e=["item"],O5e=["children","className","width","height","style","compact","title","desc"];function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function Nj(t,e){return B5e(t)||N5e(t,e)||fX(t,e)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function B5e(t){if(Array.isArray(t))return t}function Bj(t,e){if(t==null)return{};var n=D5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hX(r.key),r)}}function U5e(t,e,n){return e&&F5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z5e(t,e,n){return e=E_(e),j5e(t,cX()?Reflect.construct(e,n||[],E_(t).constructor):e.apply(t,n))}function j5e(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H5e(t)}function H5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!t})()}function E_(t){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E_(t)}function G5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}function SP(t,e){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SP(t,e)}function Gd(t){return W5e(t)||V5e(t)||fX(t)||$5e()}function $5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function V5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W5e(t){if(Array.isArray(t))return AP(t)}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){jt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t,e,n){return e=hX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=X5e(t,"string");return Hd(e)=="symbol"?e:e+""}function X5e(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q5e={xAxis:["bottom","top"],yAxis:["left","right"]},K5e={width:"100%",height:"100%"},dX={x:0,y:0};function Nx(t){return t}var J5e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Y5e=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Ue(Ue(Ue({},i),ii(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,u=i.angle;return Ue(Ue(Ue({},i),ii(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return dX},SS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Gd(o),Gd(u)):o},[]);return a.length>0?a:e&&e.length&&ft(i)&&ft(s)?e.slice(i,s+1):[]};function pX(t){return t==="number"?[0,"auto"]:void 0}var EP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=SS(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var d=c===void 0?o:c;h=Cb(d,a.dataKey,i)}else h=c&&c[r]||o[r];return h?[].concat(Gd(l),[d7(u,h)]):l},[])},Lj=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=J5e(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=gDe(a,o,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,h=EP(e,n,f,c),d=Y5e(r,o,f,s);return{activeTooltipIndex:f,activeLabel:c,activePayload:h,activeCoordinate:d}}return null},Z5e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,h=e.stackOffset,d=c7(f,s);return r.reduce(function(m,x){var v,y=x.type.defaultProps!==void 0?Ue(Ue({},x.type.defaultProps),x.props):x.props,_=y.type,b=y.dataKey,w=y.allowDataOverflow,E=y.allowDuplicatedCategory,A=y.scale,P=y.ticks,I=y.includeHidden,R=y[a];if(m[R])return m;var M=SS(e.data,{graphicalItems:i.filter(function(te){var G,Ie=a in te.props?te.props[a]:(G=te.type.defaultProps)===null||G===void 0?void 0:G[a];return Ie===R}),dataStartIndex:l,dataEndIndex:u}),k=M.length,B,H,j;A5e(y.domain,w,_)&&(B=j2(y.domain,null,w),d&&(_==="number"||A!=="auto")&&(j=eg(M,b,"category")));var V=pX(_);if(!B||B.length===0){var X,Z=(X=y.domain)!==null&&X!==void 0?X:V;if(b){if(B=eg(M,b,_),_==="category"&&d){var L=rwe(B);E&&L?(H=B,B=h_(0,k)):E||(B=mz(Z,B,x).reduce(function(te,G){return te.indexOf(G)>=0?te:[].concat(Gd(te),[G])},[]))}else if(_==="category")E?B=B.filter(function(te){return te!==""&&!cn(te)}):B=mz(Z,B,x).reduce(function(te,G){return te.indexOf(G)>=0||G===""||cn(G)?te:[].concat(Gd(te),[G])},[]);else if(_==="number"){var W=_De(M,i.filter(function(te){var G,Ie,Oe=a in te.props?te.props[a]:(G=te.type.defaultProps)===null||G===void 0?void 0:G[a],ae="hide"in te.props?te.props.hide:(Ie=te.type.defaultProps)===null||Ie===void 0?void 0:Ie.hide;return Oe===R&&(I||!ae)}),b,s,f);W&&(B=W)}d&&(_==="number"||A!=="auto")&&(j=eg(M,b,"category"))}else d?B=h_(0,k):o&&o[R]&&o[R].hasStack&&_==="number"?B=h==="expand"?[0,1]:h7(o[R].stackGroups,l,u):B=u7(M,i.filter(function(te){var G=a in te.props?te.props[a]:te.type.defaultProps[a],Ie="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return G===R&&(I||!Ie)}),_,f,!0);if(_==="number")B=wP(c,B,R,s,P),Z&&(B=j2(Z,B,w));else if(_==="category"&&Z){var N=Z,q=B.every(function(te){return N.indexOf(te)>=0});q&&(B=N)}}return Ue(Ue({},m),{},jt({},R,Ue(Ue({},y),{},{axisType:s,domain:B,categoricalDomain:j,duplicateDomain:H,originalDomain:(v=y.domain)!==null&&v!==void 0?v:V,isCategorical:d,layout:f})))},{})},Q5e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,h=SS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),d=h.length,m=c7(f,s),x=-1;return r.reduce(function(v,y){var _=y.type.defaultProps!==void 0?Ue(Ue({},y.type.defaultProps),y.props):y.props,b=_[a],w=pX("number");if(!v[b]){x++;var E;return m?E=h_(0,d):o&&o[b]&&o[b].hasStack?(E=h7(o[b].stackGroups,l,u),E=wP(c,E,b,s)):(E=j2(w,u7(h,r.filter(function(A){var P,I,R=a in A.props?A.props[a]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[a],M="hide"in A.props?A.props.hide:(I=A.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===b&&!M}),"number",f),i.defaultProps.allowDataOverflow),E=wP(c,E,b,s)),Ue(Ue({},v),{},jt({},b,Ue(Ue({axisType:s},i.defaultProps),{},{hide:!0,orientation:na(q5e,"".concat(s,".").concat(x%2),null),domain:E,originalDomain:w,isCategorical:m,layout:f})))}return v},{})},eHe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),h=ra(f,s),d={};return h&&h.length?d=Z5e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(d=Q5e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:c,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),d},tHe=function(e){var n=eu(e),r=tl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:SO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:r_(n,r)}},Fj=function(e){var n=e.children,r=e.defaultShowTooltip,i=_s(n,Od),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},nHe=function(e){return!e||!e.length?!1:e.some(function(n){var r=sl(n&&n.type);return r&&r.indexOf("Bar")>=0})},Uj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rHe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,f=r.height,c=r.children,h=r.margin||{},d=_s(c,Od),m=_s(c,qh),x=Object.keys(l).reduce(function(E,A){var P=l[A],I=P.orientation;return!P.mirror&&!P.hide?Ue(Ue({},E),{},jt({},I,E[I]+P.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(E,A){var P=a[A],I=P.orientation;return!P.mirror&&!P.hide?Ue(Ue({},E),{},jt({},I,na(E,"".concat(I))+P.height)):E},{top:h.top||0,bottom:h.bottom||0}),y=Ue(Ue({},v),x),_=y.bottom;d&&(y.bottom+=d.props.height||Od.defaultProps.height),m&&n&&(y=xDe(y,i,r,n));var b=u-y.left-y.right,w=f-y.top-y.bottom;return Ue(Ue({brushBottom:_},y),{},{width:Math.max(b,0),height:Math.max(w,0)})},iHe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},sHe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,c=e.defaultProps,h=function(y,_){var b=_.graphicalItems,w=_.stackGroups,E=_.offset,A=_.updateId,P=_.dataStartIndex,I=_.dataEndIndex,R=y.barSize,M=y.layout,k=y.barGap,B=y.barCategoryGap,H=y.maxBarSize,j=Uj(M),V=j.numericAxisName,X=j.cateAxisName,Z=nHe(b),L=[];return b.forEach(function(W,N){var q=SS(y.data,{graphicalItems:[W],dataStartIndex:P,dataEndIndex:I}),te=W.type.defaultProps!==void 0?Ue(Ue({},W.type.defaultProps),W.props):W.props,G=te.dataKey,Ie=te.maxBarSize,Oe=te["".concat(V,"Id")],ae=te["".concat(X,"Id")],_e={},Ge=l.reduce(function(wt,bt){var Y=_["".concat(bt.axisType,"Map")],$=te["".concat(bt.axisType,"Id")];Y&&Y[$]||bt.axisType==="zAxis"||hf();var ye=Y[$];return Ue(Ue({},wt),{},jt(jt({},bt.axisType,ye),"".concat(bt.axisType,"Ticks"),tl(ye)))},_e),we=Ge[X],Le=Ge["".concat(X,"Ticks")],Je=w&&w[Oe]&&w[Oe].hasStack&&kDe(W,w[Oe].stackGroups),Pe=sl(W.type).indexOf("Bar")>=0,Q=r_(we,Le),Me=[],Re=Z&&yDe({barSize:R,stackGroups:w,totalSize:iHe(Ge,X)});if(Pe){var Ce,Ee,Ye=cn(Ie)?H:Ie,qe=(Ce=(Ee=r_(we,Le,!0))!==null&&Ee!==void 0?Ee:Ye)!==null&&Ce!==void 0?Ce:0;Me=vDe({barGap:k,barCategoryGap:B,bandSize:qe!==Q?qe:Q,sizeList:Re[ae],maxBarSize:Ye}),qe!==Q&&(Me=Me.map(function(wt){return Ue(Ue({},wt),{},{position:Ue(Ue({},wt.position),{},{offset:wt.position.offset-qe/2})})}))}var Qe=W&&W.type&&W.type.getComposedData;Qe&&L.push({props:Ue(Ue({},Qe(Ue(Ue({},Ge),{},{displayedData:q,props:y,dataKey:G,item:W,bandSize:Q,barPosition:Me,offset:E,stackedData:Je,layout:M,dataStartIndex:P,dataEndIndex:I}))),{},jt(jt(jt({key:W.key||"item-".concat(N)},V,Ge[V]),X,Ge[X]),"animationId",A)),childIndex:gwe(W,y.children),item:W})}),L},d=function(y,_){var b=y.props,w=y.dataStartIndex,E=y.dataEndIndex,A=y.updateId;if(!oU({props:b}))return null;var P=b.children,I=b.layout,R=b.stackOffset,M=b.data,k=b.reverseStackOrder,B=Uj(I),H=B.numericAxisName,j=B.cateAxisName,V=ra(P,r),X=RDe(M,V,"".concat(H,"Id"),"".concat(j,"Id"),R,k),Z=l.reduce(function(te,G){var Ie="".concat(G.axisType,"Map");return Ue(Ue({},te),{},jt({},Ie,eHe(b,Ue(Ue({},G),{},{graphicalItems:V,stackGroups:G.axisType===H&&X,dataStartIndex:w,dataEndIndex:E}))))},{}),L=rHe(Ue(Ue({},Z),{},{props:b,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(Z).forEach(function(te){Z[te]=f(b,Z[te],L,te.replace("Map",""),n)});var W=Z["".concat(j,"Map")],N=tHe(W),q=h(b,Ue(Ue({},Z),{},{dataStartIndex:w,dataEndIndex:E,updateId:A,graphicalItems:V,stackGroups:X,offset:L}));return Ue(Ue({formattedGraphicalItems:q,graphicalItems:V,offset:L,stackGroups:X},N),Z)},m=function(v){function y(_){var b,w,E;return L5e(this,y),E=z5e(this,y,[_]),jt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(E,"accessibilityManager",new S5e),jt(E,"handleLegendBBoxUpdate",function(A){if(A){var P=E.state,I=P.dataStartIndex,R=P.dataEndIndex,M=P.updateId;E.setState(Ue({legendBBox:A},d({props:E.props,dataStartIndex:I,dataEndIndex:R,updateId:M},Ue(Ue({},E.state),{},{legendBBox:A}))))}}),jt(E,"handleReceiveSyncEvent",function(A,P,I){if(E.props.syncId===A){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(P)}}),jt(E,"handleBrushChange",function(A){var P=A.startIndex,I=A.endIndex;if(P!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return Ue({dataStartIndex:P,dataEndIndex:I},d({props:E.props,dataStartIndex:P,dataEndIndex:I,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),jt(E,"handleMouseEnter",function(A){var P=E.getMouseInfo(A);if(P){var I=Ue(Ue({},P),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var R=E.props.onMouseEnter;rn(R)&&R(I,A)}}),jt(E,"triggeredAfterMouseMove",function(A){var P=E.getMouseInfo(A),I=P?Ue(Ue({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var R=E.props.onMouseMove;rn(R)&&R(I,A)}),jt(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),jt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),jt(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),jt(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var I=E.props.onMouseLeave;rn(I)&&I(P,A)}),jt(E,"handleOuterEvent",function(A){var P=mwe(A),I=na(E.props,"".concat(P));if(P&&rn(I)){var R,M;/.*touch.*/i.test(P)?M=E.getMouseInfo(A.changedTouches[0]):M=E.getMouseInfo(A),I((R=M)!==null&&R!==void 0?R:{},A)}}),jt(E,"handleClick",function(A){var P=E.getMouseInfo(A);if(P){var I=Ue(Ue({},P),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var R=E.props.onClick;rn(R)&&R(I,A)}}),jt(E,"handleMouseDown",function(A){var P=E.props.onMouseDown;if(rn(P)){var I=E.getMouseInfo(A);P(I,A)}}),jt(E,"handleMouseUp",function(A){var P=E.props.onMouseUp;if(rn(P)){var I=E.getMouseInfo(A);P(I,A)}}),jt(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),jt(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),jt(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),jt(E,"handleDoubleClick",function(A){var P=E.props.onDoubleClick;if(rn(P)){var I=E.getMouseInfo(A);P(I,A)}}),jt(E,"handleContextMenu",function(A){var P=E.props.onContextMenu;if(rn(P)){var I=E.getMouseInfo(A);P(I,A)}}),jt(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&rC.emit(iC,E.props.syncId,A,E.eventEmitterSymbol)}),jt(E,"applySyncEvent",function(A){var P=E.props,I=P.layout,R=P.syncMethod,M=E.state.updateId,k=A.dataStartIndex,B=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(Ue({dataStartIndex:k,dataEndIndex:B},d({props:E.props,dataStartIndex:k,dataEndIndex:B,updateId:M},E.state)));else if(A.activeTooltipIndex!==void 0){var H=A.chartX,j=A.chartY,V=A.activeTooltipIndex,X=E.state,Z=X.offset,L=X.tooltipTicks;if(!Z)return;if(typeof R=="function")V=R(L,A);else if(R==="value"){V=-1;for(var W=0;W<L.length;W++)if(L[W].value===A.activeLabel){V=W;break}}var N=Ue(Ue({},Z),{},{x:Z.left,y:Z.top}),q=Math.min(H,N.x+N.width),te=Math.min(j,N.y+N.height),G=L[V]&&L[V].value,Ie=EP(E.state,E.props.data,V),Oe=L[V]?{x:I==="horizontal"?L[V].coordinate:q,y:I==="horizontal"?te:L[V].coordinate}:dX;E.setState(Ue(Ue({},A),{},{activeLabel:G,activeCoordinate:Oe,activePayload:Ie,activeTooltipIndex:V}))}else E.setState(A)}),jt(E,"renderCursor",function(A){var P,I=E.state,R=I.isTooltipActive,M=I.activeCoordinate,k=I.activePayload,B=I.offset,H=I.activeTooltipIndex,j=I.tooltipAxisBandSize,V=E.getTooltipEventType(),X=(P=A.props.active)!==null&&P!==void 0?P:R,Z=E.props.layout,L=A.key||"_recharts-cursor";return he.createElement(R5e,{key:L,activeCoordinate:M,activePayload:k,activeTooltipIndex:H,chartName:n,element:A,isActive:X,layout:Z,offset:B,tooltipAxisBandSize:j,tooltipEventType:V})}),jt(E,"renderPolarAxis",function(A,P,I){var R=na(A,"type.axisType"),M=na(E.state,"".concat(R,"Map")),k=A.type.defaultProps,B=k!==void 0?Ue(Ue({},k),A.props):A.props,H=M&&M[B["".concat(R,"Id")]];return U.cloneElement(A,Ue(Ue({},H),{},{className:_n(R,H.className),key:A.key||"".concat(P,"-").concat(I),ticks:tl(H,!0)}))}),jt(E,"renderPolarGrid",function(A){var P=A.props,I=P.radialLines,R=P.polarAngles,M=P.polarRadius,k=E.state,B=k.radiusAxisMap,H=k.angleAxisMap,j=eu(B),V=eu(H),X=V.cx,Z=V.cy,L=V.innerRadius,W=V.outerRadius;return U.cloneElement(A,{polarAngles:Array.isArray(R)?R:tl(V,!0).map(function(N){return N.coordinate}),polarRadius:Array.isArray(M)?M:tl(j,!0).map(function(N){return N.coordinate}),cx:X,cy:Z,innerRadius:L,outerRadius:W,key:A.key||"polar-grid",radialLines:I})}),jt(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,P=E.props,I=P.children,R=P.width,M=P.height,k=E.props.margin||{},B=R-(k.left||0)-(k.right||0),H=o7({children:I,formattedGraphicalItems:A,legendWidth:B,legendContent:u});if(!H)return null;var j=H.item,V=Bj(H,I5e);return U.cloneElement(j,Ue(Ue({},V),{},{chartWidth:R,chartHeight:M,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),jt(E,"renderTooltip",function(){var A,P=E.props,I=P.children,R=P.accessibilityLayer,M=_s(I,Ma);if(!M)return null;var k=E.state,B=k.isTooltipActive,H=k.activeCoordinate,j=k.activePayload,V=k.activeLabel,X=k.offset,Z=(A=M.props.active)!==null&&A!==void 0?A:B;return U.cloneElement(M,{viewBox:Ue(Ue({},X),{},{x:X.left,y:X.top}),active:Z,label:V,payload:Z?j:[],coordinate:H,accessibilityLayer:R})}),jt(E,"renderBrush",function(A){var P=E.props,I=P.margin,R=P.data,M=E.state,k=M.offset,B=M.dataStartIndex,H=M.dataEndIndex,j=M.updateId;return U.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Px(E.handleBrushChange,A.props.onChange),data:R,x:ft(A.props.x)?A.props.x:k.left,y:ft(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(I.bottom||0),width:ft(A.props.width)?A.props.width:k.width,startIndex:B,endIndex:H,updateId:"brush-".concat(j)})}),jt(E,"renderReferenceElement",function(A,P,I){if(!A)return null;var R=E,M=R.clipPathId,k=E.state,B=k.xAxisMap,H=k.yAxisMap,j=k.offset,V=A.type.defaultProps||{},X=A.props,Z=X.xAxisId,L=Z===void 0?V.xAxisId:Z,W=X.yAxisId,N=W===void 0?V.yAxisId:W;return U.cloneElement(A,{key:A.key||"".concat(P,"-").concat(I),xAxis:B[L],yAxis:H[N],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:M})}),jt(E,"renderActivePoints",function(A){var P=A.item,I=A.activePoint,R=A.basePoint,M=A.childIndex,k=A.isRange,B=[],H=P.props.key,j=P.item.type.defaultProps!==void 0?Ue(Ue({},P.item.type.defaultProps),P.item.props):P.item.props,V=j.activeDot,X=j.dataKey,Z=Ue(Ue({index:M,dataKey:X,cx:I.x,cy:I.y,r:4,fill:KO(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},dn(V,!1)),Tb(V));return B.push(y.renderActiveDot(V,Z,"".concat(H,"-activePoint-").concat(M))),R?B.push(y.renderActiveDot(V,Ue(Ue({},Z),{},{cx:R.x,cy:R.y}),"".concat(H,"-basePoint-").concat(M))):k&&B.push(null),B}),jt(E,"renderGraphicChild",function(A,P,I){var R=E.filterFormatItem(A,P,I);if(!R)return null;var M=E.getTooltipEventType(),k=E.state,B=k.isTooltipActive,H=k.tooltipAxis,j=k.activeTooltipIndex,V=k.activeLabel,X=E.props.children,Z=_s(X,Ma),L=R.props,W=L.points,N=L.isRange,q=L.baseLine,te=R.item.type.defaultProps!==void 0?Ue(Ue({},R.item.type.defaultProps),R.item.props):R.item.props,G=te.activeDot,Ie=te.hide,Oe=te.activeBar,ae=te.activeShape,_e=!!(!Ie&&B&&Z&&(G||Oe||ae)),Ge={};M!=="axis"&&Z&&Z.props.trigger==="click"?Ge={onClick:Px(E.handleItemMouseEnter,A.props.onClick)}:M!=="axis"&&(Ge={onMouseLeave:Px(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Px(E.handleItemMouseEnter,A.props.onMouseEnter)});var we=U.cloneElement(A,Ue(Ue({},R.props),Ge));function Le(bt){return typeof H.dataKey=="function"?H.dataKey(bt.payload):null}if(_e)if(j>=0){var Je,Pe;if(H.dataKey&&!H.allowDuplicatedCategory){var Q=typeof H.dataKey=="function"?Le:"payload.".concat(H.dataKey.toString());Je=Cb(W,Q,V),Pe=N&&q&&Cb(q,Q,V)}else Je=W==null?void 0:W[j],Pe=N&&q&&q[j];if(ae||Oe){var Me=A.props.activeIndex!==void 0?A.props.activeIndex:j;return[U.cloneElement(A,Ue(Ue(Ue({},R.props),Ge),{},{activeIndex:Me})),null,null]}if(!cn(Je))return[we].concat(Gd(E.renderActivePoints({item:R,activePoint:Je,basePoint:Pe,childIndex:j,isRange:N})))}else{var Re,Ce=(Re=E.getItemByXY(E.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:we},Ee=Ce.graphicalItem,Ye=Ee.item,qe=Ye===void 0?A:Ye,Qe=Ee.childIndex,wt=Ue(Ue(Ue({},R.props),Ge),{},{activeIndex:Qe});return[U.cloneElement(qe,wt),null,null]}return N?[we,null,null]:[we,null]}),jt(E,"renderCustomized",function(A,P,I){return U.cloneElement(A,Ue(Ue({key:"recharts-customized-".concat(I)},E.props),E.state))}),jt(E,"renderMap",{CartesianGrid:{handler:Nx,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Nx},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Nx},YAxis:{handler:Nx},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:nv("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=aW(E.triggeredAfterMouseMove,(w=_.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return G5e(y,v),U5e(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,E=b.data,A=b.height,P=b.layout,I=_s(w,Ma);if(I){var R=I.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,k=EP(this.state,E,R,M),B=this.state.tooltipTicks[R].coordinate,H=(this.state.offset.top+A)/2,j=P==="horizontal",V=j?{x:B,y:H}:{y:B,x:H},X=this.state.formattedGraphicalItems.find(function(L){var W=L.item;return W.type.name==="Scatter"});X&&(V=Ue(Ue({},V),X.props.points[R].tooltipPosition),k=X.props.points[R].tooltipPayload);var Z={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:V};this.setState(Z),this.renderCursor(I),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){n2([_s(b.children,Ma)],[_s(this.props.children,Ma)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=_s(this.props.children,Ma);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return o.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),A=HIe(E),P={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},I=E.width/w.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,I);if(!R)return null;var M=this.state,k=M.xAxisMap,B=M.yAxisMap,H=this.getTooltipEventType(),j=Lj(this.state,this.props.data,this.props.layout,R);if(H!=="axis"&&k&&B){var V=eu(k).scale,X=eu(B).scale,Z=V&&V.invert?V.invert(P.chartX):null,L=X&&X.invert?X.invert(P.chartY):null;return Ue(Ue({},P),{},{xValue:Z,yValue:L},j)}return j?Ue(Ue({},P),j):null}},{key:"inRange",value:function(b,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=b/E,I=w/E;if(A==="horizontal"||A==="vertical"){var R=this.state.offset,M=P>=R.left&&P<=R.left+R.width&&I>=R.top&&I<=R.top+R.height;return M?{x:P,y:I}:null}var k=this.state,B=k.angleAxisMap,H=k.radiusAxisMap;if(B&&H){var j=eu(B);return vz({x:P,y:I},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),E=_s(b,Ma),A={};E&&w==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Tb(this.props,this.handleOuterEvent);return Ue(Ue({},P),A)}},{key:"addListener",value:function(){rC.on(iC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rC.removeListener(iC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,E){for(var A=this.state.formattedGraphicalItems,P=0,I=A.length;P<I;P++){var R=A[P];if(R.item===b||R.props.key===b.key||w===sl(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,E=w.left,A=w.top,P=w.height,I=w.width;return he.createElement("defs",null,he.createElement("clipPath",{id:b},he.createElement("rect",{x:E,y:A,height:P,width:I})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,E){var A=Nj(E,2),P=A[0],I=A[1];return Ue(Ue({},w),{},jt({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,E){var A=Nj(E,2),P=A[0],I=A[1];return Ue(Ue({},w),{},jt({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,E=w.formattedGraphicalItems,A=w.activeItem;if(E&&E.length)for(var P=0,I=E.length;P<I;P++){var R=E[P],M=R.props,k=R.item,B=k.type.defaultProps!==void 0?Ue(Ue({},k.type.defaultProps),k.props):k.props,H=sl(k.type);if(H==="Bar"){var j=(M.data||[]).find(function(L){return xFe(b,L)});if(j)return{graphicalItem:R,payload:j}}else if(H==="RadialBar"){var V=(M.data||[]).find(function(L){return vz(b,L)});if(V)return{graphicalItem:R,payload:V}}else if(gS(R,A)||yS(R,A)||fy(R,A)){var X=wUe({graphicalItem:R,activeTooltipItem:A,itemData:B.data}),Z=B.activeIndex===void 0?X:B.activeIndex;return{graphicalItem:Ue(Ue({},R),{},{childIndex:Z}),payload:fy(R,A)?B.data[X]:R.props.data[X]}}}return null}},{key:"render",value:function(){var b=this;if(!oU(this))return null;var w=this.props,E=w.children,A=w.className,P=w.width,I=w.height,R=w.style,M=w.compact,k=w.title,B=w.desc,H=Bj(w,O5e),j=dn(H,!1);if(M)return he.createElement(gj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(i2,Bh({},j,{width:P,height:I,title:k,desc:B}),this.renderClipPath(),uU(E,this.renderMap)));if(this.props.accessibilityLayer){var V,X;j.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,j.role=(X=this.props.role)!==null&&X!==void 0?X:"application",j.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},j.onFocus=function(){b.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return he.createElement(gj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",Bh({className:_n("recharts-wrapper",A),style:Ue({position:"relative",cursor:"default",width:P,height:I},R)},Z,{ref:function(W){b.container=W}}),he.createElement(i2,Bh({},j,{width:P,height:I,title:k,desc:B,style:K5e}),this.renderClipPath(),uU(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);jt(m,"displayName",n),jt(m,"defaultProps",Ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),jt(m,"getDerivedStateFromProps",function(v,y){var _=v.dataKey,b=v.data,w=v.children,E=v.width,A=v.height,P=v.layout,I=v.stackOffset,R=v.margin,M=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var B=Fj(v);return Ue(Ue(Ue({},B),{},{updateId:0},d(Ue(Ue({props:v},B),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:A,prevLayout:P,prevStackOffset:I,prevMargin:R,prevChildren:w})}if(_!==y.prevDataKey||b!==y.prevData||E!==y.prevWidth||A!==y.prevHeight||P!==y.prevLayout||I!==y.prevStackOffset||!Xh(R,y.prevMargin)){var H=Fj(v),j={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=Ue(Ue({},Lj(y,b,P)),{},{updateId:y.updateId+1}),X=Ue(Ue(Ue({},H),j),V);return Ue(Ue(Ue({},X),d(Ue({props:v},X),y)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:A,prevLayout:P,prevStackOffset:I,prevMargin:R,prevChildren:w})}if(!n2(w,y.prevChildren)){var Z,L,W,N,q=_s(w,Od),te=q&&(Z=(L=q.props)===null||L===void 0?void 0:L.startIndex)!==null&&Z!==void 0?Z:M,G=q&&(W=(N=q.props)===null||N===void 0?void 0:N.endIndex)!==null&&W!==void 0?W:k,Ie=te!==M||G!==k,Oe=!cn(b),ae=Oe&&!Ie?y.updateId:y.updateId+1;return Ue(Ue({updateId:ae},d(Ue(Ue({props:v},y),{},{updateId:ae,dataStartIndex:te,dataEndIndex:G}),y)),{},{prevChildren:w,dataStartIndex:te,dataEndIndex:G})}return null}),jt(m,"renderActiveDot",function(v,y,_){var b;return U.isValidElement(v)?b=U.cloneElement(v,y):rn(v)?b=v(y):b=he.createElement(YO,y),he.createElement(yr,{className:"recharts-active-dot",key:_},b)});var x=U.forwardRef(function(y,_){return he.createElement(m,Bh({},y,{ref:_}))});return x.displayName=m.displayName,x},zj=sHe({chartName:"LineChart",GraphicalChild:Ud,axisComponents:[{axisType:"xAxis",AxisComp:gy},{axisType:"yAxis",AxisComp:yy}],formatAxisMap:X4e});const AS=({initialTab:t="overview"})=>{const[e,n]=U.useState(t),{brandingConfig:r,loadBrandingConfig:i}=WG(),[s,a]=U.useState([]),[o,l]=U.useState([]),[u,f]=U.useState(null),[c,h]=U.useState(1),[d,m]=U.useState(0),x=10,[v,y]=U.useState({role:"all",status:"all"}),[_,b]=U.useState([]),[w,E]=U.useState([]),A=async()=>{try{const[oe,pe]=await Promise.all([Ht.get("/admin/faqs"),Ht.get("/admin/suggested-faqs")]);b(oe.data??[]),E(pe.data??[])}catch{zt.error("Khng th ti d liu FAQs")}},[P,I]=U.useState(!1),[R,M]=U.useState([]),[k,B]=U.useState([]),[H,j]=U.useState([]),[V,X]=U.useState(!1),[Z,L]=U.useState(null),[W,N]=U.useState({id:"",question:"",answer:"",category:""}),[q,te]=U.useState(!1),[G,Ie]=U.useState(null),[Oe,ae]=U.useState(null),_e=oe=>{oe?(L(oe),N(oe)):(L(null),N({id:"",question:"",answer:"",category:"General"})),X(!0)},Ge=()=>{X(!1),L(null),N({id:"",question:"",answer:"",category:""})},we=oe=>{const{name:pe,value:$e}=oe.target;N(nt=>({...nt,[pe]:$e}))},Le=async oe=>{oe.preventDefault();try{let pe;Z?(pe=(await Ht.put(`/admin/faqs/${W.id}`,W)).data,b(_.map(nt=>nt.id===pe.id?pe:nt)),zt.success("FAQ  c cp nht!")):(pe=(await Ht.post("/admin/faqs",{question:W.question,answer:W.answer,category:W.category})).data,b([..._,pe]),zt.success("FAQ  c thm mi!"),Oe&&(await Ht.delete(`/admin/suggested-faqs/${Oe}`),E(w.filter(nt=>nt.id!==Oe)))),Ge()}catch{zt.error(`Khng th ${Z?"cp nht":"thm mi"} FAQ`)}},Je=oe=>{Ie(oe),te(!0)},Pe=()=>{Ie(null),te(!1)},Q=async()=>{if(G)try{await Ht.delete(`/admin/faqs/${G}`),b(_.filter(oe=>oe.id!==G)),zt.success("FAQ  c xa!"),Pe()}catch{zt.error("Khng th xa FAQ")}},Me=async oe=>{try{await Ht.delete(`/admin/suggested-faqs/${oe}`),E(w.filter(pe=>pe.id!==oe)),zt.success(" t chi  xut")}catch{zt.error("Khng th t chi  xut")}},Re=oe=>{_e(null),N({id:"",question:oe.question,answer:"",category:"General"}),ae(oe.id)},Ce=async()=>{try{const oe=await Ht.get("/admin/feedback-chats");a(oe.data??[])}catch{zt.error("Khng th ti d liu phn hi")}},[Ee,Ye]=U.useState({chat_model:"gpt-4o-mini",embed_model:"text-embedding-3-small",similarity_threshold:.7,max_tokens:500}),qe=async()=>{try{const pe=(await Ht.get("/admin/system-configs")).data||[],$e={};pe.forEach(nt=>{$e[nt.key]=nt.value}),Ye(nt=>({...nt,chat_model:$e.chat_model??nt.chat_model,embed_model:$e.embed_model??nt.embed_model,similarity_threshold:$e.similarity_threshold?parseFloat($e.similarity_threshold):nt.similarity_threshold,max_tokens:$e.max_tokens?parseInt($e.max_tokens):nt.max_tokens}))}catch{}},Qe=async()=>{var oe,pe;try{const $e=[{key:"chat_model",value:String(Ee.chat_model),description:"chat model"},{key:"embed_model",value:String(Ee.embed_model),description:"embed model"},{key:"similarity_threshold",value:String(Ee.similarity_threshold),description:"similarity threshold"},{key:"max_tokens",value:String(Ee.max_tokens),description:"max tokens"}];await Ht.put("/admin/system-configs",$e),zt.success(" lu cu hnh")}catch($e){zt.error(((pe=(oe=$e==null?void 0:$e.response)==null?void 0:oe.data)==null?void 0:pe.detail)||"Lu cu hnh tht bi")}},[wt,bt]=U.useState({brand_name:"",primary_color:"#1FAA59",brand_logo_url:"",brand_logo_height:"32px",favicon_url:""});U.useEffect(()=>{r&&bt(r)},[r]);const Y=async()=>{var oe,pe;try{await Ht.put("/admin/branding",wt),zt.success(" lu cu hnh thng hiu"),i()}catch($e){zt.error(((pe=(oe=$e==null?void 0:$e.response)==null?void 0:oe.data)==null?void 0:pe.detail)||"Lu cu hnh tht bi")}},$=async(oe,pe)=>{var We,Ze;if(!pe)return;const $e="/admin/branding/upload-logo",nt=new FormData;nt.append("file",pe);try{const _t=await Ht.post($e,nt,{headers:{"Content-Type":"multipart/form-data"}});oe==="logo"&&bt(se=>({...se,brand_logo_url:_t.data.url})),zt.success("Ti file ln thnh cng!")}catch(_t){zt.error(((Ze=(We=_t==null?void 0:_t.response)==null?void 0:We.data)==null?void 0:Ze.detail)||"Ti file ln tht bi")}},ye=async()=>{var oe;try{const pe=new URLSearchParams({page:String(c),limit:String(x),role:v.role,status:v.status}),$e=await Ht.get(`/admin/users?${pe.toString()}`);l($e.data.users??[]),m($e.data.total??0)}catch(pe){zt.error(`Khng th ti danh sch user: ${((oe=pe==null?void 0:pe.response)==null?void 0:oe.status)||(pe==null?void 0:pe.message)}`)}};U.useEffect(()=>{(async()=>{var pe;I(!0);try{const[$e,nt,We,Ze]=await Promise.all([Ht.get("/admin/stats"),Ht.get("/admin/activity"),Ht.get("/admin/token-activity"),Ht.get("/admin/frequent-questions")]);f($e.data??null),M(nt.data??[]),B(We.data??[]),j(Ze.data??[]),await qe()}catch($e){zt.error(`Khng th ti d liu dashboard: ${((pe=$e==null?void 0:$e.response)==null?void 0:pe.status)||($e==null?void 0:$e.message)}`)}finally{I(!1)}})()},[]),U.useEffect(()=>{e==="users"?ye():e==="faqs"?A():e==="feedback"&&Ce()},[c,e,v]);const ne=async oe=>{try{await Ht.put(`/admin/users/${oe}/toggle`),l(o.map(pe=>pe.id===oe?{...pe,is_active:!pe.is_active}:pe)),zt.success("Cp nht trng thi user thnh cng")}catch{zt.error("Khng th cp nht trng thi user")}},de=async oe=>{try{await Ht.put(`/admin/users/${oe}/admin`),l(o.map(pe=>pe.id===oe?{...pe,is_admin:!pe.is_admin}:pe)),zt.success("Cp nht quyn admin thnh cng")}catch{zt.error("Khng th cp nht quyn admin")}},ge=[{id:"overview",name:"Tng quan",icon:fT},{id:"users",name:"Qun l User",icon:Yx},{id:"faqs",name:"Qun l FAQs",icon:O1},{id:"feedback",name:"Phn tch Phn hi",icon:KG},{id:"config",name:"Cu hnh",icon:sE},{id:"branding",name:"Thng hiu",icon:Kee}];return P?C.jsx("div",{className:"flex items-center justify-center h-screen",children:C.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0f0f0f] dark:border dark:border-gray-800",children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Admin Dashboard"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qun l h thng Chroma AI Chat"})]}),C.jsxs("div",{className:"bg-white rounded-lg shadow dark:bg-[#0f0f0f] dark:border dark:border-gray-800",children:[C.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:C.jsx("nav",{className:"flex space-x-8 px-6",children:ge.map(oe=>{const pe=oe.icon;return C.jsxs("button",{onClick:()=>n(oe.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${e===oe.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-700"}`,children:[C.jsx(pe,{className:"h-5 w-5"}),C.jsx("span",{children:oe.name})]},oe.id)})})}),C.jsxs("div",{className:"p-6",children:[e==="overview"&&u&&C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[C.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 rounded-lg p-6",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx(O1,{className:"h-8 w-8 text-blue-600"})}),C.jsxs("div",{className:"ml-4",children:[C.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Tng phin chat"}),C.jsx("p",{className:"text-2xl font-semibold text-blue-900 dark:text-blue-200",children:u.total_sessions})]})]})}),C.jsx("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-6",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx(Yx,{className:"h-8 w-8 text-green-600"})}),C.jsxs("div",{className:"ml-4",children:[C.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"User hot ng (hm nay)"}),C.jsx("p",{className:"text-2xl font-semibold text-green-900 dark:text-green-200",children:u.active_users_today})]})]})}),C.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950/30 rounded-lg p-6",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx(Yx,{className:"h-8 w-8 text-yellow-600"})}),C.jsxs("div",{className:"ml-4",children:[C.jsx("p",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"User hot ng (tun)"}),C.jsx("p",{className:"text-2xl font-semibold text-yellow-900 dark:text-yellow-200",children:u.active_users_week})]})]})}),C.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 rounded-lg p-6",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx(fT,{className:"h-8 w-8 text-indigo-600"})}),C.jsxs("div",{className:"ml-4",children:[C.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:"Tng tin nhn"}),C.jsx("p",{className:"text-2xl font-semibold text-indigo-900 dark:text-indigo-200",children:u.total_messages.toLocaleString()})]})]})}),C.jsx("div",{className:"bg-pink-50 dark:bg-pink-950/30 rounded-lg p-6",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx(sE,{className:"h-8 w-8 text-pink-600"})}),C.jsxs("div",{className:"ml-4",children:[C.jsx("p",{className:"text-sm font-medium text-pink-600 dark:text-pink-400",children:"Tng tokens"}),C.jsx("p",{className:"text-2xl font-semibold text-pink-900 dark:text-pink-200",children:u.total_tokens.toLocaleString()})]})]})}),C.jsx("div",{className:"bg-purple-50 dark:bg-purple-950/30 rounded-lg p-6",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx(sE,{className:"h-8 w-8 text-purple-600"})}),C.jsxs("div",{className:"ml-4",children:[C.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Thi gian phn hi TB"}),C.jsxs("p",{className:"text-2xl font-semibold text-purple-900 dark:text-purple-200",children:[u.avg_response_time.toFixed(2),"s"]})]})]})})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"bg-white rounded-lg p-6 border dark:bg-[#0f0f0f] dark:border-gray-800",children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng chat (7 ngy qua)"}),C.jsx("div",{className:"h-64",children:C.jsx(a4,{width:"100%",height:"100%",children:C.jsxs(zj,{data:R.map(oe=>({day:new Date(oe.date).toLocaleDateString("vi-VN",{weekday:"short"}),messages:oe.count})),children:[C.jsx(pP,{strokeDasharray:"3 3"}),C.jsx(gy,{dataKey:"day"}),C.jsx(yy,{allowDecimals:!1,domain:[0,100],ticks:[25,50,75,100]}),C.jsx(Ma,{contentStyle:{backgroundColor:typeof document<"u"&&document.documentElement.classList.contains("dark")?"#0f0f0f":"#ffffff",borderColor:typeof document<"u"&&document.documentElement.classList.contains("dark")?"#1f2937":"#e5e7eb",color:typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#111827"}}),C.jsx(Ud,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",strokeWidth:2})]})})})]}),C.jsxs("div",{className:"bg-white rounded-lg p-6 border dark:bg-[#0f0f0f] dark:border-gray-800",children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lng Token S Dng (7 ngy qua)"}),C.jsx("div",{className:"h-64",children:C.jsx(a4,{width:"100%",height:"100%",children:C.jsxs(zj,{data:k.map(oe=>({day:new Date(oe.date).toLocaleDateString("vi-VN",{weekday:"short"}),tokens:oe.tokens})),children:[C.jsx(pP,{strokeDasharray:"3 3"}),C.jsx(gy,{dataKey:"day"}),C.jsx(yy,{}),C.jsx(Ma,{contentStyle:{backgroundColor:typeof document<"u"&&document.documentElement.classList.contains("dark")?"#0f0f0f":"#ffffff",borderColor:typeof document<"u"&&document.documentElement.classList.contains("dark")?"#1f2937":"#e5e7eb",color:typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#111827"}}),C.jsx(Ud,{type:"monotone",dataKey:"tokens",stroke:"#8884d8",strokeWidth:2})]})})})]}),C.jsxs("div",{className:"bg-white rounded-lg p-6 border dark:bg-[#0f0f0f] dark:border-gray-800 lg:col-span-2",children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cu hi thng gp nht"}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[C.jsx("thead",{className:"bg-gray-50 dark:bg-[#0f0f0f]",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Cu hi"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300 w-24",children:"S ln hi"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-[#0b0b0b] dark:divide-gray-800",children:H.map((oe,pe)=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-900 dark:text-gray-100",children:oe.question}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 text-center",children:oe.count})]},pe))})]})})]})]})]}),e==="users"&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Danh sch User"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("select",{value:v.role,onChange:oe=>{y(pe=>({...pe,role:oe.target.value})),h(1)},className:"input-field text-sm py-1",children:[C.jsx("option",{value:"all",children:"Mi vai tr"}),C.jsx("option",{value:"admin",children:"Admin"}),C.jsx("option",{value:"user",children:"User"})]}),C.jsxs("select",{value:v.status,onChange:oe=>{y(pe=>({...pe,status:oe.target.value})),h(1)},className:"input-field text-sm py-1",children:[C.jsx("option",{value:"all",children:"Mi trng thi"}),C.jsx("option",{value:"active",children:"Hot ng"}),C.jsx("option",{value:"inactive",children:"B kha"})]}),C.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Tng: ",d]})]})]}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[C.jsx("thead",{className:"bg-gray-50 dark:bg-[#0f0f0f]",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"User"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Email"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Chat count"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Trng thi"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Quyn"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300",children:"Hnh ng"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-[#0b0b0b] dark:divide-gray-800",children:o.map(oe=>C.jsxs("tr",{children:[C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:oe.full_name}),C.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",oe.username]})]})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:oe.email}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:oe.chat_count}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${oe.is_active?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300"}`,children:oe.is_active?"Hot ng":"B kha"})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${oe.is_admin?"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:oe.is_admin?C.jsxs(C.Fragment,{children:[oe.username==="admin"&&C.jsx(Iee,{className:"w-4 h-4 mr-1"}),"Admin"]}):"User"})}),C.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-4",children:[C.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:oe.is_active,onChange:()=>ne(oe.id),className:"sr-only peer",disabled:oe.username==="admin"}),C.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"}),C.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300 sr-only",children:"User Status"})]}),C.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:oe.is_admin,onChange:()=>de(oe.id),className:"sr-only peer",disabled:oe.username==="admin"}),C.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"}),C.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300 sr-only",children:"Admin Status"})]})]})]},oe.id))})]})}),C.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-800",children:[C.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Hin th ",(c-1)*x+1," - ",Math.min(c*x,d)," trn ",d]}),C.jsxs("div",{className:"space-x-2",children:[C.jsx("button",{onClick:()=>h(oe=>oe-1),disabled:c===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Trang trc"}),C.jsx("button",{onClick:()=>h(oe=>oe+1),disabled:c*x>=d,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Trang sau"})]})]})]}),e==="faqs"&&C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0f0f0f] dark:border dark:border-gray-800",children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:" xut cu hi mi"}),w.length>0?C.jsx("ul",{className:"space-y-3",children:w.map(oe=>C.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:oe.question}),C.jsxs("p",{className:"text-xs text-gray-500",children:["S ln hi: ",oe.source_count]})]}),C.jsxs("div",{className:"space-x-2",children:[C.jsx("button",{onClick:()=>Me(oe.id),className:"btn-secondary text-xs px-2 py-1",children:"T chi"}),C.jsx("button",{onClick:()=>Re(oe),className:"btn-primary text-xs px-2 py-1",children:"Chp nhn & Son tho"})]})]},oe.id))}):C.jsx("p",{className:"text-sm text-gray-500",children:"Khng c  xut no."})]}),C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0f0f0f] dark:border dark:border-gray-800",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Danh sch FAQs hin ti"}),C.jsx("button",{className:"btn-primary",onClick:()=>_e(null),children:"Thm FAQ mi"})]}),_.length>0?C.jsx("ul",{className:"space-y-3",children:_.map(oe=>C.jsx("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md",children:C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:oe.question}),C.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:oe.answer}),C.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Danh mc: ",oe.category]})]}),C.jsxs("div",{className:"space-x-2 flex-shrink-0 ml-4",children:[C.jsx("button",{className:"btn-secondary text-xs px-2 py-1",onClick:()=>_e(oe),children:"Sa"}),C.jsx("button",{className:"btn-danger text-xs px-2 py-1",onClick:()=>Je(oe.id),children:"Xa"})]})]})},oe.id))}):C.jsx("p",{className:"text-sm text-gray-500",children:"Cha c FAQ no."})]})]}),e==="config"&&C.jsxs("div",{className:"space-y-6",children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Cu hnh AI"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"M hnh AI"}),C.jsxs("select",{className:"input-field",value:Ee.chat_model,onChange:oe=>Ye(pe=>({...pe,chat_model:oe.target.value})),children:[C.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),C.jsx("option",{value:"gpt-4",children:"GPT-4"}),C.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),C.jsx("option",{value:"gpt-4o-mini",children:"gpt-4o-mini"})]})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Embedding Model"}),C.jsxs("select",{className:"input-field",value:Ee.embed_model,onChange:oe=>Ye(pe=>({...pe,embed_model:oe.target.value})),children:[C.jsx("option",{value:"text-embedding-3-small",children:"text-embedding-3-small"}),C.jsx("option",{value:"text-embedding-3-large",children:"text-embedding-3-large"})]})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Ngng Similarity"}),C.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Ee.similarity_threshold,onChange:oe=>Ye(pe=>({...pe,similarity_threshold:parseFloat(oe.target.value)})),className:"w-full"}),C.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[C.jsx("span",{children:"0.0"}),C.jsx("span",{children:Ee.similarity_threshold.toFixed(2)}),C.jsx("span",{children:"1.0"})]})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Max Tokens"}),C.jsx("input",{type:"number",value:Ee.max_tokens,onChange:oe=>Ye(pe=>({...pe,max_tokens:parseInt(oe.target.value||"0")})),className:"input-field",min:"100",max:"128000"})]})]}),C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{className:"btn-primary",onClick:Qe,children:"Lu cu hnh"})})]}),e==="branding"&&C.jsxs("div",{className:"space-y-6",children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Cu hnh Thng hiu"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Tn thng hiu"}),C.jsx("input",{type:"text",value:wt.brand_name,onChange:oe=>bt(pe=>({...pe,brand_name:oe.target.value})),className:"input-field",placeholder:"e.g., Chroma AI Chat"})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Mu ch "}),C.jsx("input",{type:"color",value:wt.primary_color,onChange:oe=>{const pe=oe.target.value;bt($e=>({...$e,primary_color:pe})),document.documentElement.style.setProperty("--brand-title-color",pe)},className:"w-full h-10 p-1 border border-gray-300 rounded-lg"})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 col-span-1 md:col-span-2",children:[C.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Logo"}),C.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/svg+xml",onChange:oe=>oe.target.files&&$("logo",oe.target.files[0]),className:"mb-2"}),wt.brand_logo_url&&C.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[C.jsx("img",{src:wt.brand_logo_url,alt:wt.brand_name||"Logo Preview",className:"max-h-12 border p-1 rounded"}),C.jsx("button",{onClick:()=>bt(oe=>({...oe,brand_logo_url:""})),className:"text-red-500 hover:text-red-700 text-sm",children:"Xa"})]}),C.jsxs("div",{className:"mt-4",children:[C.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Chiu cao Logo: ",wt.brand_logo_height]}),C.jsx("input",{type:"range",min:"20",max:"80",step:"1",value:parseInt(wt.brand_logo_height)||32,onChange:oe=>bt(pe=>({...pe,brand_logo_height:`${oe.target.value}px`})),className:"w-full mt-1"})]})]})]}),C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{className:"btn-primary",onClick:Y,children:"Lu cu hnh Thng hiu"})})]}),e==="feedback"&&C.jsx("div",{className:"space-y-6",children:C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0f0f0f] dark:border dark:border-gray-800",children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Phn hi tiu cc t ngi dng"}),s.length>0?C.jsx("ul",{className:"space-y-4",children:s.map(oe=>C.jsx("li",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-md border dark:border-gray-700",children:C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(oe.timestamp).toLocaleString("vi-VN")}),C.jsxs("p",{className:"mt-2 font-medium text-gray-800 dark:text-gray-200",children:[C.jsx("span",{className:"font-bold",children:"Hi:"})," ",oe.user_question]}),C.jsxs("p",{className:"mt-1 text-sm text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded-md",children:[C.jsx("span",{className:"font-bold",children:"p (B nh gi thp):"})," ",oe.assistant_response]})]}),C.jsx("a",{href:`/dashboard?sid=${oe.session_id}`,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary text-xs px-2 py-1 ml-4 flex-shrink-0",children:"Xem chi tit"})]})},oe.feedback_id))}):C.jsx("p",{className:"text-sm text-gray-500",children:"Khng c phn hi tiu cc no."})]})})]})]}),V&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:C.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full max-w-2xl mx-4",children:C.jsxs("form",{onSubmit:Le,children:[C.jsx("div",{className:"p-6 border-b dark:border-zinc-800",children:C.jsx("h3",{className:"text-lg font-semibold",children:Z?"Chnh sa FAQ":"Thm FAQ mi"})}),C.jsxs("div",{className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"question",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cu hi"}),C.jsx("input",{type:"text",id:"question",name:"question",value:W.question,onChange:we,className:"input-field mt-1",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cu tr li"}),C.jsx("textarea",{id:"answer",name:"answer",value:W.answer,onChange:we,rows:4,className:"input-field mt-1",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Danh mc"}),C.jsx("input",{type:"text",id:"category",name:"category",value:W.category,onChange:we,className:"input-field mt-1",required:!0})]})]}),C.jsxs("div",{className:"p-6 flex justify-end gap-3 bg-gray-50 dark:bg-zinc-800/50 rounded-b-lg",children:[C.jsx("button",{type:"button",onClick:Ge,className:"btn-secondary",children:"Hy"}),C.jsx("button",{type:"submit",className:"btn-primary",children:Z?"Lu thay i":"Thm FAQ"})]})]})})}),q&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:C.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full max-w-md mx-4",children:[C.jsxs("div",{className:"p-6",children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Xc nhn xa"}),C.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Bn c chc chn mun xa FAQ ny khng? Hnh ng ny khng th hon tc."})]}),C.jsxs("div",{className:"p-4 flex justify-end gap-3 bg-gray-50 dark:bg-zinc-800/50 rounded-b-lg",children:[C.jsx("button",{type:"button",onClick:Pe,className:"btn-secondary",children:"Hy"}),C.jsx("button",{type:"button",onClick:Q,className:"btn-danger",children:"Xa"})]})]})})]})},jj=t=>{if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(2))+" "+n[r]},aHe=()=>{const[t,e]=U.useState([]),[n,r]=U.useState([]),[i,s]=U.useState(!1),[a,o]=U.useState(!1),[l,u]=U.useState(!1),[f,c]=U.useState([]),h=U.useRef(null),d=U.useRef(null),[m,x]=U.useState(1),[v,y]=U.useState(0),_=10,[b,w]=U.useState(!1),[E,A]=U.useState([]),[P,I]=U.useState(!1),[R,M]=U.useState({}),[k,B]=U.useState(""),H=U.useMemo(()=>{if(!k.trim())return t;const q=k.toLowerCase();return t.filter(te=>te.filename.toLowerCase().includes(q)||te.uploaded_by.toLowerCase().includes(q))},[t,k]),j=async()=>{var q,te;s(!0);try{const[G,Ie]=await Promise.all([Ht.get(`/files/documents?page=${m}&limit=${_}`),Ht.get("/admin/excel-files")]);e(G.data.documents??[]),y(G.data.total??0),r(Array.isArray(Ie.data)?Ie.data:Ie.data??[])}catch(G){zt.error(((te=(q=G.response)==null?void 0:q.data)==null?void 0:te.detail)||"Khng th ti danh sch d liu"),e([]),r([])}finally{s(!1)}};U.useEffect(()=>{j()},[m]);const V=async q=>{const G=Math.ceil(q.size/5242880),Ie=`${Date.now()}_${q.name}`;for(let ae=0;ae<G;ae++){const _e=ae*5242880,Ge=Math.min(_e+5242880,q.size),we=q.slice(_e,Ge),Le=new FormData;Le.append("file",we,q.name),Le.append("upload_id",Ie),Le.append("index",String(ae)),Le.append("total",String(G)),Le.append("filename",q.name),await Ht.post("/files/upload-chunk",Le,{headers:{"Content-Type":"multipart/form-data"}});const Je=Math.round((ae+1)/G*100);M(Pe=>({...Pe,[q.name]:{...Pe[q.name],progress:Je,status:"uploading"}}))}M(ae=>({...ae,[q.name]:{...ae[q.name],status:"processing",progress:100}}));const Oe=new FormData;Oe.append("upload_id",Ie),Oe.append("filename",q.name),Oe.append("total",String(G)),await Ht.post("/files/upload-chunk/finish",Oe,{headers:{"Content-Type":"multipart/form-data"}})},X=async q=>{if(!q||q.length===0)return;o(!0);const te=Array.from(q),G=te.reduce((Oe,ae)=>(Oe[ae.name]={progress:0,status:"uploading",error:void 0},Oe),{});M(Oe=>({...Oe,...G}));const Ie=te.map(async Oe=>{var ae,_e;try{if(Oe.size>15*1024*1024)await V(Oe);else{const Ge=new FormData;Ge.append("file",Oe),await Ht.post("/files/upload",Ge,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:we=>{const Le=Math.round(we.loaded*100/(we.total||Oe.size));M(Je=>({...Je,[Oe.name]:{...Je[Oe.name],progress:Le,status:"uploading"}}))}}),M(we=>({...we,[Oe.name]:{...we[Oe.name],status:"processing",progress:100}}))}M(Ge=>({...Ge,[Oe.name]:{...Ge[Oe.name],status:"success"}}))}catch(Ge){const we=((_e=(ae=Ge.response)==null?void 0:ae.data)==null?void 0:_e.detail)||"Upload tht bi";zt.error(`${Oe.name}: ${we}`),M(Le=>({...Le,[Oe.name]:{...Le[Oe.name],status:"error",error:we}}))}});await Promise.all(Ie),await j(),o(!1),zt.success("Hon tt qu trnh upload."),setTimeout(()=>{M(Oe=>{const ae={...Oe};return Object.keys(ae).forEach(_e=>{(ae[_e].status==="success"||ae[_e].status==="error")&&delete ae[_e]}),ae})},5e3)},Z=async q=>{var te,G,Ie;if(q){u(!0);try{const Oe=new FormData;Oe.append("file",q);const ae=await Ht.post("/admin/upload-excel",Oe,{headers:{"Content-Type":"multipart/form-data"}});zt.success(` x l Excel: ${(te=ae.data)==null?void 0:te.filename}`),await j()}catch(Oe){zt.error(((Ie=(G=Oe==null?void 0:Oe.response)==null?void 0:G.data)==null?void 0:Ie.detail)||"Upload Excel tht bi")}finally{u(!1)}}},L=q=>{q.preventDefault(),q.stopPropagation(),X(q.dataTransfer.files)},W=q=>{A(q),w(!0)},N=async()=>{var q,te;I(!0);try{await Ht.post("/files/documents/batch-delete",{ids:E}),zt.success(` xa ${E.length} ti liu`),e(G=>G.filter(Ie=>!E.includes(Ie.id))),c([])}catch(G){zt.error(((te=(q=G.response)==null?void 0:q.data)==null?void 0:te.detail)||"Li khi xa ti liu")}finally{I(!1),w(!1),A([])}};return i?C.jsx("div",{className:"flex items-center justify-center h-64",children:C.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0d0d0d] dark:border-gray-800",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Qun l d liu"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Upload ti liu (PDF/DOC/DOCX/TXT/IMG)  lp ch mc v hi p"})]}),C.jsxs("button",{onClick:j,className:"btn-secondary inline-flex items-center gap-2",children:[C.jsx(TR,{className:"h-4 w-4"})," Lm mi"]})]}),C.jsx("div",{className:"mt-6 rounded-2xl border-2 border-dashed border-gray-300 bg-gray-50 p-8 text-center hover:border-primary-400 dark:bg-[#0f0f0f] dark:border-gray-700",onDragOver:q=>{q.preventDefault(),q.stopPropagation()},onDrop:L,children:C.jsxs("div",{className:"flex flex-col items-center gap-3",children:[C.jsx(qG,{className:"h-10 w-10 text-primary-600"}),C.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Ko th tp vo y hoc"}),C.jsxs("div",{children:[C.jsx("button",{onClick:()=>{var q;return(q=h.current)==null?void 0:q.click()},className:"btn-primary",disabled:a,children:a?"ang ti...":"Chn tp"}),C.jsx("input",{ref:h,type:"file",className:"hidden",multiple:!0,accept:".pdf,.txt,.doc,.docx,.png,.jpg,.jpeg",onChange:q=>X(q.target.files)})]}),C.jsx("p",{className:"text-xs text-gray-500",children:"H tr: PDF, DOC, DOCX, TXT, PNG, JPG"})]})}),Object.keys(R).length>0&&C.jsx("div",{className:"mt-4 space-y-3 pt-4 border-t dark:border-gray-700",children:Object.entries(R).map(([q,{progress:te,status:G,error:Ie}])=>C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[C.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200 truncate pr-4",title:q,children:q}),C.jsxs("span",{className:`font-semibold ${G==="success"?"text-green-600":G==="error"?"text-red-600":"text-gray-500"}`,children:[G==="uploading"&&`${te}%`,G==="processing"&&"ang x l...",G==="success"&&"Thnh cng",G==="error"&&"Li"]})]}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:C.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${G==="success"?"bg-green-500":G==="error"?"bg-red-500":"bg-primary-600"}`,style:{width:`${te}%`}})}),G==="error"&&C.jsx("p",{className:"text-xs text-red-600 mt-1",children:Ie})]},q))})]}),C.jsx("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0d0d0d] dark:border-gray-800",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Lee,{className:"h-6 w-6 text-green-600"}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Upload Excel/CSV"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"H thng s lm sch, chun ha v lp ch mc  c th hi p bng ngn ng t nhin"})]})]}),C.jsxs("div",{children:[C.jsx("button",{onClick:()=>{var q;return(q=d.current)==null?void 0:q.click()},className:"btn-primary",disabled:l,children:l?"ang x l...":"Chn Excel/CSV"}),C.jsx("input",{ref:d,type:"file",className:"hidden",accept:".xlsx,.xls,.csv",onChange:q=>{var te;return Z(((te=q.target.files)==null?void 0:te[0])||null)}})]})]})}),C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0d0d0d] dark:border-gray-800",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h2",{className:"text-lg font-semibold dark:text-gray-100",children:"Ti liu  ti ln"}),f.length>0?C.jsxs("button",{onClick:()=>W(f),className:"btn-danger inline-flex items-center gap-2",children:[C.jsx(Fm,{className:"h-4 w-4"})," Xa (",f.length,") mc  chn"]}):i&&C.jsx("span",{className:"text-sm text-gray-500",children:"ang ti..."})]}),C.jsx("div",{className:"mb-4",children:C.jsx("input",{type:"text",placeholder:"Tm kim theo tn tp hoc ngi upload...",className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-zinc-800 dark:border-zinc-700",value:k,onChange:q=>B(q.target.value)})}),H.length===0&&!i?C.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:k?"Khng tm thy ti liu ph hp.":"Cha c ti liu no."}):C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full text-sm",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-400 border-b dark:border-gray-700",children:[C.jsx("th",{className:"py-2 px-2 w-12 text-center",children:C.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50",checked:H.length>0&&f.length===H.length,onChange:q=>c(q.target.checked?H.map(te=>te.id):[])})}),C.jsx("th",{className:"py-2 pr-4",children:"Tn tp"}),C.jsx("th",{className:"py-2 pr-4",children:"Loi"}),C.jsx("th",{className:"py-2 pr-4",children:"Dung lng"}),C.jsx("th",{className:"py-2 pr-4",children:"Ngi upload"}),C.jsx("th",{className:"py-2 pr-4",children:"Thi gian"}),C.jsx("th",{className:"py-2 pr-4 text-right",children:"Thao tc"})]})}),C.jsx("tbody",{children:H.map(q=>C.jsxs("tr",{className:"border-b last:border-0 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-900/50",children:[C.jsx("td",{className:"py-3 px-2 w-12 text-center",children:C.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50",checked:f.includes(q.id),onChange:te=>{c(te.target.checked?[...f,q.id]:f.filter(G=>G!==q.id))}})}),C.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900 dark:text-gray-100",children:q.filename}),C.jsx("td",{className:"py-3 pr-4 uppercase dark:text-gray-300",children:q.file_type}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:jj(q.file_size)}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:q.uploaded_by}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:new Date(q.uploaded_at).toLocaleString("vi-VN")}),C.jsx("td",{className:"py-3 pr-4",children:C.jsx("div",{className:"flex items-center justify-end gap-2",children:C.jsxs("button",{onClick:()=>W([q.id]),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-700 px-2 py-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20",children:[C.jsx(Fm,{className:"h-4 w-4"})," Xa"]})})})]},q.id))})]})}),v>_&&C.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-800",children:[C.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Hin th ",(m-1)*_+1," - ",Math.min(m*_,v)," trn ",v]}),C.jsxs("div",{className:"space-x-2",children:[C.jsx("button",{onClick:()=>x(q=>q-1),disabled:m===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Trang trc"}),C.jsx("button",{onClick:()=>x(q=>q+1),disabled:m*_>=v,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Trang sau"})]})]})]}),C.jsxs("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-[#0d0d0d] dark:border-gray-800",children:[C.jsx("div",{className:"flex items-center justify-between mb-4",children:C.jsx("h2",{className:"text-lg font-semibold dark:text-gray-100",children:"B d liu Excel"})}),n.length===0?C.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Cha c d liu Excel no."}):C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full text-sm",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-400 border-b dark:border-gray-700",children:[C.jsx("th",{className:"py-2 pr-4",children:"Tn tp"}),C.jsx("th",{className:"py-2 pr-4",children:"Sheets"}),C.jsx("th",{className:"py-2 pr-4",children:"S dng"}),C.jsx("th",{className:"py-2 pr-4",children:"Dung lng"}),C.jsx("th",{className:"py-2 pr-4",children:"Thi gian"}),C.jsx("th",{className:"py-2 pr-4",children:"Collection"}),C.jsx("th",{className:"py-2 pr-4 text-right",children:"Thao tc"})]})}),C.jsx("tbody",{children:n.map(q=>C.jsxs("tr",{className:"border-b last:border-0 dark:border-gray-700",children:[C.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900 dark:text-gray-100",children:q.filename}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:q.sheet_names.join(", ")}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:q.rows_processed}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:jj(q.file_size)}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:new Date(q.uploaded_at).toLocaleString("vi-VN")}),C.jsx("td",{className:"py-3 pr-4 dark:text-gray-300",children:q.collection_name}),C.jsx("td",{className:"py-3 pr-4",children:C.jsx("div",{className:"flex items-center justify-end gap-2",children:C.jsxs("button",{onClick:async()=>{confirm("Xa d liu Excel ny?")&&(await Ht.delete(`/admin/excel-files/${q.id}`),zt.success(" xa"),await j())},className:"inline-flex items-center gap-1 text-red-600 hover:text-red-700 px-2 py-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20",children:[C.jsx(Fm,{className:"h-4 w-4"})," Xa"]})})})]},q.id))})]})})]})]}),b&&C.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[C.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>!P&&w(!1)}),C.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[C.jsx("button",{className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>!P&&w(!1),children:C.jsx(sd,{className:"h-4 w-4"})}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:C.jsx(PR,{className:"h-5 w-5"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Xa ti liu?"}),C.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa ",E.length," ti liu  chn? Hnh ng ny khng th hon tc."]})]})]}),C.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[C.jsx("button",{onClick:()=>w(!1),disabled:P,className:"px-4 py-2 rounded border bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Hy"}),C.jsx("button",{onClick:N,disabled:P,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:P?"ang xa...":"Xa"})]})]})]})]})},oHe=()=>C.jsx(AS,{initialTab:"users"}),lHe=()=>C.jsx(AS,{initialTab:"branding"}),uHe=()=>C.jsx(AS,{initialTab:"config"}),cHe=15,mX=Uve((t,e)=>({sessions:[],sessionPage:1,sessionTotal:0,setSessionPage:n=>{t({sessionPage:n})},fetchSessions:async()=>{var r,i;const{sessionPage:n}=e();try{const s=await Ht.get(`/chat/sessions?page=${n}&limit=${cHe}`);t({sessions:s.data.sessions||[],sessionTotal:s.data.total||0})}catch(s){zt.error(((i=(r=s==null?void 0:s.response)==null?void 0:r.data)==null?void 0:i.detail)||"Khng th ti lch s chat"),t({sessions:[],sessionTotal:0})}},deleteSession:async n=>{var r,i;try{await Ht.delete(`/chat/sessions/${n}`),zt.success(" xa phin chat");const{sessions:s,sessionPage:a}=e();s.length===1&&a>1&&t({sessionPage:a-1}),e().fetchSessions()}catch(s){zt.error(((i=(r=s==null?void 0:s.response)==null?void 0:r.data)==null?void 0:i.detail)||"Khng th xa phin chat")}}})),fHe=t=>{const[e,n]=U.useState([]),[r,i]=U.useState(!1);return U.useEffect(()=>{if(!t){n([]);return}(async()=>{var a,o;i(!0);try{const l=await Ht.get(`/chat/sessions/${t}/messages`);n(l.data||[])}catch(l){zt.error(((o=(a=l==null?void 0:l.response)==null?void 0:a.data)==null?void 0:o.detail)||"Khng th ti tin nhn"),n([])}finally{i(!1)}})()},[t]),{messages:e,loading:r}},hHe=()=>{const{sessions:t,fetchSessions:e,deleteSession:n,sessionPage:r,setSessionPage:i,sessionTotal:s}=mX(),a=15,[o,l]=U.useState(null),{messages:u,loading:f}=fHe((o==null?void 0:o.id)??null),[c,h]=U.useState(!0),[d,m]=U.useState(!1),[x,v]=U.useState(null),[y,_]=U.useState(!1),b=M=>{v(M),m(!0)},w=()=>{y||(m(!1),v(null))},E=async()=>{if(x)try{_(!0),await n(x)}finally{_(!1),m(!1),v(null)}},A=async()=>{h(!0),await e(),h(!1)};U.useEffect(()=>{A()},[r]),U.useEffect(()=>{t.length>0&&!t.find(M=>M.id===(o==null?void 0:o.id))&&l(t[0]),o&&!t.find(M=>M.id===o.id)&&l(null)},[t]);const[P,I]=U.useState(""),R=U.useMemo(()=>{if(!P.trim())return t;const M=P.toLowerCase();return t.filter(k=>(k.title||"Phin chat").toLowerCase().includes(M))},[t,P]);return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-zinc-900 rounded-xl shadow p-4",children:[C.jsxs("div",{className:"flex items-center justify-between mb-3",children:[C.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[C.jsx(O1,{className:"h-5 w-5 text-primary-600"})," Lch s chat"]}),C.jsxs("button",{onClick:A,title:"Lm mi",className:"inline-flex items-center gap-1 text-sm text-primary-700 px-2 py-1 rounded hover:bg-primary-50 dark:hover:bg-zinc-800",children:[C.jsx(TR,{className:"h-4 w-4"})," Lm mi"]})]}),C.jsx("div",{className:"mb-3",children:C.jsx("input",{placeholder:"Tm kim phin...",className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-zinc-800 dark:border-zinc-700",value:P,onChange:M=>I(M.target.value)})}),c?C.jsx("div",{className:"h-40 flex items-center justify-center text-gray-500",children:"ang ti..."}):R.length===0?C.jsx("div",{className:"text-gray-500 text-sm",children:"Khng tm thy phin ph hp"}):C.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-zinc-800 max-h-[calc(100vh-240px)] overflow-y-auto pr-1",style:{scrollbarGutter:"stable"},children:R.map(M=>C.jsx("li",{className:`py-3 ${(o==null?void 0:o.id)===M.id?"bg-primary-50 dark:bg-primary-500/10 rounded-md":""}`,children:C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>l(M),children:[C.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100 truncate",title:M.title,children:M.title||"Phin chat"}),C.jsxs("div",{className:"text-xs text-gray-500",children:["Cp nht: ",new Date(M.updated_at).toLocaleString()]})]}),C.jsxs("button",{onClick:()=>b(M.id),title:"Xa phin",className:"inline-flex items-center gap-1 text-red-600 hover:text-white border border-red-200 hover:bg-red-500 px-2 py-1 rounded transition-colors",children:[C.jsx(Fm,{className:"h-4 w-4"}),C.jsx("span",{className:"text-xs",children:"Xa"})]})]})},M.id))}),s>a&&C.jsxs("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-gray-100 dark:border-zinc-800",children:[C.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Trang ",r]}),C.jsxs("div",{className:"space-x-2",children:[C.jsx("button",{onClick:()=>i(r-1),disabled:r===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed text-xs px-2 py-1",children:"Trc"}),C.jsx("button",{onClick:()=>i(r+1),disabled:r*a>=s,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed text-xs px-2 py-1",children:"Sau"})]})]})]}),C.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-zinc-900 rounded-xl shadow p-4",children:[C.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Ni dung"}),o?f?C.jsx("div",{className:"h-40 flex items-center justify-center text-gray-500",children:"ang ti tin nhn..."}):u.length===0?C.jsx("div",{className:"text-gray-500 text-sm",children:"Khng c tin nhn"}):C.jsx("div",{className:"space-y-4 max-h-[calc(100vh-240px)] overflow-y-auto pr-1",style:{scrollbarGutter:"stable"},children:u.map(M=>C.jsxs("div",{className:"space-y-2",children:[M.message&&C.jsx("div",{className:"flex justify-end",children:C.jsx("div",{className:"max-w-[80%] bg-primary-600 text-white px-4 py-2 rounded-2xl shadow prose prose-invert prose-sm",children:C.jsx(TT,{remarkPlugins:[RT],children:M.message})})}),M.response&&C.jsx("div",{className:"flex justify-start",children:C.jsx("div",{className:"max-w-[80%] bg-gray-100 text-gray-800 px-4 py-2 rounded-2xl shadow dark:bg-zinc-800 dark:text-gray-100 prose prose-sm dark:prose-invert",children:C.jsx(TT,{remarkPlugins:[RT],children:M.response})})})]},M.id))}):C.jsx("div",{className:"h-40 flex items-center justify-center text-gray-500",children:"Chn mt phin chat  xem"})]})]}),d&&C.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[C.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:w}),C.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[C.jsx("button",{className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:w,children:C.jsx(sd,{className:"h-4 w-4"})}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:C.jsx(PR,{className:"h-5 w-5"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Xa phin chat?"}),C.jsx("p",{className:"text-sm text-gray-600",children:"Hnh ng ny s xa ton b tin nhn trong phin  chn v khng th hon tc."})]})]}),C.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[C.jsx("button",{onClick:w,disabled:y,className:"px-4 py-2 rounded border bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Hy"}),C.jsx("button",{onClick:E,disabled:y,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:y?"ang xa...":"Xa"})]})]})]})]})},dHe=()=>{const{user:t}=Ry(),[e,n]=U.useState([]),[r,i]=U.useState(!1),[s,a]=U.useState(""),o=U.useRef(null),l=async()=>{var h,d,m;try{const x=await Ht.get("/files/documents");n(x.data||[])}catch(x){((h=x==null?void 0:x.response)==null?void 0:h.status)===403?zt.error("Ch Admin mi c quyn truy cp trang Ti ln"):zt.error(((m=(d=x==null?void 0:x.response)==null?void 0:d.data)==null?void 0:m.detail)||"Khng th ti danh sch ti liu")}};U.useEffect(()=>{l()},[]);const u=async h=>{var m,x;if(!h||h.length===0)return;i(!0);let d=0;for(const v of Array.from(h)){const y=new FormData;y.append("file",v);try{await Ht.post("/files/upload",y,{headers:{"Content-Type":"multipart/form-data"}}),d+=1}catch(_){zt.error(`${v.name}: ${((x=(m=_==null?void 0:_.response)==null?void 0:m.data)==null?void 0:x.detail)||"Upload tht bi"}`)}}d>0&&zt.success(`Ti ln thnh cng ${d} tp`),await l(),i(!1)},f=h=>{h.preventDefault(),h.stopPropagation(),u(h.dataTransfer.files)},c=U.useMemo(()=>{if(!s.trim())return e;const h=s.toLowerCase();return e.filter(d=>d.filename.toLowerCase().includes(h))},[e,s]);return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow p-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h2",{className:"text-lg font-semibold",children:"Ti ln ti liu"}),C.jsxs("button",{onClick:l,className:"inline-flex items-center gap-1 text-sm text-primary-700 hover:underline",children:[C.jsx(TR,{className:"h-4 w-4"})," Lm mi"]})]}),t!=null&&t.is_admin?C.jsx("div",{className:"mt-4 border-2 border-dashed rounded-2xl p-10 text-center hover:bg-gray-50 dark:hover:bg-zinc-800",onDragOver:h=>{h.preventDefault(),h.stopPropagation()},onDrop:f,children:C.jsxs("div",{className:"flex flex-col items-center gap-3",children:[C.jsx(qG,{className:"h-10 w-10 text-primary-600"}),C.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Ko th tp vo y hoc"}),C.jsxs("div",{children:[C.jsx("button",{onClick:()=>{var h;return(h=o.current)==null?void 0:h.click()},className:"px-4 py-2 rounded-lg bg-primary-600 text-white",disabled:r,children:r?"ang ti...":"Chn tp"}),C.jsx("input",{ref:o,id:"fileInput",type:"file",className:"hidden",multiple:!0,accept:".pdf,.txt",onChange:h=>u(h.target.files)})]}),C.jsx("p",{className:"text-xs text-gray-500",children:"H tr: PDF, TXT (ch Admin)"})]})}):C.jsx("div",{className:"mt-6 text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded-lg p-4",children:"Tnh nng ti ln ch dnh cho Admin. Vui lng lin h qun tr  cp quyn."})]}),C.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h2",{className:"text-lg font-semibold",children:"Danh sch ti liu"}),C.jsxs("div",{className:"relative",children:[C.jsx(tte,{className:"h-4 w-4 absolute left-2 top-2.5 text-gray-400"}),C.jsx("input",{value:s,onChange:h=>a(h.target.value),placeholder:"Tm theo tn tp...",className:"pl-8 pr-3 py-2 rounded-lg border text-sm dark:bg-zinc-800 dark:border-zinc-700"})]})]}),c.length===0?C.jsx("div",{className:"text-gray-500 text-sm",children:"Cha c ti liu"}):C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full text-sm",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"text-left text-gray-500",children:[C.jsx("th",{className:"py-2 pr-4",children:"Tn tp"}),C.jsx("th",{className:"py-2 pr-4",children:"Loi"}),C.jsx("th",{className:"py-2 pr-4",children:"Ngi ti ln"}),C.jsx("th",{className:"py-2 pr-4",children:"Thi gian"}),C.jsx("th",{className:"py-2 pr-4",children:"Kch thc"})]})}),C.jsx("tbody",{children:c.map(h=>C.jsxs("tr",{className:"border-t",children:[C.jsxs("td",{className:"py-2 pr-4 flex items-center gap-2",children:[C.jsx(pT,{className:"h-4 w-4"})," ",h.filename]}),C.jsx("td",{className:"py-2 pr-4",children:h.file_type.toUpperCase()}),C.jsx("td",{className:"py-2 pr-4",children:h.uploaded_by}),C.jsx("td",{className:"py-2 pr-4",children:new Date(h.uploaded_at).toLocaleString()}),C.jsxs("td",{className:"py-2 pr-4",children:[(h.file_size/1024).toFixed(1)," KB"]})]},h.id))})]})})]})]})},pHe=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(""),[i,s]=U.useState(""),[a,o]=U.useState(""),[l,u]=U.useState(""),[f,c]=U.useState(!1),h=U.useMemo(()=>(i||(t==null?void 0:t.username)||"").split(" ").filter(Boolean).slice(0,2).map(v=>{var y;return(y=v[0])==null?void 0:y.toUpperCase()}).join("")||"U",[i,t==null?void 0:t.username]),d=async()=>{var x,v;try{const y=await Ht.get("/users/profile");e(y.data),r(y.data.email||""),s(y.data.full_name||"")}catch(y){zt.error(((v=(x=y==null?void 0:y.response)==null?void 0:x.data)==null?void 0:v.detail)||"Khng th ti h s")}};U.useEffect(()=>{d()},[]);const m=async()=>{var x,v;c(!0);try{const y={email:n,full_name:i};l&&(y.current_password=a,y.new_password=l),await Ht.put("/users/profile",y),zt.success("Cp nht h s thnh cng"),l&&(o(""),u("")),await d()}catch(y){zt.error(((v=(x=y==null?void 0:y.response)==null?void 0:x.data)==null?void 0:v.detail)||"Cp nht tht bi")}finally{c(!1)}};return t?C.jsxs("div",{className:"w-full space-y-6",children:[C.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow p-6 flex items-start gap-4",children:[C.jsx("div",{className:"h-14 w-14 shrink-0 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 text-white grid place-content-center text-xl font-semibold",children:h}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsx("h1",{className:"text-xl font-semibold",children:t.full_name||t.username}),C.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t.is_admin?"bg-amber-100 text-amber-800 dark:bg-amber-500/20 dark:text-amber-200":"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200"}`,children:t.is_admin?"Admin":"User"})]}),C.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[C.jsx("span",{className:"mr-3",children:t.email}),C.jsx("span",{className:"text-gray-400",children:""}),C.jsxs("span",{className:"ml-3",children:["Tham gia: ",new Date(t.created_at).toLocaleDateString()]})]})]}),C.jsx("div",{className:"mt-2",children:C.jsx("button",{onClick:m,disabled:f,className:"px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white disabled:opacity-50",children:f?"ang lu...":"Lu thay i"})})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch",children:[C.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow p-6 h-full",children:[C.jsx("h2",{className:"text-base font-semibold mb-4",children:"Thng tin ti khon"}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Username"}),C.jsx("input",{value:t.username,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-zinc-800 dark:border-zinc-700"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Email"}),C.jsx("input",{type:"email",value:n,onChange:x=>r(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-zinc-800 dark:border-zinc-700"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"H v tn"}),C.jsx("input",{value:i,onChange:x=>s(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-zinc-800 dark:border-zinc-700"})]})]})]}),C.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow p-6 h-full",children:[C.jsx("h2",{className:"text-base font-semibold mb-4",children:"i mt khu"}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Mt khu hin ti"}),C.jsx("input",{type:"password",value:a,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-zinc-800 dark:border-zinc-700"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Mt khu mi"}),C.jsx("input",{type:"password",value:l,onChange:x=>u(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-zinc-800 dark:border-zinc-700"})]})]}),C.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:" i mt khu, vui lng nhp c mt khu hin ti v mt khu mi."})]})]}),C.jsx("div",{className:"md:hidden",children:C.jsx("button",{onClick:m,disabled:f,className:"w-full px-4 py-2 rounded-lg bg-primary-600 text-white disabled:opacity-50",children:f?"ang lu...":"Lu thay i"})})]}):C.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 shadow animate-pulse",children:"ang ti h s..."})},Hj=()=>{const{sessions:t,fetchSessions:e,deleteSession:n}=mX(),[r,i]=U.useState(null),[s,a]=U.useState(!1),[o,l]=U.useState(null),[u,f]=U.useState(!1),c=gf();U.useEffect(()=>{e()},[]);const h=x=>{l(x),a(!0),i(null)},d=()=>{u||(a(!1),l(null))},m=async x=>{try{f(!0),await n(x),new URLSearchParams(window.location.search).get("sid")===x&&c("/dashboard",{replace:!0})}finally{f(!1),a(!1),l(null)}};return C.jsxs("div",{className:"space-y-1 pr-2",children:[t.length===0?C.jsx("div",{className:"text-xs text-gray-500 px-3",children:"Cha c on chat"}):C.jsx("ul",{className:"space-y-1",children:t.map(x=>C.jsxs("li",{className:"group relative",children:[C.jsx(yu,{to:`/dashboard?sid=${x.id}`,className:"block px-3 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-200 truncate pr-8",title:x.title||"on Chat",children:x.title||"on Chat"}),C.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),i(r===x.id?null:x.id)},className:"absolute right-1 top-1/2 -translate-y-1/2 hidden group-hover:inline-flex h-7 w-7 items-center justify-center rounded hover:bg-gray-200 dark:hover:bg-gray-700",title:"Ty chn",children:C.jsx(kee,{className:"h-4 w-4"})}),r===x.id&&C.jsx("div",{className:"absolute right-2 top-7 z-10 w-40 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg py-1",children:C.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),h(x.id)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-gray-800 flex items-center gap-2",children:[C.jsx(Fm,{className:"h-4 w-4"})," Xa on chat"]})})]},x.id))}),s&&C.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[C.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:d}),C.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[C.jsx("button",{className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:d,children:C.jsx(sd,{className:"h-4 w-4"})}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:C.jsx(PR,{className:"h-5 w-5"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Xa phin chat?"}),C.jsx("p",{className:"text-sm text-gray-600",children:"Hnh ng ny s xa ton b tin nhn trong phin v khng th hon tc."})]})]}),C.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[C.jsx("button",{onClick:d,disabled:u,className:"px-4 py-2 rounded border bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Hy"}),C.jsx("button",{onClick:()=>o&&m(o),disabled:u,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:u?"ang xa...":"Xa"})]})]})]})]})},Go=({children:t})=>{const{user:e,logout:n}=Ry(),{brandingConfig:r}=WG(),i=gf(),[s,a]=he.useState(()=>{const m=localStorage.getItem("theme");return m||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});he.useEffect(()=>{const m=document.documentElement;s==="dark"?m.classList.add("dark"):m.classList.remove("dark"),localStorage.setItem("theme",s)},[s]);const o=()=>a(m=>m==="dark"?"light":"dark"),[l,u]=he.useState(!1),f=()=>{n(),i("/login")},c=[{name:"on Chat Mi",href:"/dashboard",icon:O1},{name:"Lch s chat",href:"/dashboard/history",icon:pT},{name:"H s",href:"/dashboard/profile",icon:JG}],h=[{name:"Dashboard",href:"/admin",icon:fT},{name:"Qun l User",href:"/admin/users",icon:Yx},{name:"Qun l d liu",href:"/admin/documents",icon:pT}],d=e!=null&&e.is_admin?h:c;return C.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0a0a]",children:[C.jsx("header",{className:"bg-white shadow-sm border-b dark:bg-[#0d0d0d] dark:border-gray-800",children:C.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:C.jsxs("div",{className:"flex justify-between items-center h-16",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{className:"md:hidden inline-flex items-center justify-center h-9 w-9 rounded-md ring-1 ring-gray-200 bg-white hover:bg-gray-50 text-gray-700",onClick:()=>u(!0),"aria-label":"M menu",children:C.jsx($ee,{className:"h-5 w-5"})}),C.jsxs(yu,{to:"/dashboard",className:"flex items-center space-x-2",children:[r!=null&&r.brand_logo_url?C.jsx("img",{src:r.brand_logo_url,alt:r.brand_name||"Logo",style:{height:r.brand_logo_height||"32px"}}):null,C.jsx("span",{className:"text-lg sm:text-xl font-extrabold",style:{color:"var(--brand-title-color, #308748)"},children:(r==null?void 0:r.brand_name)||"Dalat Hasfarm AI Chat"}),C.jsx("span",{className:"hidden sm:inline-block h-2.5 w-2.5 rounded-full bg-secondary-500"})]})]}),C.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[C.jsx("button",{onClick:o,title:s==="dark"?"Chuyn nn sng":"Chuyn nn ti",className:"flex items-center justify-center h-9 w-9 rounded-full ring-1 ring-gray-200 bg-white hover:bg-gray-50 text-gray-600 hover:text-gray-900 transition-colors",children:s==="dark"?C.jsx(ote,{className:"h-5 w-5"}):C.jsx(Xee,{className:"h-5 w-5"})}),C.jsxs("span",{className:"hidden sm:inline text-sm text-gray-700 dark:text-gray-200",children:["Xin cho, ",e==null?void 0:e.full_name]}),(e==null?void 0:e.is_admin)&&C.jsx("span",{className:"hidden sm:inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-700",children:"Admin"}),C.jsxs("button",{onClick:f,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-900 dark:text-gray-200 dark:hover:text-white",children:[C.jsx(Hee,{className:"h-4 w-4"}),C.jsx("span",{className:"hidden sm:inline",children:"ng xut"})]})]})]})})}),l&&C.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>u(!1)}),C.jsxs("nav",{className:"absolute left-0 top-0 h-full w-72 bg-white dark:bg-[#0d0d0d] shadow-lg p-4 overflow-y-auto",children:[C.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[C.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:"Menu"}),C.jsx("button",{onClick:()=>u(!1),className:"h-8 w-8 inline-flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:C.jsx(sd,{className:"h-4 w-4"})})]}),C.jsxs("div",{className:"space-y-2",children:[d.map(m=>{const x=m.icon;return C.jsxs(yu,{to:m.href,onClick:()=>u(!1),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary-50 hover:text-primary-700 dark:text-gray-200 dark:hover:bg-gray-800",children:[C.jsx(x,{className:"h-5 w-5"}),C.jsx("span",{children:m.name})]},m.name)}),e&&!e.is_admin&&C.jsxs("div",{className:"mt-6",children:[C.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 mb-2",children:"on Chat"}),C.jsx(Hj,{})]})]})]})]}),C.jsxs("div",{className:"flex",children:[C.jsx("nav",{className:"hidden md:block fixed top-16 left-0 w-64 bg-white shadow-sm dark:bg-[#0d0d0d] dark:border-r dark:border-gray-800 h-[calc(100vh-4rem)] overflow-y-auto z-40",children:C.jsx("div",{className:"p-4",children:C.jsxs("nav",{className:"space-y-2",children:[d.map(m=>{const x=m.icon;return C.jsxs(yu,{to:m.href,className:"flex items-center space-x-3 px-3 py-2 text-gray-700 rounded-lg hover:bg-primary-50 hover:text-primary-700 transition-colors dark:text-gray-200 dark:hover:bg-gray-800 dark:hover:text-white",children:[C.jsx(x,{className:"h-5 w-5"}),C.jsx("span",{children:m.name})]},m.name)}),e&&!e.is_admin&&C.jsxs("div",{className:"mt-6",children:[C.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 mb-2",children:"on Chat"}),C.jsx(Hj,{})]})]})})}),C.jsx("main",{className:"flex-1 p-4 sm:p-6 text-gray-900 dark:bg-[#0a0a0a] dark:text-gray-100 min-h-screen md:ml-64",children:t})]})]})},mHe=()=>{const[t,e]=U.useState(""),[n,r]=U.useState(!1),[i,s]=U.useState(!1),a=async o=>{o.preventDefault(),r(!0);try{await Ht.post("/auth/request-password-reset",{email:t.trim()}),s(!0),zt.success("Nu email ca bn tn ti trong h thng, mt lin kt t li mt khu  c gi.")}catch{s(!0),zt.success("Nu email ca bn tn ti trong h thng, mt lin kt t li mt khu  c gi.")}finally{r(!1)}};return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-8",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Qun mt khu"}),C.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:C.jsx(yu,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Quay li ng nhp"})})]}),i?C.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:"Nu email ca bn tn ti trong h thng, mt lin kt t li mt khu  c gi n."}):C.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),C.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:o=>e(o.target.value),className:"input-field mt-1 w-full",placeholder:"Nhp email ca bn"})]}),C.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full flex justify-center",children:n?"ang gi yu cu...":"Gi yu cu"})]})]})})};function gHe(){return C.jsx(wee,{children:C.jsx(YQ,{children:C.jsxs(AY,{children:[C.jsx(qi,{path:"/login",element:C.jsx($ne,{})}),C.jsx(qi,{path:"/register",element:C.jsx(Vne,{})}),C.jsx(qi,{path:"/forgot-password",element:C.jsx(mHe,{})}),C.jsx(qi,{path:"/",element:C.jsx(eT,{to:"/dashboard",replace:!0})}),C.jsx(qi,{path:"/dashboard",element:C.jsx(Bo,{children:C.jsx(Go,{children:C.jsx(Axe,{})})})}),C.jsx(qi,{path:"/dashboard/history",element:C.jsx(Bo,{children:C.jsx(Go,{children:C.jsx(hHe,{})})})}),C.jsx(qi,{path:"/dashboard/upload",element:C.jsx(Bo,{children:C.jsx(Go,{children:C.jsx(dHe,{})})})}),C.jsx(qi,{path:"/dashboard/profile",element:C.jsx(Bo,{children:C.jsx(Go,{children:C.jsx(pHe,{})})})}),C.jsx(qi,{path:"/admin",element:C.jsx(Bo,{requireAdmin:!0,children:C.jsx(Go,{children:C.jsx(AS,{})})})}),C.jsx(qi,{path:"/admin/documents",element:C.jsx(Bo,{requireAdmin:!0,children:C.jsx(Go,{children:C.jsx(aHe,{})})})}),C.jsx(qi,{path:"/admin/users",element:C.jsx(Bo,{requireAdmin:!0,children:C.jsx(Go,{children:C.jsx(oHe,{})})})}),C.jsx(qi,{path:"/admin/faqs",element:C.jsx(Bo,{requireAdmin:!0,children:C.jsx(Go,{children:C.jsx(lHe,{})})})}),C.jsx(qi,{path:"/admin/config",element:C.jsx(Bo,{requireAdmin:!0,children:C.jsx(Go,{children:C.jsx(uHe,{})})})})]})})})}aC.createRoot(document.getElementById("root")).render(C.jsx(he.StrictMode,{children:C.jsxs(IY,{children:[C.jsx(gHe,{}),C.jsx(wZ,{position:"top-right"})]})}));
